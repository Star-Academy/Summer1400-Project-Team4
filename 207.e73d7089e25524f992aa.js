(self.webpackChunketl=self.webpackChunketl||[]).push([[207],{70:()=>{!function(){"use strict";var ie,X,q,Ie,Ue,ht,fe,We,Je,i,Et,tt,nt,_e="leader-line",Be={top:1,right:2,bottom:3,left:4},wt={straight:1,arc:2,fluid:3,magnet:4,grid:5},Fe="behind",at={disc:{elmId:"leader-line-disc",noRotate:!0,bBox:{left:-5,top:-5,width:10,height:10,right:5,bottom:5},widthR:2.5,heightR:2.5,bCircle:5,sideLen:5,backLen:5,overhead:0,outlineBase:1,outlineMax:4},square:{elmId:"leader-line-square",noRotate:!0,bBox:{left:-5,top:-5,width:10,height:10,right:5,bottom:5},widthR:2.5,heightR:2.5,bCircle:5,sideLen:5,backLen:5,overhead:0,outlineBase:1,outlineMax:4},arrow1:{elmId:"leader-line-arrow1",bBox:{left:-8,top:-8,width:16,height:16,right:8,bottom:8},widthR:4,heightR:4,bCircle:8,sideLen:8,backLen:8,overhead:8,outlineBase:2,outlineMax:1.5},arrow2:{elmId:"leader-line-arrow2",bBox:{left:-7,top:-8,width:11,height:16,right:4,bottom:8},widthR:2.75,heightR:4,bCircle:8,sideLen:8,backLen:7,overhead:4,outlineBase:1,outlineMax:1.75},arrow3:{elmId:"leader-line-arrow3",bBox:{left:-4,top:-5,width:12,height:10,right:8,bottom:5},widthR:3,heightR:2.5,bCircle:8,sideLen:5,backLen:4,overhead:8,outlineBase:1,outlineMax:2.5},hand:{elmId:"leader-line-hand",bBox:{left:-3,top:-12,width:40,height:24,right:37,bottom:12},widthR:10,heightR:6,bCircle:37,sideLen:12,backLen:3,overhead:37},crosshair:{elmId:"leader-line-crosshair",noRotate:!0,bBox:{left:-96,top:-96,width:192,height:192,right:96,bottom:96},widthR:48,heightR:48,bCircle:96,sideLen:96,backLen:96,overhead:0}},mt={behind:Fe,disc:"disc",square:"square",arrow1:"arrow1",arrow2:"arrow2",arrow3:"arrow3",hand:"hand",crosshair:"crosshair"},ot={disc:"disc",square:"square",arrow1:"arrow1",arrow2:"arrow2",arrow3:"arrow3",hand:"hand",crosshair:"crosshair"},gt=[1,2,3,4],je="auto",Ct={x:"left",y:"top",width:"width",height:"height"},rt=.5522847,Re=.25*Math.PI,st=/^\s*(\-?[\d\.]+)\s*(\%)?\s*$/,H="http://www.w3.org/2000/svg",He="-ms-scroll-limit"in document.documentElement.style&&"-ms-ime-align"in document.documentElement.style&&!window.navigator.msPointerEnabled,Ae=!He&&!!document.uniqueID,Ke="MozAppearance"in document.documentElement.style,lt=!(He||Ke||!window.chrome||!window.CSS),me=!(He||Ae||Ke||lt||window.chrome||!("WebkitAppearance"in document.documentElement.style)),At=Ae||He?.2:.1,Ce={path:3,lineColor:"coral",lineSize:4,plugSE:[Fe,"arrow1"],plugSizeSE:[1,1],lineOutlineEnabled:!1,lineOutlineColor:"indianred",lineOutlineSize:.25,plugOutlineEnabledSE:[!1,!1],plugOutlineSizeSE:[1,1]},qe=(Et={}.toString,nt=(tt={}.hasOwnProperty.toString).call(Object),function(e){var t,n;return e&&"[object Object]"===Et.call(e)&&(!(t=Object.getPrototypeOf(e))||(n=t.hasOwnProperty("constructor")&&t.constructor)&&"function"==typeof n&&tt.call(n)===nt)}),Ee=Number.isFinite||function(e){return"number"==typeof e&&window.isFinite(e)},L=function(){var e,t={ease:[.25,.1,.25,1],linear:[0,0,1,1],"ease-in":[.42,0,1,1],"ease-out":[0,0,.58,1],"ease-in-out":[.42,0,.58,1]},n=1e3/60/2,a=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame||function(c){setTimeout(c,n)},o=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.msCancelAnimationFrame||function(c){clearTimeout(c)},r=Number.isFinite||function(c){return"number"==typeof c&&window.isFinite(c)},S=[],f=0;function v(){var c=Date.now(),k=!1;e&&(o.call(window,e),e=null),S.forEach(function(u){var d,p,y;if(u.framesStart){if((d=c-u.framesStart)>=u.duration&&u.count&&u.loopsLeft<=1)return y=u.frames[u.lastFrame=u.reverse?0:u.frames.length-1],u.frameCallback(y.value,!0,y.timeRatio,y.outputRatio),void(u.framesStart=null);if(d>u.duration){if(p=Math.floor(d/u.duration),u.count){if(p>=u.loopsLeft)return y=u.frames[u.lastFrame=u.reverse?0:u.frames.length-1],u.frameCallback(y.value,!0,y.timeRatio,y.outputRatio),void(u.framesStart=null);u.loopsLeft-=p}u.framesStart+=u.duration*p,d=c-u.framesStart}u.reverse&&(d=u.duration-d),y=u.frames[u.lastFrame=Math.round(d/n)],!1!==u.frameCallback(y.value,!1,y.timeRatio,y.outputRatio)?k=!0:u.framesStart=null}}),k&&(e=a.call(window,v))}function s(c,k){c.framesStart=Date.now(),null!=k&&(c.framesStart-=c.duration*(c.reverse?1-k:k)),c.loopsLeft=c.count,c.lastFrame=null,v()}return{add:function(c,k,u,d,p,y,E){var M,T,A,b,h,_,m,Z,F,D,l,O,P,B=++f;function z(V,x){return{value:c(x),timeRatio:V,outputRatio:x}}if("string"==typeof p&&(p=t[p]),c=c||function(){},u<n)T=[z(0,0),z(1,1)];else{if(A=n/u,T=[z(0,0)],0===p[0]&&0===p[1]&&1===p[2]&&1===p[3])for(h=A;h<=1;h+=A)T.push(z(h,h));else for(_=b=(h=A)/10;_<=1;_+=b)D=(F=(Z=_)*Z)*Z,P=3*(l=1-Z)*F,h<=(m={x:(O=l*l*3*Z)*p[0]+P*p[2]+D,y:O*p[1]+P*p[3]+D}).x&&(T.push(z(m.x,m.y)),h+=A);T.push(z(1,1))}return S.push(M={animId:B,frameCallback:k,duration:u,count:d,frames:T,reverse:!!y}),!1!==E&&s(M,E),B},remove:function(c){var k;S.some(function(u,d){return u.animId===c&&(k=d,!(u.framesStart=null))})&&S.splice(k,1)},start:function(c,k,u){S.some(function(d){return d.animId===c&&(d.reverse=!!k,s(d,u),!0)})},stop:function(c,k){var u;return S.some(function(d){return d.animId===c&&(k?null!=d.lastFrame&&(u=d.frames[d.lastFrame].timeRatio):(u=(Date.now()-d.framesStart)/d.duration,d.reverse&&(u=1-u),u<0?u=0:1<u&&(u=1)),!(d.framesStart=null))}),u},validTiming:function(c){return"string"==typeof c?t[c]:Array.isArray(c)&&[0,1,2,3].every(function(k){return r(c[k])&&0<=c[k]&&c[k]<=1})?[c[0],c[1],c[2],c[3]]:null}}}(),g=function(e){var t={};function n(a){if(t[a])return t[a].exports;var o=t[a]={i:a,l:!1,exports:{}};return e[a].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(a,o,r){n.o(a,o)||Object.defineProperty(a,o,{configurable:!1,enumerable:!0,get:r})},n.r=function(a){Object.defineProperty(a,"__esModule",{value:!0})},n.n=function(a){var o=a&&a.__esModule?function(){return a.default}:function(){return a};return n.d(o,"a",o),o},n.o=function(a,o){return Object.prototype.hasOwnProperty.call(a,o)},n.p="",n(n.s=0)}([function(e,t,n){n.r(t);var o=[],r=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame||function(u){return setTimeout(u,1e3/60)},S=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.msCancelAnimationFrame||function(u){return clearTimeout(u)},f=void 0,v=Date.now();function s(){var u=void 0,d=void 0;f&&(S.call(window,f),f=null),o.forEach(function(p){p.event&&(p.listener(p.event),p.event=null,u=!0)}),u?(v=Date.now(),d=!0):Date.now()-v<500&&(d=!0),d&&(f=r.call(window,s))}function c(u){var d=-1;return o.some(function(p,y){return p.listener===u&&(d=y,!0)}),d}t.default={add:function(u){var d=void 0;return-1===c(u)?(o.push(d={listener:u}),function(p){d.event=p,f||s()}):null},remove:function(u){var d;-1<(d=c(u))&&(o.splice(d,1),!o.length&&f&&(S.call(window,f),f=null))}}}]).default,C={line_altColor:{iniValue:!1},line_color:{},line_colorTra:{iniValue:!1},line_strokeWidth:{},plug_enabled:{iniValue:!1},plug_enabledSE:{hasSE:!0,iniValue:!1},plug_plugSE:{hasSE:!0,iniValue:Fe},plug_colorSE:{hasSE:!0},plug_colorTraSE:{hasSE:!0,iniValue:!1},plug_markerWidthSE:{hasSE:!0},plug_markerHeightSE:{hasSE:!0},lineOutline_enabled:{iniValue:!1},lineOutline_color:{},lineOutline_colorTra:{iniValue:!1},lineOutline_strokeWidth:{},lineOutline_inStrokeWidth:{},plugOutline_enabledSE:{hasSE:!0,iniValue:!1},plugOutline_plugSE:{hasSE:!0,iniValue:Fe},plugOutline_colorSE:{hasSE:!0},plugOutline_colorTraSE:{hasSE:!0,iniValue:!1},plugOutline_strokeWidthSE:{hasSE:!0},plugOutline_inStrokeWidthSE:{hasSE:!0},position_socketXYSE:{hasSE:!0,hasProps:!0},position_plugOverheadSE:{hasSE:!0},position_path:{},position_lineStrokeWidth:{},position_socketGravitySE:{hasSE:!0},path_pathData:{},path_edge:{hasProps:!0},viewBox_bBox:{hasProps:!0},viewBox_plugBCircleSE:{hasSE:!0},lineMask_enabled:{iniValue:!1},lineMask_outlineMode:{iniValue:!1},lineMask_x:{},lineMask_y:{},lineOutlineMask_x:{},lineOutlineMask_y:{},maskBGRect_x:{},maskBGRect_y:{},capsMaskAnchor_enabledSE:{hasSE:!0,iniValue:!1},capsMaskAnchor_pathDataSE:{hasSE:!0},capsMaskAnchor_strokeWidthSE:{hasSE:!0},capsMaskMarker_enabled:{iniValue:!1},capsMaskMarker_enabledSE:{hasSE:!0,iniValue:!1},capsMaskMarker_plugSE:{hasSE:!0,iniValue:Fe},capsMaskMarker_markerWidthSE:{hasSE:!0},capsMaskMarker_markerHeightSE:{hasSE:!0},caps_enabled:{iniValue:!1},attach_plugSideLenSE:{hasSE:!0},attach_plugBackLenSE:{hasSE:!0}},I={show_on:{},show_effect:{},show_animOptions:{},show_animId:{},show_inAnim:{}},Q="fade",ne=[],ye={},zt=0,xe={},on=0;function $e(e,t){var n,a;return typeof e!=typeof t||(n=qe(e)?"obj":Array.isArray(e)?"array":"")!=(qe(t)?"obj":Array.isArray(t)?"array":"")||("obj"===n?$e(a=Object.keys(e).sort(),Object.keys(t).sort())||a.some(function(o){return $e(e[o],t[o])}):"array"===n?e.length!==t.length||e.some(function(o,r){return $e(o,t[r])}):e!==t)}function Oe(e){return e&&(qe(e)?Object.keys(e).reduce(function(t,n){return t[n]=Oe(e[n]),t},{}):Array.isArray(e)?e.map(Oe):e)}function _t(e){var t,n,a,o=1,r=e=(e+"").trim();function S(f){var v=1,s=st.exec(f);return s&&(v=parseFloat(s[1]),s[2]?v=0<=v&&v<=100?v/100:1:(v<0||1<v)&&(v=1)),v}return(t=/^(rgba|hsla|hwb|gray|device\-cmyk)\s*\(([\s\S]+)\)$/i.exec(e))?(n=t[1].toLowerCase(),a=t[2].trim().split(/\s*,\s*/),"rgba"===n&&4===a.length?(o=S(a[3]),r="rgb("+a.slice(0,3).join(", ")+")"):"hsla"===n&&4===a.length?(o=S(a[3]),r="hsl("+a.slice(0,3).join(", ")+")"):"hwb"===n&&4===a.length?(o=S(a[3]),r="hwb("+a.slice(0,3).join(", ")+")"):"gray"===n&&2===a.length?(o=S(a[1]),r="gray("+a[0]+")"):"device-cmyk"===n&&5<=a.length&&(o=S(a[4]),r="device-cmyk("+a.slice(0,4).join(", ")+")")):(t=/^\#(?:([\da-f]{6})([\da-f]{2})|([\da-f]{3})([\da-f]))$/i.exec(e))?t[1]?(o=parseInt(t[2],16)/255,r="#"+t[1]):(o=parseInt(t[4]+t[4],16)/255,r="#"+t[3]):"transparent"===e.toLocaleLowerCase()&&(o=0),[o,r]}function yt(e){return!(!e||e.nodeType!==Node.ELEMENT_NODE||"function"!=typeof e.getBoundingClientRect)}function It(e,t){var n,a,o,r,S={};if(!(o=e.ownerDocument))return console.error("Cannot get document that contains the element."),null;if(e.compareDocumentPosition(o)&Node.DOCUMENT_POSITION_DISCONNECTED)return console.error("A disconnected element was passed."),null;for(a in n=e.getBoundingClientRect())S[a]=n[a];if(!t){if(!(r=o.defaultView))return console.error("Cannot get window that contains the element."),null;S.left+=r.pageXOffset,S.right+=r.pageXOffset,S.top+=r.pageYOffset,S.bottom+=r.pageYOffset}return S}function Ut(e,t){var n,a,o=[],r=e;for(t=t||window;;){if(!(n=r.ownerDocument))return console.error("Cannot get document that contains the element."),null;if(!(a=n.defaultView))return console.error("Cannot get window that contains the element."),null;if(a===t)break;if(!(r=a.frameElement))return console.error("`baseWindow` was not found."),null;o.unshift(r)}return o}function vt(e,t){var n,a,o=0,r=0;return(a=Ut(e,t=t||window))?a.length?(a.forEach(function(S,f){var v,s,c=It(S,0<f);o+=c.left,r+=c.top,s=(v=S).ownerDocument.defaultView.getComputedStyle(v,""),c={left:v.clientLeft+parseFloat(s.paddingLeft),top:v.clientTop+parseFloat(s.paddingTop)},o+=c.left,r+=c.top}),(n=It(e,!0)).left+=o,n.right+=o,n.top+=r,n.bottom+=r,n):It(e):null}function Ge(e,t){var n=e.x-t.x,a=e.y-t.y;return Math.sqrt(n*n+a*a)}function St(e,t,n){var a=t.x-e.x,o=t.y-e.y;return{x:e.x+a*n,y:e.y+o*n,angle:Math.atan2(o,a)/(Math.PI/180)}}function Tt(e,t,n){var a=Math.atan2(e.y-t.y,t.x-e.x);return{x:t.x+Math.cos(a)*n,y:t.y+Math.sin(a)*n*-1}}function ut(e,t,n,a,o){var r=o*o,S=r*o,f=1-o,v=f*f,s=v*f,c=s*e.x+3*v*o*t.x+3*f*r*n.x+S*a.x,k=s*e.y+3*v*o*t.y+3*f*r*n.y+S*a.y,u=e.x+2*o*(t.x-e.x)+r*(n.x-2*t.x+e.x),d=e.y+2*o*(t.y-e.y)+r*(n.y-2*t.y+e.y),p=t.x+2*o*(n.x-t.x)+r*(a.x-2*n.x+t.x),y=t.y+2*o*(n.y-t.y)+r*(a.y-2*n.y+t.y),E=f*e.x+o*t.x,M=f*e.y+o*t.y,T=f*n.x+o*a.x,A=f*n.y+o*a.y,b=90-180*Math.atan2(u-p,d-y)/Math.PI;return{x:c,y:k,fromP2:{x:u,y:d},toP1:{x:p,y},fromP1:{x:E,y:M},toP2:{x:T,y:A},angle:b+=180<b?-180:180}}function xt(e,t,n,a,o){function r(d,p,y,E,M){return d*(d*(-3*p+9*y-9*E+3*M)+6*p-12*y+6*E)-3*p+3*y}var S,f,v,s,k=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],u=0;return S=(o=null==o||1<o?1:o<0?0:o)/2,[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816].forEach(function(d,p){v=r(f=S*d+S,e.x,t.x,n.x,a.x),s=r(f,e.y,t.y,n.y,a.y),u+=k[p]*Math.sqrt(v*v+s*s)}),S*u}function jt(e,t,n,a,o){for(var r,S=.5,f=1-S;r=xt(e,t,n,a,f),!(Math.abs(r-o)<=.01);)f+=(r<o?1:-1)*(S/=2);return f}function Ht(e,t){var n;return e.forEach(function(a){var o=t?a.map(function(r){var S={x:r.x,y:r.y};return t(S),S}):a;n||(n=[{type:"M",values:[o[0].x,o[0].y]}]),n.push(o.length?2===o.length?{type:"L",values:[o[1].x,o[1].y]}:{type:"C",values:[o[1].x,o[1].y,o[2].x,o[2].y,o[3].x,o[3].y]}:{type:"Z",values:[]})}),n}function Qt(e){var t=[],n=0;return e.forEach(function(a){var o=(2===a.length?Ge:xt).apply(null,a);t.push(o),n+=o}),{segsLen:t,lenAll:n}}function Pt(e,t){return null==e||null==t||e.length!==t.length||e.some(function(n,a){var o=t[a];return n.type!==o.type||n.values.some(function(r,S){return r!==o.values[S]})})}function ve(e,t,n){e.events[t]?e.events[t].indexOf(n)<0&&e.events[t].push(n):e.events[t]=[n]}function Se(e,t,n){var a;e.events[t]&&-1<(a=e.events[t].indexOf(n))&&e.events[t].splice(a,1)}function dt(e){fe&&clearTimeout(fe),ne.push(e),fe=setTimeout(function(){ne.forEach(function(t){t()}),ne=[]},0)}function ce(e,t){e.reflowTargets.indexOf(t)<0&&e.reflowTargets.push(t)}function Xt(e){e.reflowTargets.forEach(function(t){var n;n=t,setTimeout(function(){var a=n.parentNode,o=n.nextSibling;a.insertBefore(a.removeChild(n),o)},0)}),e.reflowTargets=[]}function Kt(e,t,n,a,o,r,S){var f,v,s;"auto-start-reverse"===n?("boolean"!=typeof We&&(t.setAttribute("orient","auto-start-reverse"),We=t.orientType.baseVal===SVGMarkerElement.SVG_MARKER_ORIENT_UNKNOWN),We?t.setAttribute("orient",n):((f=o.createSVGTransform()).setRotate(180,0,0),r.transform.baseVal.appendItem(f),t.setAttribute("orient","auto"),s=!0)):(t.setAttribute("orient",n),!1===We&&r.transform.baseVal.clear()),v=t.viewBox.baseVal,s?(v.x=-a.right,v.y=-a.bottom):(v.x=a.left,v.y=a.top),v.width=a.width,v.height=a.height,Ae&&ce(e,S)}function $t(e,t){return{prop:e?"markerEnd":"markerStart",orient:t?t.noRotate?"0":e?"auto":"auto-start-reverse":null}}function be(e,t){Object.keys(t).forEach(function(n){var a=t[n];e[n]=null!=a.iniValue?a.hasSE?[a.iniValue,a.iniValue]:a.iniValue:a.hasSE?a.hasProps?[{},{}]:[]:a.hasProps?{}:null})}function N(e,t,n,a,o){return a!==t[n]&&(t[n]=a,o&&o.forEach(function(r){r(e,a,n)}),!0)}function en(e){function t(S,f){return S+parseFloat(f)}var n=e.document,a=e.getComputedStyle(n.documentElement,""),o=e.getComputedStyle(n.body,""),r={x:0,y:0};return"static"!==o.position?(r.x-=[a.marginLeft,a.borderLeftWidth,a.paddingLeft,o.marginLeft,o.borderLeftWidth].reduce(t,0),r.y-=[a.marginTop,a.borderTopWidth,a.paddingTop,o.marginTop,o.borderTopWidth].reduce(t,0)):"static"!==a.position&&(r.x-=[a.marginLeft,a.borderLeftWidth].reduce(t,0),r.y-=[a.marginTop,a.borderTopWidth].reduce(t,0)),r}function tn(e){var t,n=e.document;n.getElementById("leader-line-defs")||(t=(new e.DOMParser).parseFromString('<svg xmlns="http://www.w3.org/2000/svg" version="1.1" id="leader-line-defs"><style><![CDATA[.leader-line{position:absolute;overflow:visible!important;pointer-events:none!important;font-size:16px}#leader-line-defs{width:0;height:0;position:absolute;left:0;top:0}.leader-line-line-path{fill:none}.leader-line-mask-bg-rect{fill:#fff}.leader-line-caps-mask-anchor,.leader-line-caps-mask-marker-shape{fill:#000}.leader-line-caps-mask-anchor{stroke:#000}.leader-line-caps-mask-line,.leader-line-plugs-face{stroke:transparent}.leader-line-line-mask-shape{stroke:#fff}.leader-line-line-outline-mask-shape{stroke:#000}.leader-line-plug-mask-shape{fill:#fff;stroke:#000}.leader-line-plug-outline-mask-shape{fill:#000;stroke:#fff}.leader-line-areaAnchor{position:absolute;overflow:visible!important}]]></style><defs><circle id="leader-line-disc" cx="0" cy="0" r="5"/><rect id="leader-line-square" x="-5" y="-5" width="10" height="10"/><polygon id="leader-line-arrow1" points="-8,-8 8,0 -8,8 -5,0"/><polygon id="leader-line-arrow2" points="-4,-8 4,0 -4,8 -7,5 -2,0 -7,-5"/><polygon id="leader-line-arrow3" points="-4,-5 8,0 -4,5"/><g id="leader-line-hand"><path style="fill: #fcfcfc" d="M9.19 11.14h4.75c1.38 0 2.49-1.11 2.49-2.49 0-.51-.15-.98-.41-1.37h1.3c1.38 0 2.49-1.11 2.49-2.49s-1.11-2.53-2.49-2.53h1.02c1.38 0 2.49-1.11 2.49-2.49s-1.11-2.49-2.49-2.49h14.96c1.37 0 2.49-1.11 2.49-2.49s-1.11-2.49-2.49-2.49H16.58C16-9.86 14.28-11.14 9.7-11.14c-4.79 0-6.55 3.42-7.87 4.73H-2.14v13.23h3.68C3.29 9.97 5.47 11.14 9.19 11.14L9.19 11.14Z"/><path style="fill: black" d="M13.95 12c1.85 0 3.35-1.5 3.35-3.35 0-.17-.02-.34-.04-.51h.07c1.85 0 3.35-1.5 3.35-3.35 0-.79-.27-1.51-.72-2.08 1.03-.57 1.74-1.67 1.74-2.93 0-.59-.16-1.15-.43-1.63h12.04c1.85 0 3.35-1.5 3.35-3.35 0-1.85-1.5-3.35-3.35-3.35H17.2C16.26-10.93 13.91-12 9.7-12 5.36-12 3.22-9.4 1.94-7.84c0 0-.29.33-.5.57-.63 0-3.58 0-3.58 0C-2.61-7.27-3-6.88-3-6.41v13.23c0 .47.39.86.86.86 0 0 2.48 0 3.2 0C2.9 10.73 5.29 12 9.19 12L13.95 12ZM9.19 10.28c-3.46 0-5.33-1.05-6.9-3.87-.15-.27-.44-.44-.75-.44 0 0-1.81 0-2.82 0V-5.55c1.06 0 3.11 0 3.11 0 .25 0 .44-.06.61-.25l.83-.95c1.23-1.49 2.91-3.53 6.43-3.53 3.45 0 4.9.74 5.57 1.72h-4.3c-.48 0-.86.38-.86.86s.39.86.86.86h22.34c.9 0 1.63.73 1.63 1.63 0 .9-.73 1.63-1.63 1.63H15.83c-.48 0-.86.38-.86.86 0 .47.39.86.86.86h2.52c.9 0 1.63.73 1.63 1.63s-.73 1.63-1.63 1.63h-3.12c-.48 0-.86.38-.86.86 0 .47.39.86.86.86h2.11c.88 0 1.63.76 1.63 1.67 0 .9-.73 1.63-1.63 1.63h-3.2c-.48 0-.86.39-.86.86 0 .47.39.86.86.86h1.36c.05.16.09.34.09.51 0 .9-.73 1.63-1.63 1.63C13.95 10.28 9.19 10.28 9.19 10.28Z"/></g><g id="leader-line-crosshair"><path d="M0-78.97c-43.54 0-78.97 35.43-78.97 78.97 0 43.54 35.43 78.97 78.97 78.97s78.97-35.43 78.97-78.97C78.97-43.54 43.55-78.97 0-78.97ZM76.51-1.21h-9.91v-9.11h-2.43v9.11h-11.45c-.64-28.12-23.38-50.86-51.5-51.5V-64.17h9.11V-66.6h-9.11v-9.91C42.46-75.86 75.86-42.45 76.51-1.21ZM-1.21-30.76h-9.11v2.43h9.11V-4.2c-1.44.42-2.57 1.54-2.98 2.98H-28.33v-9.11h-2.43v9.11H-50.29C-49.65-28-27.99-49.65-1.21-50.29V-30.76ZM-30.76 1.21v9.11h2.43v-9.11H-4.2c.42 1.44 1.54 2.57 2.98 2.98v24.13h-9.11v2.43h9.11v19.53C-27.99 49.65-49.65 28-50.29 1.21H-30.76ZM1.22 30.75h9.11v-2.43h-9.11V4.2c1.44-.42 2.56-1.54 2.98-2.98h24.13v9.11h2.43v-9.11h19.53C49.65 28 28 49.65 1.22 50.29V30.75ZM30.76-1.21v-9.11h-2.43v9.11H4.2c-.42-1.44-1.54-2.56-2.98-2.98V-28.33h9.11v-2.43h-9.11V-50.29C28-49.65 49.65-28 50.29-1.21H30.76ZM-1.21-76.51v9.91h-9.11v2.43h9.11v11.45c-28.12.64-50.86 23.38-51.5 51.5H-64.17v-9.11H-66.6v9.11h-9.91C-75.86-42.45-42.45-75.86-1.21-76.51ZM-76.51 1.21h9.91v9.11h2.43v-9.11h11.45c.64 28.12 23.38 50.86 51.5 51.5v11.45h-9.11v2.43h9.11v9.91C-42.45 75.86-75.86 42.45-76.51 1.21ZM1.22 76.51v-9.91h9.11v-2.43h-9.11v-11.45c28.12-.64 50.86-23.38 51.5-51.5h11.45v9.11h2.43v-9.11h9.91C75.86 42.45 42.45 75.86 1.22 76.51Z"/><path d="M0 83.58-7.1 96 7.1 96Z"/><path d="M0-83.58 7.1-96-7.1-96"/><path d="M83.58 0 96 7.1 96-7.1Z"/><path d="M-83.58 0-96-7.1-96 7.1Z"/></g></defs></svg>',"image/svg+xml"),n.body.appendChild(t.documentElement),function(e){e.SVGPathElement.prototype.getPathData&&e.SVGPathElement.prototype.setPathData||function(){var t={Z:"Z",M:"M",L:"L",C:"C",Q:"Q",A:"A",H:"H",V:"V",S:"S",T:"T",z:"Z",m:"m",l:"l",c:"c",q:"q",a:"a",h:"h",v:"v",s:"s",t:"t"},n=function(u){this._string=u,this._currentIndex=0,this._endIndex=this._string.length,this._prevCommand=null,this._skipOptionalSpaces()},a=-1!==e.navigator.userAgent.indexOf("MSIE ");n.prototype={parseSegment:function(){var u=this._string[this._currentIndex],d=t[u]?t[u]:null;if(null===d){if(null===this._prevCommand||null===(d=("+"===u||"-"===u||"."===u||"0"<=u&&u<="9")&&"Z"!==this._prevCommand?"M"===this._prevCommand?"L":"m"===this._prevCommand?"l":this._prevCommand:null))return null}else this._currentIndex+=1;var p=null,y=(this._prevCommand=d).toUpperCase();return"H"===y||"V"===y?p=[this._parseNumber()]:"M"===y||"L"===y||"T"===y?p=[this._parseNumber(),this._parseNumber()]:"S"===y||"Q"===y?p=[this._parseNumber(),this._parseNumber(),this._parseNumber(),this._parseNumber()]:"C"===y?p=[this._parseNumber(),this._parseNumber(),this._parseNumber(),this._parseNumber(),this._parseNumber(),this._parseNumber()]:"A"===y?p=[this._parseNumber(),this._parseNumber(),this._parseNumber(),this._parseArcFlag(),this._parseArcFlag(),this._parseNumber(),this._parseNumber()]:"Z"===y&&(this._skipOptionalSpaces(),p=[]),null===p||0<=p.indexOf(null)?null:{type:d,values:p}},hasMoreData:function(){return this._currentIndex<this._endIndex},peekSegmentType:function(){var u=this._string[this._currentIndex];return t[u]?t[u]:null},initialCommandIsMoveTo:function(){if(!this.hasMoreData())return!0;var u=this.peekSegmentType();return"M"===u||"m"===u},_isCurrentSpace:function(){var u=this._string[this._currentIndex];return u<=" "&&(" "===u||"\n"===u||"\t"===u||"\r"===u||"\f"===u)},_skipOptionalSpaces:function(){for(;this._currentIndex<this._endIndex&&this._isCurrentSpace();)this._currentIndex+=1;return this._currentIndex<this._endIndex},_skipOptionalSpacesOrDelimiter:function(){return!(this._currentIndex<this._endIndex&&!this._isCurrentSpace()&&","!==this._string[this._currentIndex])&&(this._skipOptionalSpaces()&&this._currentIndex<this._endIndex&&","===this._string[this._currentIndex]&&(this._currentIndex+=1,this._skipOptionalSpaces()),this._currentIndex<this._endIndex)},_parseNumber:function(){var u=0,d=0,p=1,y=0,E=1,M=1,T=this._currentIndex;if(this._skipOptionalSpaces(),this._currentIndex<this._endIndex&&"+"===this._string[this._currentIndex]?this._currentIndex+=1:this._currentIndex<this._endIndex&&"-"===this._string[this._currentIndex]&&(this._currentIndex+=1,E=-1),this._currentIndex===this._endIndex||(this._string[this._currentIndex]<"0"||"9"<this._string[this._currentIndex])&&"."!==this._string[this._currentIndex])return null;for(var A=this._currentIndex;this._currentIndex<this._endIndex&&"0"<=this._string[this._currentIndex]&&this._string[this._currentIndex]<="9";)this._currentIndex+=1;if(this._currentIndex!==A)for(var b=this._currentIndex-1,h=1;A<=b;)d+=h*(this._string[b]-"0"),b-=1,h*=10;if(this._currentIndex<this._endIndex&&"."===this._string[this._currentIndex]){if(this._currentIndex+=1,this._currentIndex>=this._endIndex||this._string[this._currentIndex]<"0"||"9"<this._string[this._currentIndex])return null;for(;this._currentIndex<this._endIndex&&"0"<=this._string[this._currentIndex]&&this._string[this._currentIndex]<="9";)p*=10,y+=(this._string.charAt(this._currentIndex)-"0")/p,this._currentIndex+=1}if(this._currentIndex!==T&&this._currentIndex+1<this._endIndex&&("e"===this._string[this._currentIndex]||"E"===this._string[this._currentIndex])&&"x"!==this._string[this._currentIndex+1]&&"m"!==this._string[this._currentIndex+1]){if(this._currentIndex+=1,"+"===this._string[this._currentIndex]?this._currentIndex+=1:"-"===this._string[this._currentIndex]&&(this._currentIndex+=1,M=-1),this._currentIndex>=this._endIndex||this._string[this._currentIndex]<"0"||"9"<this._string[this._currentIndex])return null;for(;this._currentIndex<this._endIndex&&"0"<=this._string[this._currentIndex]&&this._string[this._currentIndex]<="9";)u*=10,u+=this._string[this._currentIndex]-"0",this._currentIndex+=1}var _=d+y;return _*=E,u&&(_*=Math.pow(10,M*u)),T===this._currentIndex?null:(this._skipOptionalSpacesOrDelimiter(),_)},_parseArcFlag:function(){if(this._currentIndex>=this._endIndex)return null;var u=null,d=this._string[this._currentIndex];if(this._currentIndex+=1,"0"===d)u=0;else{if("1"!==d)return null;u=1}return this._skipOptionalSpacesOrDelimiter(),u}};var o=function(u){if(!u||0===u.length)return[];var d=new n(u),p=[];if(d.initialCommandIsMoveTo())for(;d.hasMoreData();){var y=d.parseSegment();if(null===y)break;p.push(y)}return p},r=e.SVGPathElement.prototype.setAttribute,S=e.SVGPathElement.prototype.removeAttribute,f=e.Symbol?e.Symbol():"__cachedPathData",v=e.Symbol?e.Symbol():"__cachedNormalizedPathData",s=function(u,d,p,y,E,M,T,A,b,h){var m,Z,F,D,l=function(ue,ae,he){return{x:ue*Math.cos(he)-ae*Math.sin(he),y:ue*Math.sin(he)+ae*Math.cos(he)}},O=Math.PI*T/180,P=[];if(h)m=h[0],Z=h[1],F=h[2],D=h[3];else{var B=l(u,d,-O);u=B.x,d=B.y;var z=l(p,y,-O),V=(u-(p=z.x))/2,x=(d-(y=z.y))/2,Y=V*V/(E*E)+x*x/(M*M);1<Y&&(E*=Y=Math.sqrt(Y),M*=Y);var oe=E*E,j=M*M,pe=(A===b?-1:1)*Math.sqrt(Math.abs((oe*j-oe*x*x-j*V*V)/(oe*x*x+j*V*V)));F=pe*E*x/M+(u+p)/2,D=pe*-M*V/E+(d+y)/2,m=Math.asin(parseFloat(((d-D)/M).toFixed(9))),Z=Math.asin(parseFloat(((y-D)/M).toFixed(9))),u<F&&(m=Math.PI-m),p<F&&(Z=Math.PI-Z),m<0&&(m=2*Math.PI+m),Z<0&&(Z=2*Math.PI+Z),b&&Z<m&&(m-=2*Math.PI),!b&&m<Z&&(Z-=2*Math.PI)}var re=Z-m;if(Math.abs(re)>120*Math.PI/180){var ke=Z,ct=p,$=y;Z=b&&m<Z?m+120*Math.PI/180*1:m+120*Math.PI/180*-1,p=F+E*Math.cos(Z),y=D+M*Math.sin(Z),P=s(p,y,ct,$,E,M,T,0,b,[Z,ke,F,D])}re=Z-m;var G=Math.cos(m),R=Math.sin(m),ee=Math.cos(Z),W=Math.sin(Z),te=Math.tan(re/4),ge=4/3*E*te,le=4/3*M*te,Ze=[u,d],Ne=[u+ge*R,d-le*G],Ye=[p+ge*W,y-le*ee],se=[p,y];if(Ne[0]=2*Ze[0]-Ne[0],Ne[1]=2*Ze[1]-Ne[1],h)return[Ne,Ye,se].concat(P);P=[Ne,Ye,se].concat(P).join().split(",");var w=[],J=[];return P.forEach(function(ue,ae){J.push(ae%2?l(P[ae-1],P[ae],O).y:l(P[ae],P[ae+1],O).x),6===J.length&&(w.push(J),J=[])}),w},c=function(u){return u.map(function(d){return{type:d.type,values:Array.prototype.slice.call(d.values)}})},k=function(u){var d=[],p=null,y=null,E=null,M=null,T=null,A=null,b=null;return u.forEach(function(h){if("M"===h.type){var _=h.values[0],m=h.values[1];d.push({type:"M",values:[_,m]}),M=A=_,T=b=m}else if("C"===h.type){var Z=h.values[0],F=h.values[1],D=h.values[2],l=h.values[3];d.push({type:"C",values:[Z,F,D,l,_=h.values[4],m=h.values[5]]}),y=D,E=l,M=_,T=m}else if("L"===h.type)d.push({type:"L",values:[_=h.values[0],m=h.values[1]]}),M=_,T=m;else if("H"===h.type)d.push({type:"L",values:[_=h.values[0],T]}),M=_;else if("V"===h.type)d.push({type:"L",values:[M,m=h.values[0]]}),T=m;else if("S"===h.type)"C"===p||"S"===p?(O=M+(M-y),P=T+(T-E)):(O=M,P=T),d.push({type:"C",values:[O,P,D=h.values[0],l=h.values[1],_=h.values[2],m=h.values[3]]}),y=D,E=l,M=_,T=m;else if("T"===h.type){"Q"===p||"T"===p?(Z=M+(M-y),F=T+(T-E)):(Z=M,F=T);var O=M+2*(Z-M)/3,P=T+2*(F-T)/3,B=(_=h.values[0])+2*(Z-_)/3,z=(m=h.values[1])+2*(F-m)/3;d.push({type:"C",values:[O,P,B,z,_,m]}),y=Z,E=F,M=_,T=m}else if("Q"===h.type)d.push({type:"C",values:[O=M+2*((Z=h.values[0])-M)/3,P=T+2*((F=h.values[1])-T)/3,B=(_=h.values[2])+2*(Z-_)/3,z=(m=h.values[3])+2*(F-m)/3,_,m]}),y=Z,E=F,M=_,T=m;else if("A"===h.type){var V=h.values[0],x=h.values[1],Y=h.values[2],oe=h.values[3],j=h.values[4];_=h.values[5],m=h.values[6],0===V||0===x?(d.push({type:"C",values:[M,T,_,m,_,m]}),M=_,T=m):(M!==_||T!==m)&&s(M,T,_,m,V,x,Y,oe,j).forEach(function(K){d.push({type:"C",values:K}),M=_,T=m})}else"Z"===h.type&&(d.push(h),M=A,T=b);p=h.type}),d};e.SVGPathElement.prototype.setAttribute=function(u,d){"d"===u&&(this[f]=null,this[v]=null),r.call(this,u,d)},e.SVGPathElement.prototype.removeAttribute=function(u,d){"d"===u&&(this[f]=null,this[v]=null),S.call(this,u)},e.SVGPathElement.prototype.getPathData=function(u){if(u&&u.normalize){if(this[v])return c(this[v]);this[f]?A=c(this[f]):(A=o(this.getAttribute("d")||""),this[f]=c(A));var d=k((p=[],T=M=E=y=null,A.forEach(function(b){var h=b.type;if("M"===h){var _=b.values[0],m=b.values[1];p.push({type:"M",values:[_,m]}),y=M=_,E=T=m}else if("m"===h)p.push({type:"M",values:[_=y+b.values[0],m=E+b.values[1]]}),y=M=_,E=T=m;else if("L"===h)p.push({type:"L",values:[_=b.values[0],m=b.values[1]]}),y=_,E=m;else if("l"===h)p.push({type:"L",values:[_=y+b.values[0],m=E+b.values[1]]}),y=_,E=m;else if("C"===h){var Z=b.values[0],F=b.values[1],D=b.values[2],l=b.values[3];p.push({type:"C",values:[Z,F,D,l,_=b.values[4],m=b.values[5]]}),y=_,E=m}else"c"===h?(p.push({type:"C",values:[Z=y+b.values[0],F=E+b.values[1],D=y+b.values[2],l=E+b.values[3],_=y+b.values[4],m=E+b.values[5]]}),y=_,E=m):"Q"===h?(p.push({type:"Q",values:[Z=b.values[0],F=b.values[1],_=b.values[2],m=b.values[3]]}),y=_,E=m):"q"===h?(p.push({type:"Q",values:[Z=y+b.values[0],F=E+b.values[1],_=y+b.values[2],m=E+b.values[3]]}),y=_,E=m):"A"===h?(p.push({type:"A",values:[b.values[0],b.values[1],b.values[2],b.values[3],b.values[4],_=b.values[5],m=b.values[6]]}),y=_,E=m):"a"===h?(p.push({type:"A",values:[b.values[0],b.values[1],b.values[2],b.values[3],b.values[4],_=y+b.values[5],m=E+b.values[6]]}),y=_,E=m):"H"===h?(p.push({type:"H",values:[_=b.values[0]]}),y=_):"h"===h?(p.push({type:"H",values:[_=y+b.values[0]]}),y=_):"V"===h?(p.push({type:"V",values:[m=b.values[0]]}),E=m):"v"===h?(p.push({type:"V",values:[m=E+b.values[0]]}),E=m):"S"===h?(p.push({type:"S",values:[D=b.values[0],l=b.values[1],_=b.values[2],m=b.values[3]]}),y=_,E=m):"s"===h?(p.push({type:"S",values:[D=y+b.values[0],l=E+b.values[1],_=y+b.values[2],m=E+b.values[3]]}),y=_,E=m):"T"===h?(p.push({type:"T",values:[_=b.values[0],m=b.values[1]]}),y=_,E=m):"t"===h?(p.push({type:"T",values:[_=y+b.values[0],m=E+b.values[1]]}),y=_,E=m):"Z"!==h&&"z"!==h||(p.push({type:"Z",values:[]}),y=M,E=T)}),p));return this[v]=c(d),d}if(this[f])return c(this[f]);var p,y,E,M,T,A=o(this.getAttribute("d")||"");return this[f]=c(A),A},e.SVGPathElement.prototype.setPathData=function(u){if(0===u.length)a?this.setAttribute("d",""):this.removeAttribute("d");else{for(var d="",p=0,y=u.length;p<y;p+=1){var E=u[p];0<p&&(d+=" "),d+=E.type,E.values&&0<E.values.length&&(d+=" "+E.values.join(" "))}this.setAttribute("d",d)}},e.SVGRectElement.prototype.getPathData=function(u){var d=this.x.baseVal.value,p=this.y.baseVal.value,y=this.width.baseVal.value,E=this.height.baseVal.value,M=this.hasAttribute("rx")?this.rx.baseVal.value:this.ry.baseVal.value,T=this.hasAttribute("ry")?this.ry.baseVal.value:this.rx.baseVal.value;y/2<M&&(M=y/2),E/2<T&&(T=E/2);var A=[{type:"M",values:[d+M,p]},{type:"H",values:[d+y-M]},{type:"A",values:[M,T,0,0,1,d+y,p+T]},{type:"V",values:[p+E-T]},{type:"A",values:[M,T,0,0,1,d+y-M,p+E]},{type:"H",values:[d+M]},{type:"A",values:[M,T,0,0,1,d,p+E-T]},{type:"V",values:[p+T]},{type:"A",values:[M,T,0,0,1,d+M,p]},{type:"Z",values:[]}];return A=A.filter(function(b){return"A"!==b.type||0!==b.values[0]&&0!==b.values[1]}),u&&!0===u.normalize&&(A=k(A)),A},e.SVGCircleElement.prototype.getPathData=function(u){var d=this.cx.baseVal.value,p=this.cy.baseVal.value,y=this.r.baseVal.value,E=[{type:"M",values:[d+y,p]},{type:"A",values:[y,y,0,0,1,d,p+y]},{type:"A",values:[y,y,0,0,1,d-y,p]},{type:"A",values:[y,y,0,0,1,d,p-y]},{type:"A",values:[y,y,0,0,1,d+y,p]},{type:"Z",values:[]}];return u&&!0===u.normalize&&(E=k(E)),E},e.SVGEllipseElement.prototype.getPathData=function(u){var d=this.cx.baseVal.value,p=this.cy.baseVal.value,y=this.rx.baseVal.value,E=this.ry.baseVal.value,M=[{type:"M",values:[d+y,p]},{type:"A",values:[y,E,0,0,1,d,p+E]},{type:"A",values:[y,E,0,0,1,d-y,p]},{type:"A",values:[y,E,0,0,1,d,p-E]},{type:"A",values:[y,E,0,0,1,d+y,p]},{type:"Z",values:[]}];return u&&!0===u.normalize&&(M=k(M)),M},e.SVGLineElement.prototype.getPathData=function(){return[{type:"M",values:[this.x1.baseVal.value,this.y1.baseVal.value]},{type:"L",values:[this.x2.baseVal.value,this.y2.baseVal.value]}]},e.SVGPolylineElement.prototype.getPathData=function(){for(var u=[],d=0;d<this.points.numberOfItems;d+=1){var p=this.points.getItem(d);u.push({type:0===d?"M":"L",values:[p.x,p.y]})}return u},e.SVGPolygonElement.prototype.getPathData=function(){for(var u=[],d=0;d<this.points.numberOfItems;d+=1){var p=this.points.getItem(d);u.push({type:0===d?"M":"L",values:[p.x,p.y]})}return u.push({type:"Z",values:[]}),u}}()}(e))}function pt(e,t){t!==e.isShown&&(!!t!=!!e.isShown&&(e.svg.style.visibility=t?"":"hidden"),e.isShown=t,e.events&&e.events.svgShow&&e.events.svgShow.forEach(function(n){n(e,t)}))}function Le(e,t){var n,a,o,r,S,f,v,s,c,k,u,d,p,y,E,M,T,A,b,h,_,m,Z,F,D,l,O,P,B,z,V,x,Y,oe,j,K,pe,re,ke,ct,$,G,R,ee,W,te,ge,le,Ze,Ne,Ye,se={};t.line&&(se.line=(a=(n=e).options,S=!1,S=N(n,o=n.curStats,"line_color",a.lineColor,(r=n.events).cur_line_color)||S,S=N(n,o,"line_colorTra",_t(o.line_color)[0]<1)||S,S=N(n,o,"line_strokeWidth",a.lineSize,r.cur_line_strokeWidth)||S)),(t.plug||se.line)&&(se.plug=(v=(f=e).options,s=f.curStats,c=f.events,k=!1,[0,1].forEach(function(w){var J,ue,ae,he,ze,Yt,Jt,et,bt=v.plugSE[w];k=N(f,s.plug_enabledSE,w,bt!==Fe)||k,k=N(f,s.plug_plugSE,w,bt)||k,k=N(f,s.plug_colorSE,w,et=v.plugColorSE[w]||s.line_color,c.cur_plug_colorSE)||k,k=N(f,s.plug_colorTraSE,w,_t(et)[0]<1)||k,bt!==Fe&&(he=ue=(J=at[ot[bt]]).widthR*v.plugSizeSE[w],ze=ae=J.heightR*v.plugSizeSE[w],me&&(he*=s.line_strokeWidth,ze*=s.line_strokeWidth),k=N(f,s.plug_markerWidthSE,w,he)||k,k=N(f,s.plug_markerHeightSE,w,ze)||k,s.capsMaskMarker_markerWidthSE[w]=ue,s.capsMaskMarker_markerHeightSE[w]=ae),s.plugOutline_plugSE[w]=s.capsMaskMarker_plugSE[w]=bt,s.plug_enabledSE[w]?(s.position_plugOverheadSE[w]=J.overhead*(et=s.line_strokeWidth/Ce.lineSize*v.plugSizeSE[w]),s.viewBox_plugBCircleSE[w]=J.bCircle*et,Yt=J.sideLen*et,Jt=J.backLen*et):(s.position_plugOverheadSE[w]=-s.line_strokeWidth/2,s.viewBox_plugBCircleSE[w]=Yt=Jt=0),N(f,s.attach_plugSideLenSE,w,Yt,c.cur_attach_plugSideLenSE),N(f,s.attach_plugBackLenSE,w,Jt,c.cur_attach_plugBackLenSE),s.capsMaskAnchor_enabledSE[w]=!s.plug_enabledSE[w]}),k=N(f,s,"plug_enabled",s.plug_enabledSE[0]||s.plug_enabledSE[1])||k)),(t.lineOutline||se.line)&&(se.lineOutline=(p=(u=e).options,E=!1,E=N(u,y=u.curStats,"lineOutline_enabled",p.lineOutlineEnabled)||E,E=N(u,y,"lineOutline_color",p.lineOutlineColor)||E,E=N(u,y,"lineOutline_colorTra",_t(y.lineOutline_color)[0]<1)||E,E=N(u,y,"lineOutline_strokeWidth",y.line_strokeWidth-2*(d=y.line_strokeWidth*p.lineOutlineSize))||E,E=N(u,y,"lineOutline_inStrokeWidth",y.lineOutline_colorTra?y.lineOutline_strokeWidth+2*At:y.line_strokeWidth-d)||E)),(t.plugOutline||se.line||se.plug||se.lineOutline)&&(se.plugOutline=(T=(M=e).options,A=M.curStats,b=!1,[0,1].forEach(function(w){var J,ue=A.plugOutline_plugSE[w],ae=ue!==Fe?at[ot[ue]]:null;b=N(M,A.plugOutline_enabledSE,w,T.plugOutlineEnabledSE[w]&&A.plug_enabled&&A.plug_enabledSE[w]&&!!ae&&!!ae.outlineBase)||b,b=N(M,A.plugOutline_colorSE,w,J=T.plugOutlineColorSE[w]||A.lineOutline_color)||b,b=N(M,A.plugOutline_colorTraSE,w,_t(J)[0]<1)||b,ae&&ae.outlineBase&&((J=T.plugOutlineSizeSE[w])>ae.outlineMax&&(J=ae.outlineMax),b=N(M,A.plugOutline_strokeWidthSE,w,J*=2*ae.outlineBase)||b,b=N(M,A.plugOutline_inStrokeWidthSE,w,A.plugOutline_colorTraSE[w]?J-At/(A.line_strokeWidth/Ce.lineSize)/T.plugSizeSE[w]*2:J/2)||b)}),b)),(t.faces||se.line||se.plug||se.lineOutline||se.plugOutline)&&(se.faces=(m=(h=e).curStats,Z=h.aplStats,F=h.events,D=!1,!m.line_altColor&&N(h,Z,"line_color",_=m.line_color,F.apl_line_color)&&(h.lineFace.style.stroke=_,D=!0),N(h,Z,"line_strokeWidth",_=m.line_strokeWidth,F.apl_line_strokeWidth)&&(h.lineShape.style.strokeWidth=_+"px",D=!0,(Ke||Ae)&&(ce(h,h.lineShape),Ae&&(ce(h,h.lineFace),ce(h,h.lineMaskCaps)))),N(h,Z,"lineOutline_enabled",_=m.lineOutline_enabled,F.apl_lineOutline_enabled)&&(h.lineOutlineFace.style.display=_?"inline":"none",D=!0),m.lineOutline_enabled&&(N(h,Z,"lineOutline_color",_=m.lineOutline_color,F.apl_lineOutline_color)&&(h.lineOutlineFace.style.stroke=_,D=!0),N(h,Z,"lineOutline_strokeWidth",_=m.lineOutline_strokeWidth,F.apl_lineOutline_strokeWidth)&&(h.lineOutlineMaskShape.style.strokeWidth=_+"px",D=!0,Ae&&(ce(h,h.lineOutlineMaskCaps),ce(h,h.lineOutlineFace))),N(h,Z,"lineOutline_inStrokeWidth",_=m.lineOutline_inStrokeWidth,F.apl_lineOutline_inStrokeWidth)&&(h.lineMaskShape.style.strokeWidth=_+"px",D=!0,Ae&&(ce(h,h.lineOutlineMaskCaps),ce(h,h.lineOutlineFace)))),N(h,Z,"plug_enabled",_=m.plug_enabled,F.apl_plug_enabled)&&(h.plugsFace.style.display=_?"inline":"none",D=!0),m.plug_enabled&&[0,1].forEach(function(w){var J=m.plug_plugSE[w],ue=J!==Fe?at[ot[J]]:null,ae=$t(w,ue);N(h,Z.plug_enabledSE,w,_=m.plug_enabledSE[w],F.apl_plug_enabledSE)&&(h.plugsFace.style[ae.prop]=_?"url(#"+h.plugMarkerIdSE[w]+")":"none",D=!0),m.plug_enabledSE[w]&&(N(h,Z.plug_plugSE,w,J,F.apl_plug_plugSE)&&(h.plugFaceSE[w].href.baseVal="#"+ue.elmId,Kt(h,h.plugMarkerSE[w],ae.orient,ue.bBox,h.svg,h.plugMarkerShapeSE[w],h.plugsFace),D=!0,Ke&&ce(h,h.plugsFace)),N(h,Z.plug_colorSE,w,_=m.plug_colorSE[w],F.apl_plug_colorSE)&&(h.plugFaceSE[w].style.fill=_,D=!0,(lt||me||Ae)&&!m.line_colorTra&&ce(h,Ae?h.lineMaskCaps:h.capsMaskLine)),["markerWidth","markerHeight"].forEach(function(he){var ze="plug_"+he+"SE";N(h,Z[ze],w,_=m[ze][w],F["apl_"+ze])&&(h.plugMarkerSE[w][he].baseVal.value=_,D=!0)}),N(h,Z.plugOutline_enabledSE,w,_=m.plugOutline_enabledSE[w],F.apl_plugOutline_enabledSE)&&(_?(h.plugFaceSE[w].style.mask="url(#"+h.plugMaskIdSE[w]+")",h.plugOutlineFaceSE[w].style.display="inline"):(h.plugFaceSE[w].style.mask="none",h.plugOutlineFaceSE[w].style.display="none"),D=!0),m.plugOutline_enabledSE[w]&&(N(h,Z.plugOutline_plugSE,w,J,F.apl_plugOutline_plugSE)&&(h.plugOutlineFaceSE[w].href.baseVal=h.plugMaskShapeSE[w].href.baseVal=h.plugOutlineMaskShapeSE[w].href.baseVal="#"+ue.elmId,[h.plugMaskSE[w],h.plugOutlineMaskSE[w]].forEach(function(he){he.x.baseVal.value=ue.bBox.left,he.y.baseVal.value=ue.bBox.top,he.width.baseVal.value=ue.bBox.width,he.height.baseVal.value=ue.bBox.height}),D=!0),N(h,Z.plugOutline_colorSE,w,_=m.plugOutline_colorSE[w],F.apl_plugOutline_colorSE)&&(h.plugOutlineFaceSE[w].style.fill=_,D=!0,Ae&&(ce(h,h.lineMaskCaps),ce(h,h.lineOutlineMaskCaps))),N(h,Z.plugOutline_strokeWidthSE,w,_=m.plugOutline_strokeWidthSE[w],F.apl_plugOutline_strokeWidthSE)&&(h.plugOutlineMaskShapeSE[w].style.strokeWidth=_+"px",D=!0),N(h,Z.plugOutline_inStrokeWidthSE,w,_=m.plugOutline_inStrokeWidthSE[w],F.apl_plugOutline_inStrokeWidthSE)&&(h.plugMaskShapeSE[w].style.strokeWidth=_+"px",D=!0)))}),D)),(t.position||se.line||se.plug)&&(se.position=function(e){var t,n,a,o,r,S,f,v,s,c,k,d,p,y,E,M,T,A,b=e.options,h=e.curStats,_=e.aplStats,m=h.position_socketXYSE,Z=!1;function F(l,O){var P=1===O?{x:l.left+l.width/2,y:l.top}:2===O?{x:l.right,y:l.top+l.height/2}:3===O?{x:l.left+l.width/2,y:l.bottom}:{x:l.left,y:l.top+l.height/2};return P.socketId=O,P}function D(l){return{x:l.x,y:l.y}}if(h.position_path=b.path,h.position_lineStrokeWidth=h.line_strokeWidth,h.position_socketGravitySE=t=Oe(b.socketGravitySE),n=[0,1].map(function(l){var O,P,B,z=b.anchorSE[l],V=e.optionIsAttach.anchorSE[l],x=!1!==V?xe[z._id]:null,Y=!1!==V&&x.conf.getStrokeWidth?x.conf.getStrokeWidth(x,e):0,oe=!1!==V&&x.conf.getBBoxNest?x.conf.getBBoxNest(x,e,Y):vt(z,e.baseWindow);return h.capsMaskAnchor_pathDataSE[l]=!1!==V&&x.conf.getPathData?x.conf.getPathData(x,e,Y):(P=null!=(O=oe).right?O.right:O.left+O.width,[{type:"M",values:[O.left,O.top]},{type:"L",values:[P,O.top]},{type:"L",values:[P,B=null!=O.bottom?O.bottom:O.top+O.height]},{type:"L",values:[O.left,B]},{type:"Z",values:[]}]),h.capsMaskAnchor_strokeWidthSE[l]=Y,oe}),f=-1,b.socketSE[0]&&b.socketSE[1]?(m[0]=F(n[0],b.socketSE[0]),m[1]=F(n[1],b.socketSE[1])):(b.socketSE[0]||b.socketSE[1]?(b.socketSE[0]?(r=0,S=1):(r=1,S=0),m[r]=F(n[r],b.socketSE[r]),(o=gt.map(function(l){return F(n[S],l)})).forEach(function(l){var O=Ge(l,m[r]);(O<f||-1===f)&&(m[S]=l,f=O)})):(o=gt.map(function(l){return F(n[1],l)}),gt.map(function(l){return F(n[0],l)}).forEach(function(l){o.forEach(function(O){var P=Ge(l,O);(P<f||-1===f)&&(m[0]=l,m[1]=O,f=P)})})),[0,1].forEach(function(l){var O,P;b.socketSE[l]||(n[l].width||n[l].height?n[l].width||4!==m[l].socketId&&2!==m[l].socketId?n[l].height||1!==m[l].socketId&&3!==m[l].socketId||(m[l].socketId=0<=m[l?0:1].y-n[l].top?3:1):m[l].socketId=0<=m[l?0:1].x-n[l].left?2:4:(O=m[l?0:1].x-n[l].left,P=m[l?0:1].y-n[l].top,m[l].socketId=Math.abs(O)>=Math.abs(P)?0<=O?2:4:0<=P?3:1))})),h.position_path!==_.position_path||h.position_lineStrokeWidth!==_.position_lineStrokeWidth||[0,1].some(function(l){return h.position_plugOverheadSE[l]!==_.position_plugOverheadSE[l]||(z=m[l]).x!==(V=_.position_socketXYSE[l]).x||z.y!==V.y||z.socketId!==V.socketId||(P=_.position_socketGravitySE[l],(B=null==(O=t[l])?"auto":Array.isArray(O)?"array":"number")!=(null==P?"auto":Array.isArray(P)?"array":"number")||("array"===B?O[0]!==P[0]||O[1]!==P[1]:O!==P));var O,P,B,z,V})){switch(e.pathList.baseVal=a=[],e.pathList.animVal=null,h.position_path){case 1:a.push([D(m[0]),D(m[1])]);break;case 2:d=Re*("number"==typeof t[0]&&0<t[0]||"number"==typeof t[1]&&0<t[1]?-1:1),y=-(p=Math.atan2(m[1].y-m[0].y,m[1].x-m[0].x))+d,E=Math.PI-p-d,M=Ge(m[0],m[1])/Math.sqrt(2)*rt,T={x:m[0].x+Math.cos(y)*M,y:m[0].y+Math.sin(y)*M*-1},A={x:m[1].x+Math.cos(E)*M,y:m[1].y+Math.sin(E)*M*-1},a.push([D(m[0]),T,A,D(m[1])]);break;case 3:case 4:s=[t[0],4===h.position_path?0:t[1]],c=[],k=[],m.forEach(function(l,O){var P,B,z,V,x,Y=s[O];Array.isArray(Y)?P={x:Y[0],y:Y[1]}:"number"==typeof Y?P=1===l.socketId?{x:0,y:-Y}:2===l.socketId?{x:Y,y:0}:3===l.socketId?{x:0,y:Y}:{x:-Y,y:0}:(B=m[O?0:1],V=0<(z=h.position_plugOverheadSE[O])?120+(8<z?3.75*(z-8):0):80+(h.position_lineStrokeWidth>4?5*(h.position_lineStrokeWidth-4):0),1===l.socketId?((x=(l.y-B.y)/2)<V&&(x=V),P={x:0,y:-x}):2===l.socketId?((x=(B.x-l.x)/2)<V&&(x=V),P={x,y:0}):3===l.socketId?((x=(B.y-l.y)/2)<V&&(x=V),P={x:0,y:x}):((x=(l.x-B.x)/2)<V&&(x=V),P={x:-x,y:0})),c[O]=l.x+P.x,k[O]=l.y+P.y}),a.push([D(m[0]),{x:c[0],y:k[0]},{x:c[1],y:k[1]},D(m[1])]);break;case 5:!function(){var l,V=[[],[]],x=[];function Y($){return 1===$?3:2===$?4:3===$?1:2}function oe($){return 2===$||4===$?"x":"y"}function j($,G,R){var ee={x:$.x,y:$.y};if(R){if(R===Y($.dirId))throw new Error("Invalid dirId: "+R);ee.dirId=R}else ee.dirId=$.dirId;return 1===ee.dirId?ee.y-=G:2===ee.dirId?ee.x+=G:3===ee.dirId?ee.y+=G:ee.x-=G,ee}function K($,G){return 1===G.dirId?$.y<=G.y:2===G.dirId?$.x>=G.x:3===G.dirId?$.y>=G.y:$.x<=G.x}function de($,G){return 1===G.dirId||3===G.dirId?$.x===G.x:$.y===G.y}function pe($){return $[0]?{contain:0,notContain:1}:{contain:1,notContain:0}}function re($,G,R){return Math.abs(G[R]-$[R])}function ke($,G,R){return"x"===R?$.x<G.x?2:4:$.y<G.y?3:1}function ct(){var $,G,R,ee,W=[K(x[1],x[0]),K(x[0],x[1])],te=[oe(x[0].dirId),oe(x[1].dirId)];if(te[0]===te[1]){if(W[0]&&W[1])return de(x[1],x[0])||(x[0][te[0]]===x[1][te[1]]?(V[0].push(x[0]),V[1].push(x[1])):($=x[0][te[0]]+(x[1][te[1]]-x[0][te[0]])/2,V[0].push(j(x[0],Math.abs($-x[0][te[0]]))),V[1].push(j(x[1],Math.abs($-x[1][te[1]]))))),!1;W[0]!==W[1]?(G=pe(W),(R=re(x[G.notContain],x[G.contain],te[G.notContain]))<30&&(x[G.notContain]=j(x[G.notContain],30-R)),V[G.notContain].push(x[G.notContain]),x[G.notContain]=j(x[G.notContain],30,de(x[G.contain],x[G.notContain])?"x"===te[G.notContain]?3:2:ke(x[G.notContain],x[G.contain],"x"===te[G.notContain]?"y":"x"))):(R=re(x[0],x[1],"x"===te[0]?"y":"x"),V.forEach(function(ge,le){var Ze=0===le?1:0;ge.push(x[le]),x[le]=j(x[le],30,60<=R?ke(x[le],x[Ze],"x"===te[le]?"y":"x"):"x"===te[le]?3:2)}))}else{if(W[0]&&W[1])return de(x[1],x[0])?V[1].push(x[1]):de(x[0],x[1])?V[0].push(x[0]):V[0].push("x"===te[0]?{x:x[1].x,y:x[0].y}:{x:x[0].x,y:x[1].y}),!1;W[0]!==W[1]?(G=pe(W),V[G.notContain].push(x[G.notContain]),x[G.notContain]=j(x[G.notContain],30,re(x[G.notContain],x[G.contain],te[G.contain])>=30?ke(x[G.notContain],x[G.contain],te[G.contain]):x[G.contain].dirId)):(ee=[{x:x[0].x,y:x[0].y},{x:x[1].x,y:x[1].y}],V.forEach(function(ge,le){var Ze=0===le?1:0,Ne=re(ee[le],ee[Ze],te[le]);Ne<30&&(x[le]=j(x[le],30-Ne)),ge.push(x[le]),x[le]=j(x[le],30,ke(x[le],x[Ze],te[Ze]))}))}return!0}for(m.forEach(function($,G){var R,ee=D($),W=t[G];R=Array.isArray(W)?W[0]<0?[4,-W[0]]:0<W[0]?[2,W[0]]:W[1]<0?[1,-W[1]]:0<W[1]?[3,W[1]]:[$.socketId,0]:"number"!=typeof W?[$.socketId,30]:0<=W?[$.socketId,W]:[Y($.socketId),-W],ee.dirId=R[0],W=R[1],V[G].push(ee),x[G]=j(ee,W)});ct(););V[1].reverse(),V[0].concat(V[1]).forEach(function($,G){var R={x:$.x,y:$.y};0<G&&a.push([l,R]),l=R})}()}v=[],h.position_plugOverheadSE.forEach(function(l,O){var P,B,z,V,x,Y,oe,j,K,de,pe,re=!O;0<l?2===(P=a[B=re?0:a.length-1]).length?(v[B]=v[B]||Ge.apply(null,P),v[B]>10&&(v[B]-l<10&&(l=v[B]-10),z=St(P[0],P[1],(re?l:v[B]-l)/v[B]),a[B]=re?[z,P[1]]:[P[0],z],v[B]-=l)):(v[B]=v[B]||xt.apply(null,P),v[B]>10&&(v[B]-l<10&&(l=v[B]-10),z=ut(P[0],P[1],P[2],P[3],jt(P[0],P[1],P[2],P[3],re?l:v[B]-l)),re?(V=P[0],x=z.toP1):(V=P[3],x=z.fromP2),Y=Math.atan2(V.y-z.y,z.x-V.x),oe=Ge(z,x),z.x=V.x+Math.cos(Y)*l,z.y=V.y+Math.sin(Y)*l*-1,x.x=z.x+Math.cos(Y)*oe,x.y=z.y+Math.sin(Y)*oe*-1,a[B]=re?[z,z.toP1,z.toP2,P[3]]:[P[0],z.fromP1,z.fromP2,z],v[B]=null)):l<0&&(P=a[B=re?0:a.length-1],l<(pe=-n[O]["x"==(K=4===(j=m[O].socketId)||2===j?"x":"y")?"width":"height"])&&(l=pe),de=l*(4===j||1===j?-1:1),2===P.length?P[re?0:P.length-1][K]+=de:(re?[0,1]:[P.length-2,P.length-1]).forEach(function(ke){P[ke][K]+=de}),v[B]=null)}),_.position_socketXYSE=Oe(m),_.position_plugOverheadSE=Oe(h.position_plugOverheadSE),_.position_path=h.position_path,_.position_lineStrokeWidth=h.position_lineStrokeWidth,_.position_socketGravitySE=Oe(t),Z=!0,e.events.apl_position&&e.events.apl_position.forEach(function(l){l(e,a)})}return Z}(e)),(t.path||se.position)&&(se.path=(P=(l=e).curStats,B=l.aplStats,V=P.path_edge,x=!1,(z=l.pathList.animVal||l.pathList.baseVal)&&(V.x1=V.x2=z[0][0].x,V.y1=V.y2=z[0][0].y,P.path_pathData=O=Ht(z,function(w){w.x<V.x1&&(V.x1=w.x),w.y<V.y1&&(V.y1=w.y),w.x>V.x2&&(V.x2=w.x),w.y>V.y2&&(V.y2=w.y)}),Pt(O,B.path_pathData)&&(l.linePath.setPathData(O),B.path_pathData=O,x=!0,Ae?(ce(l,l.plugsFace),ce(l,l.lineMaskCaps)):Ke&&ce(l,l.linePath),l.events.apl_path&&l.events.apl_path.forEach(function(w){w(l,O)}))),x)),se.viewBox=(pe=(K=(Y=e).curStats).path_edge,re=K.viewBox_bBox,ke=Y.aplStats.viewBox_bBox,ct=Y.svg.viewBox.baseVal,$=Y.svg.style,G=!1,oe=Math.max(K.line_strokeWidth/2,K.viewBox_plugBCircleSE[0]||0,K.viewBox_plugBCircleSE[1]||0),j={x1:pe.x1-oe,y1:pe.y1-oe,x2:pe.x2+oe,y2:pe.y2+oe},Y.events.new_edge4viewBox&&Y.events.new_edge4viewBox.forEach(function(w){w(Y,j)}),re.x=K.lineMask_x=K.lineOutlineMask_x=K.maskBGRect_x=j.x1,re.y=K.lineMask_y=K.lineOutlineMask_y=K.maskBGRect_y=j.y1,re.width=j.x2-j.x1,re.height=j.y2-j.y1,["x","y","width","height"].forEach(function(w){var J;(J=re[w])!==ke[w]&&(ct[w]=ke[w]=J,$[Ct[w]]=J+("x"===w||"y"===w?Y.bodyOffset[w]:0)+"px",G=!0)}),G),se.mask=(W=(R=e).curStats,te=R.aplStats,ge=!1,W.plug_enabled?[0,1].forEach(function(w){W.capsMaskMarker_enabledSE[w]=W.plug_enabledSE[w]&&W.plug_colorTraSE[w]||W.plugOutline_enabledSE[w]&&W.plugOutline_colorTraSE[w]}):W.capsMaskMarker_enabledSE[0]=W.capsMaskMarker_enabledSE[1]=!1,W.capsMaskMarker_enabled=W.capsMaskMarker_enabledSE[0]||W.capsMaskMarker_enabledSE[1],W.lineMask_outlineMode=W.lineOutline_enabled,W.caps_enabled=W.capsMaskMarker_enabled||W.capsMaskAnchor_enabledSE[0]||W.capsMaskAnchor_enabledSE[1],W.lineMask_enabled=W.caps_enabled||W.lineMask_outlineMode,(W.lineMask_enabled&&!W.lineMask_outlineMode||W.lineOutline_enabled)&&["x","y"].forEach(function(w){var J="maskBGRect_"+w;N(R,te,J,ee=W[J])&&(R.maskBGRect[w].baseVal.value=ee,ge=!0)}),N(R,te,"lineMask_enabled",ee=W.lineMask_enabled)&&(R.lineFace.style.mask=ee?"url(#"+R.lineMaskId+")":"none",ge=!0,me&&ce(R,R.lineMask)),W.lineMask_enabled&&(N(R,te,"lineMask_outlineMode",ee=W.lineMask_outlineMode)&&(ee?(R.lineMaskBG.style.display="none",R.lineMaskShape.style.display="inline"):(R.lineMaskBG.style.display="inline",R.lineMaskShape.style.display="none"),ge=!0),["x","y"].forEach(function(w){var J="lineMask_"+w;N(R,te,J,ee=W[J])&&(R.lineMask[w].baseVal.value=ee,ge=!0)}),N(R,te,"caps_enabled",ee=W.caps_enabled)&&(R.lineMaskCaps.style.display=R.lineOutlineMaskCaps.style.display=ee?"inline":"none",ge=!0,me&&ce(R,R.capsMaskLine)),W.caps_enabled&&([0,1].forEach(function(w){var J;N(R,te.capsMaskAnchor_enabledSE,w,ee=W.capsMaskAnchor_enabledSE[w])&&(R.capsMaskAnchorSE[w].style.display=ee?"inline":"none",ge=!0,me&&ce(R,R.lineMask)),W.capsMaskAnchor_enabledSE[w]&&(Pt(J=W.capsMaskAnchor_pathDataSE[w],te.capsMaskAnchor_pathDataSE[w])&&(R.capsMaskAnchorSE[w].setPathData(J),te.capsMaskAnchor_pathDataSE[w]=J,ge=!0),N(R,te.capsMaskAnchor_strokeWidthSE,w,ee=W.capsMaskAnchor_strokeWidthSE[w])&&(R.capsMaskAnchorSE[w].style.strokeWidth=ee+"px",ge=!0))}),N(R,te,"capsMaskMarker_enabled",ee=W.capsMaskMarker_enabled)&&(R.capsMaskLine.style.display=ee?"inline":"none",ge=!0),W.capsMaskMarker_enabled&&[0,1].forEach(function(w){var J=W.capsMaskMarker_plugSE[w],ue=J!==Fe?at[ot[J]]:null,ae=$t(w,ue);N(R,te.capsMaskMarker_enabledSE,w,ee=W.capsMaskMarker_enabledSE[w])&&(R.capsMaskLine.style[ae.prop]=ee?"url(#"+R.lineMaskMarkerIdSE[w]+")":"none",ge=!0),W.capsMaskMarker_enabledSE[w]&&(N(R,te.capsMaskMarker_plugSE,w,J)&&(R.capsMaskMarkerShapeSE[w].href.baseVal="#"+ue.elmId,Kt(R,R.capsMaskMarkerSE[w],ae.orient,ue.bBox,R.svg,R.capsMaskMarkerShapeSE[w],R.capsMaskLine),ge=!0,Ke&&(ce(R,R.capsMaskLine),ce(R,R.lineFace))),["markerWidth","markerHeight"].forEach(function(he){var ze="capsMaskMarker_"+he+"SE";N(R,te[ze],w,ee=W[ze][w])&&(R.capsMaskMarkerSE[w][he].baseVal.value=ee,ge=!0)}))}))),W.lineOutline_enabled&&["x","y"].forEach(function(w){var J="lineOutlineMask_"+w;N(R,te,J,ee=W[J])&&(R.lineOutlineMask[w].baseVal.value=ee,ge=!0)}),ge),t.effect&&(Ne=(le=e).curStats,Ye=le.aplStats,Object.keys(ie).forEach(function(w){var J=ie[w],ue=w+"_enabled",ae=w+"_options",he=Ne[ae];N(le,Ye,ue,Ze=Ne[ue])?(Ze&&(Ye[ae]=Oe(he)),J[Ze?"init":"remove"](le)):Ze&&$e(he,Ye[ae])&&(J.remove(le),Ye[ue]=!0,Ye[ae]=Oe(he),J.init(le))})),(lt||me)&&se.line&&!se.path&&ce(e,e.lineShape),lt&&se.plug&&!se.line&&ce(e,e.plugsFace),Xt(e)}function Lt(e,t){return{duration:Ee(e.duration)&&0<e.duration?e.duration:t.duration,timing:L.validTiming(e.timing)?e.timing:Oe(t.timing)}}function Dt(e,t,n,a){var o,r=e.curStats,S=e.aplStats,f={};function v(){["show_on","show_effect","show_animOptions"].forEach(function(s){S[s]=r[s]})}r.show_on=t,n&&X[n]&&(r.show_effect=n,r.show_animOptions=Lt(qe(a)?a:{},X[n].defaultAnimOptions)),f.show_on=r.show_on!==S.show_on,f.show_effect=r.show_effect!==S.show_effect,f.show_animOptions=$e(r.show_animOptions,S.show_animOptions),f.show_effect||f.show_animOptions?r.show_inAnim?(o=f.show_effect?X[S.show_effect].stop(e,!0,!0):X[S.show_effect].stop(e),v(),X[S.show_effect].init(e,o)):f.show_on&&(S.show_effect&&f.show_effect&&X[S.show_effect].stop(e,!0,!0),v(),X[S.show_effect].init(e)):f.show_on&&(v(),X[S.show_effect].start(e))}function nn(e,t,n){var a={props:e,optionName:n};return!(!(e.attachments.indexOf(t)<0)||t.conf.bind&&!t.conf.bind(t,a)||(e.attachments.push(t),t.boundTargets.push(a),0))}function Zt(e,t,n){var a=e.attachments.indexOf(t);-1<a&&e.attachments.splice(a,1),t.boundTargets.some(function(o,r){return o.props===e&&(t.conf.unbind&&t.conf.unbind(t,o),a=r,!0)})&&(t.boundTargets.splice(a,1),n||dt(function(){t.boundTargets.length||ht(t)}))}function Nt(e,t){var n,a,o=e.options,r={};function S(s,c,k,u,d){var p={};return k?null!=u?(p.container=s[k],p.key=u):(p.container=s,p.key=k):(p.container=s,p.key=c),p.default=d,p.acceptsAuto=null==p.default,p}function f(s,c,k,u,d,p,y){var E,M,T,A=S(s,k,d,p,y);return null!=c[k]&&(M=(c[k]+"").toLowerCase())&&(A.acceptsAuto&&M===je||(T=u[M]))&&T!==A.container[A.key]&&(A.container[A.key]=T,E=!0),null!=A.container[A.key]||A.acceptsAuto||(A.container[A.key]=A.default,E=!0),E}function v(s,c,k,u,d,p,y,E,M){var T,A,b,h,_=S(s,k,d,p,y);if(!u){if(null==_.default)throw new Error("Invalid `type`: "+k);u=typeof _.default}return null!=c[k]&&(_.acceptsAuto&&(c[k]+"").toLowerCase()===je||(b=A=c[k],("number"===(h=u)?Ee(b):typeof b===h)&&(A=M&&"string"===u&&A?A.trim():A,1)&&(!E||E(A))))&&A!==_.container[_.key]&&(_.container[_.key]=A,T=!0),null!=_.container[_.key]||_.acceptsAuto||(_.container[_.key]=_.default,T=!0),T}if(t=t||{},["start","end"].forEach(function(s,c){var k=t[s],u=!1;if(k&&(yt(k)||(u=Ue(k,"anchor")))&&k!==o.anchorSE[c]){if(!1!==e.optionIsAttach.anchorSE[c]&&Zt(e,xe[o.anchorSE[c]._id]),u&&!nn(e,xe[k._id],s))throw new Error("Can't bind attachment");o.anchorSE[c]=k,e.optionIsAttach.anchorSE[c]=u,a=r.position=!0}}),!o.anchorSE[0]||!o.anchorSE[1]||o.anchorSE[0]===o.anchorSE[1])throw new Error("`start` and `end` are required.");a&&(n=function(s,c){var k,u,d;if(!(k=Ut(s))||!(u=Ut(c)))throw new Error("Cannot get frames.");return k.length&&u.length&&(k.reverse(),u.reverse(),k.some(function(p){return u.some(function(y){return y===p&&(d=y.contentWindow,!0)})})),d||window}(!1!==e.optionIsAttach.anchorSE[0]?xe[o.anchorSE[0]._id].element:o.anchorSE[0],!1!==e.optionIsAttach.anchorSE[1]?xe[o.anchorSE[1]._id].element:o.anchorSE[1]))!==e.baseWindow&&(function(s,c){var k,u,d,p,y,E,M,T,A,b,h=s.aplStats,_=c.document,m=_e+"-"+s._id;function Z(l){var O=u.appendChild(_.createElementNS(H,"mask"));return O.id=l,O.maskUnits.baseVal=SVGUnitTypes.SVG_UNIT_TYPE_USERSPACEONUSE,[O.x,O.y,O.width,O.height].forEach(function(P){P.baseVal.newValueSpecifiedUnits(SVGLength.SVG_LENGTHTYPE_PX,0)}),O}function F(l){var O=u.appendChild(_.createElementNS(H,"marker"));return O.id=l,O.markerUnits.baseVal=SVGMarkerElement.SVG_MARKERUNITS_STROKEWIDTH,O.viewBox.baseVal||O.setAttribute("viewBox","0 0 0 0"),O}function D(l){return[l.width,l.height].forEach(function(O){O.baseVal.newValueSpecifiedUnits(SVGLength.SVG_LENGTHTYPE_PERCENTAGE,100)}),l}s.pathList={},be(h,C),Object.keys(ie).forEach(function(l){var O=l+"_enabled";h[O]&&(ie[l].remove(s),h[O]=!1)}),s.baseWindow&&s.svg&&s.baseWindow.document.body.removeChild(s.svg),tn(s.baseWindow=c),s.bodyOffset=en(c),s.svg=k=_.createElementNS(H,"svg"),k.className.baseVal=_e,k.viewBox.baseVal||k.setAttribute("viewBox","0 0 0 0"),s.defs=u=k.appendChild(_.createElementNS(H,"defs")),s.linePath=p=u.appendChild(_.createElementNS(H,"path")),p.id=y=m+"-line-path",p.className.baseVal=_e+"-line-path",me&&(p.style.fill="none"),s.lineShape=p=u.appendChild(_.createElementNS(H,"use")),p.id=E=m+"-line-shape",p.href.baseVal="#"+y,(d=u.appendChild(_.createElementNS(H,"g"))).id=M=m+"-caps",s.capsMaskAnchorSE=[0,1].map(function(){var l=d.appendChild(_.createElementNS(H,"path"));return l.className.baseVal=_e+"-caps-mask-anchor",l}),s.lineMaskMarkerIdSE=[m+"-caps-mask-marker-0",m+"-caps-mask-marker-1"],s.capsMaskMarkerSE=[0,1].map(function(l){return F(s.lineMaskMarkerIdSE[l])}),s.capsMaskMarkerShapeSE=[0,1].map(function(l){var O=s.capsMaskMarkerSE[l].appendChild(_.createElementNS(H,"use"));return O.className.baseVal=_e+"-caps-mask-marker-shape",O}),s.capsMaskLine=p=d.appendChild(_.createElementNS(H,"use")),p.className.baseVal=_e+"-caps-mask-line",p.href.baseVal="#"+E,s.maskBGRect=p=D(u.appendChild(_.createElementNS(H,"rect"))),p.id=T=m+"-mask-bg-rect",p.className.baseVal=_e+"-mask-bg-rect",me&&(p.style.fill="white"),s.lineMask=D(Z(s.lineMaskId=m+"-line-mask")),s.lineMaskBG=p=s.lineMask.appendChild(_.createElementNS(H,"use")),p.href.baseVal="#"+T,s.lineMaskShape=p=s.lineMask.appendChild(_.createElementNS(H,"use")),p.className.baseVal=_e+"-line-mask-shape",p.href.baseVal="#"+y,p.style.display="none",s.lineMaskCaps=p=s.lineMask.appendChild(_.createElementNS(H,"use")),p.href.baseVal="#"+M,s.lineOutlineMask=D(Z(A=m+"-line-outline-mask")),(p=s.lineOutlineMask.appendChild(_.createElementNS(H,"use"))).href.baseVal="#"+T,s.lineOutlineMaskShape=p=s.lineOutlineMask.appendChild(_.createElementNS(H,"use")),p.className.baseVal=_e+"-line-outline-mask-shape",p.href.baseVal="#"+y,s.lineOutlineMaskCaps=p=s.lineOutlineMask.appendChild(_.createElementNS(H,"use")),p.href.baseVal="#"+M,s.face=k.appendChild(_.createElementNS(H,"g")),s.lineFace=p=s.face.appendChild(_.createElementNS(H,"use")),p.href.baseVal="#"+E,s.lineOutlineFace=p=s.face.appendChild(_.createElementNS(H,"use")),p.href.baseVal="#"+E,p.style.mask="url(#"+A+")",p.style.display="none",s.plugMaskIdSE=[m+"-plug-mask-0",m+"-plug-mask-1"],s.plugMaskSE=[0,1].map(function(l){return Z(s.plugMaskIdSE[l])}),s.plugMaskShapeSE=[0,1].map(function(l){var O=s.plugMaskSE[l].appendChild(_.createElementNS(H,"use"));return O.className.baseVal=_e+"-plug-mask-shape",O}),b=[],s.plugOutlineMaskSE=[0,1].map(function(l){return Z(b[l]=m+"-plug-outline-mask-"+l)}),s.plugOutlineMaskShapeSE=[0,1].map(function(l){var O=s.plugOutlineMaskSE[l].appendChild(_.createElementNS(H,"use"));return O.className.baseVal=_e+"-plug-outline-mask-shape",O}),s.plugMarkerIdSE=[m+"-plug-marker-0",m+"-plug-marker-1"],s.plugMarkerSE=[0,1].map(function(l){var O=F(s.plugMarkerIdSE[l]);return me&&(O.markerUnits.baseVal=SVGMarkerElement.SVG_MARKERUNITS_USERSPACEONUSE),O}),s.plugMarkerShapeSE=[0,1].map(function(l){return s.plugMarkerSE[l].appendChild(_.createElementNS(H,"g"))}),s.plugFaceSE=[0,1].map(function(l){return s.plugMarkerShapeSE[l].appendChild(_.createElementNS(H,"use"))}),s.plugOutlineFaceSE=[0,1].map(function(l){var O=s.plugMarkerShapeSE[l].appendChild(_.createElementNS(H,"use"));return O.style.mask="url(#"+b[l]+")",O.style.display="none",O}),s.plugsFace=p=s.face.appendChild(_.createElementNS(H,"use")),p.className.baseVal=_e+"-plugs-face",p.href.baseVal="#"+E,p.style.display="none",s.curStats.show_inAnim?(s.isShown=1,X[h.show_effect].stop(s,!0)):s.isShown||(k.style.visibility="hidden"),_.body.appendChild(k),[0,1,2].forEach(function(l){var O,P=s.options.labelSEM[l];P&&Ue(P,"label")&&(O=xe[P._id]).conf.initSvg&&O.conf.initSvg(O,s)})}(e,n),r.line=r.plug=r.lineOutline=r.plugOutline=r.faces=r.effect=!0),r.position=f(o,t,"path",wt,null,null,Ce.path)||r.position,r.position=f(o,t,"startSocket",Be,"socketSE",0)||r.position,r.position=f(o,t,"endSocket",Be,"socketSE",1)||r.position,[t.startSocketGravity,t.endSocketGravity].forEach(function(s,c){var k,u,d=!1;null!=s&&(Array.isArray(s)?Ee(s[0])&&Ee(s[1])&&(d=[s[0],s[1]],Array.isArray(o.socketGravitySE[c])&&(k=d).length===(u=o.socketGravitySE[c]).length&&k.every(function(p,y){return p===u[y]})&&(d=!1)):((s+"").toLowerCase()===je?d=null:Ee(s)&&0<=s&&(d=s),d===o.socketGravitySE[c]&&(d=!1)),!1!==d&&(o.socketGravitySE[c]=d,r.position=!0))}),r.line=v(o,t,"color",null,"lineColor",null,Ce.lineColor,null,!0)||r.line,r.line=v(o,t,"size",null,"lineSize",null,Ce.lineSize,function(s){return 0<s})||r.line,["startPlug","endPlug"].forEach(function(s,c){r.plug=f(o,t,s,mt,"plugSE",c,Ce.plugSE[c])||r.plug,r.plug=v(o,t,s+"Color","string","plugColorSE",c,null,null,!0)||r.plug,r.plug=v(o,t,s+"Size",null,"plugSizeSE",c,Ce.plugSizeSE[c],function(k){return 0<k})||r.plug}),r.lineOutline=v(o,t,"outline",null,"lineOutlineEnabled",null,Ce.lineOutlineEnabled)||r.lineOutline,r.lineOutline=v(o,t,"outlineColor",null,"lineOutlineColor",null,Ce.lineOutlineColor,null,!0)||r.lineOutline,r.lineOutline=v(o,t,"outlineSize",null,"lineOutlineSize",null,Ce.lineOutlineSize,function(s){return 0<s&&s<=.48})||r.lineOutline,["startPlugOutline","endPlugOutline"].forEach(function(s,c){r.plugOutline=v(o,t,s,null,"plugOutlineEnabledSE",c,Ce.plugOutlineEnabledSE[c])||r.plugOutline,r.plugOutline=v(o,t,s+"Color","string","plugOutlineColorSE",c,null,null,!0)||r.plugOutline,r.plugOutline=v(o,t,s+"Size",null,"plugOutlineSizeSE",c,Ce.plugOutlineSizeSE[c],function(k){return 1<=k})||r.plugOutline}),["startLabel","endLabel","middleLabel"].forEach(function(s,c){var k,u,d,p=t[s],y=o.labelSEM[c]&&!e.optionIsAttach.labelSEM[c]?xe[o.labelSEM[c]._id].text:o.labelSEM[c],E=!1;if((k="string"==typeof p)&&(p=p.trim()),(k||p&&(E=Ue(p,"label")))&&p!==y){if(o.labelSEM[c]&&(Zt(e,xe[o.labelSEM[c]._id]),o.labelSEM[c]=""),p){if(E?(u=xe[(d=p)._id]).boundTargets.slice().forEach(function(M){u.conf.removeOption(u,M)}):d=new Ie(q.captionLabel,[p]),!nn(e,xe[d._id],s))throw new Error("Can't bind attachment");o.labelSEM[c]=d}e.optionIsAttach.labelSEM[c]=E}}),Object.keys(ie).forEach(function(s){var c,k,u=ie[s],d=s+"_enabled",p=s+"_options";function y(M){var T={};return u.optionsConf.forEach(function(A){var b=A[0],h=A[3];null==A[4]||T[h]||(T[h]=[]),("function"==typeof b?b:"id"===b?f:v).apply(null,[T,M].concat(A.slice(1)))}),T}function E(M){var T,A=s+"_animOptions";return M.hasOwnProperty("animation")?qe(M.animation)?T=e.curStats[A]=Lt(M.animation,u.defaultAnimOptions):e.curStats[A]=(T=!!M.animation)?Lt({},u.defaultAnimOptions):null:e.curStats[A]=(T=!!u.defaultEnabled)?Lt({},u.defaultAnimOptions):null,T}t.hasOwnProperty(s)&&(qe(c=t[s])?(e.curStats[d]=!0,k=e.curStats[p]=y(c),u.anim&&(e.curStats[p].animation=E(c))):(k=e.curStats[d]=!!c)&&(e.curStats[p]=y({}),u.anim&&(e.curStats[p].animation=E({}))),$e(k,o[s])&&(o[s]=k,r.effect=!0))}),Le(e,r)}function De(e,t,n){var a={options:{anchorSE:[],socketSE:[],socketGravitySE:[],plugSE:[],plugColorSE:[],plugSizeSE:[],plugOutlineEnabledSE:[],plugOutlineColorSE:[],plugOutlineSizeSE:[],labelSEM:["","",""]},optionIsAttach:{anchorSE:[!1,!1],labelSEM:[!1,!1,!1]},curStats:{},aplStats:{},attachments:[],events:{},reflowTargets:[]};be(a.curStats,C),be(a.aplStats,C),Object.keys(ie).forEach(function(o){var r=ie[o].stats;be(a.curStats,r),be(a.aplStats,r),a.options[o]=!1}),be(a.curStats,I),be(a.aplStats,I),a.curStats.show_effect=Q,a.curStats.show_animOptions=Oe(X[Q].defaultAnimOptions),Object.defineProperty(this,"_id",{value:++zt}),a._id=this._id,ye[this._id]=a,1===arguments.length&&(n=e,e=null),n=n||{},(e||t)&&(n=Oe(n),e&&(n.start=e),t&&(n.end=t)),a.isShown=a.aplStats.show_on=!n.hide,this.setOptions(n)}ie={dash:{stats:{dash_len:{},dash_gap:{},dash_maxOffset:{}},anim:!0,defaultAnimOptions:{duration:1e3,timing:"linear"},optionsConf:[["type","len","number",null,null,null,function(e){return 0<e}],["type","gap","number",null,null,null,function(e){return 0<e}]],init:function(e){ve(e,"apl_line_strokeWidth",ie.dash.update),e.lineFace.style.strokeDashoffset=0,ie.dash.update(e)},remove:function(e){var t=e.curStats;Se(e,"apl_line_strokeWidth",ie.dash.update),t.dash_animId&&(L.remove(t.dash_animId),t.dash_animId=null),e.lineFace.style.strokeDasharray="none",e.lineFace.style.strokeDashoffset=0,be(e.aplStats,ie.dash.stats)},update:function(e){var t,n=e.curStats,a=e.aplStats,o=a.dash_options,r=!1;n.dash_len=o.len||2*a.line_strokeWidth,n.dash_gap=o.gap||a.line_strokeWidth,n.dash_maxOffset=n.dash_len+n.dash_gap,r=N(e,a,"dash_len",n.dash_len)||r,(r=N(e,a,"dash_gap",n.dash_gap)||r)&&(e.lineFace.style.strokeDasharray=a.dash_len+","+a.dash_gap),n.dash_animOptions?(r=N(e,a,"dash_maxOffset",n.dash_maxOffset),a.dash_animOptions&&(r||$e(n.dash_animOptions,a.dash_animOptions))&&(n.dash_animId&&(t=L.stop(n.dash_animId),L.remove(n.dash_animId)),a.dash_animOptions=null),a.dash_animOptions||(n.dash_animId=L.add(function(S){return(1-S)*a.dash_maxOffset+"px"},function(S){e.lineFace.style.strokeDashoffset=S},n.dash_animOptions.duration,0,n.dash_animOptions.timing,!1,t),a.dash_animOptions=Oe(n.dash_animOptions))):a.dash_animOptions&&(n.dash_animId&&(L.remove(n.dash_animId),n.dash_animId=null),e.lineFace.style.strokeDashoffset=0,a.dash_animOptions=null)}},gradient:{stats:{gradient_colorSE:{hasSE:!0},gradient_pointSE:{hasSE:!0,hasProps:!0}},optionsConf:[["type","startColor","string","colorSE",0,null,null,!0],["type","endColor","string","colorSE",1,null,null,!0]],init:function(e){var t,n=e.baseWindow.document,o=_e+"-"+e._id+"-gradient";e.efc_gradient_gradient=t=e.defs.appendChild(n.createElementNS(H,"linearGradient")),t.id=o,t.gradientUnits.baseVal=SVGUnitTypes.SVG_UNIT_TYPE_USERSPACEONUSE,[t.x1,t.y1,t.x2,t.y2].forEach(function(r){r.baseVal.newValueSpecifiedUnits(SVGLength.SVG_LENGTHTYPE_PX,0)}),e.efc_gradient_stopSE=[0,1].map(function(r){var S=e.efc_gradient_gradient.appendChild(n.createElementNS(H,"stop"));try{S.offset.baseVal=r}catch(f){if(f.code!==DOMException.NO_MODIFICATION_ALLOWED_ERR)throw f;S.setAttribute("offset",r)}return S}),ve(e,"cur_plug_colorSE",ie.gradient.update),ve(e,"apl_path",ie.gradient.update),e.curStats.line_altColor=!0,e.lineFace.style.stroke="url(#"+o+")",ie.gradient.update(e)},remove:function(e){e.efc_gradient_gradient&&(e.defs.removeChild(e.efc_gradient_gradient),e.efc_gradient_gradient=e.efc_gradient_stopSE=null),Se(e,"cur_plug_colorSE",ie.gradient.update),Se(e,"apl_path",ie.gradient.update),e.curStats.line_altColor=!1,e.lineFace.style.stroke=e.curStats.line_color,be(e.aplStats,ie.gradient.stats)},update:function(e){var t,n,a=e.curStats,o=e.aplStats,r=o.gradient_options,S=e.pathList.animVal||e.pathList.baseVal;[0,1].forEach(function(f){a.gradient_colorSE[f]=r.colorSE[f]||a.plug_colorSE[f]}),a.gradient_pointSE[0]={x:(n=S[0][0]).x,y:n.y},n=(t=S[S.length-1])[t.length-1],a.gradient_pointSE[1]={x:n.x,y:n.y},[0,1].forEach(function(f){var v;N(e,o.gradient_colorSE,f,v=a.gradient_colorSE[f])&&(me?(v=_t(v),e.efc_gradient_stopSE[f].style.stopColor=v[1],e.efc_gradient_stopSE[f].style.stopOpacity=v[0]):e.efc_gradient_stopSE[f].style.stopColor=v),["x","y"].forEach(function(s){(v=a.gradient_pointSE[f][s])!==o.gradient_pointSE[f][s]&&(e.efc_gradient_gradient[s+(f+1)].baseVal.value=o.gradient_pointSE[f][s]=v)})})}},dropShadow:{stats:{dropShadow_dx:{},dropShadow_dy:{},dropShadow_blur:{},dropShadow_color:{},dropShadow_opacity:{},dropShadow_x:{},dropShadow_y:{}},optionsConf:[["type","dx",null,null,null,2],["type","dy",null,null,null,4],["type","blur",null,null,null,3,function(e){return 0<=e}],["type","color",null,null,null,"#000",null,!0],["type","opacity",null,null,null,.8,function(e){return 0<=e&&e<=1}]],init:function(e){var t,n,a,o,r,f=e.defs,v=_e+"-"+e._id+"-dropShadow",s=(t=e.baseWindow.document,n=v,r={},"boolean"!=typeof i&&(i=!!window.SVGFEDropShadowElement&&!me),r.elmsAppend=[r.elmFilter=a=t.createElementNS(H,"filter")],a.filterUnits.baseVal=SVGUnitTypes.SVG_UNIT_TYPE_USERSPACEONUSE,a.x.baseVal.newValueSpecifiedUnits(SVGLength.SVG_LENGTHTYPE_PX,0),a.y.baseVal.newValueSpecifiedUnits(SVGLength.SVG_LENGTHTYPE_PX,0),a.width.baseVal.newValueSpecifiedUnits(SVGLength.SVG_LENGTHTYPE_PERCENTAGE,100),a.height.baseVal.newValueSpecifiedUnits(SVGLength.SVG_LENGTHTYPE_PERCENTAGE,100),a.id=n,i?(r.elmOffset=r.elmBlur=o=a.appendChild(t.createElementNS(H,"feDropShadow")),r.styleFlood=o.style):(r.elmBlur=a.appendChild(t.createElementNS(H,"feGaussianBlur")),r.elmOffset=o=a.appendChild(t.createElementNS(H,"feOffset")),o.result.baseVal="offsetblur",o=a.appendChild(t.createElementNS(H,"feFlood")),r.styleFlood=o.style,(o=a.appendChild(t.createElementNS(H,"feComposite"))).in2.baseVal="offsetblur",o.operator.baseVal=SVGFECompositeElement.SVG_FECOMPOSITE_OPERATOR_IN,(o=a.appendChild(t.createElementNS(H,"feMerge"))).appendChild(t.createElementNS(H,"feMergeNode")),o.appendChild(t.createElementNS(H,"feMergeNode")).in1.baseVal="SourceGraphic"),r);["elmFilter","elmOffset","elmBlur","styleFlood","elmsAppend"].forEach(function(c){e["efc_dropShadow_"+c]=s[c]}),s.elmsAppend.forEach(function(c){f.appendChild(c)}),e.face.setAttribute("filter","url(#"+v+")"),ve(e,"new_edge4viewBox",ie.dropShadow.adjustEdge),ie.dropShadow.update(e)},remove:function(e){var t=e.defs;e.efc_dropShadow_elmsAppend&&(e.efc_dropShadow_elmsAppend.forEach(function(n){t.removeChild(n)}),e.efc_dropShadow_elmFilter=e.efc_dropShadow_elmOffset=e.efc_dropShadow_elmBlur=e.efc_dropShadow_styleFlood=e.efc_dropShadow_elmsAppend=null),Se(e,"new_edge4viewBox",ie.dropShadow.adjustEdge),Le(e,{}),e.face.removeAttribute("filter"),be(e.aplStats,ie.dropShadow.stats)},update:function(e){var t,n,a=e.curStats,o=e.aplStats,r=o.dropShadow_options;a.dropShadow_dx=t=r.dx,N(e,o,"dropShadow_dx",t)&&(e.efc_dropShadow_elmOffset.dx.baseVal=t,n=!0),a.dropShadow_dy=t=r.dy,N(e,o,"dropShadow_dy",t)&&(e.efc_dropShadow_elmOffset.dy.baseVal=t,n=!0),a.dropShadow_blur=t=r.blur,N(e,o,"dropShadow_blur",t)&&(e.efc_dropShadow_elmBlur.setStdDeviation(t,t),n=!0),n&&Le(e,{}),a.dropShadow_color=t=r.color,N(e,o,"dropShadow_color",t)&&(e.efc_dropShadow_styleFlood.floodColor=t),a.dropShadow_opacity=t=r.opacity,N(e,o,"dropShadow_opacity",t)&&(e.efc_dropShadow_styleFlood.floodOpacity=t)},adjustEdge:function(e,t){var n,a,o=e.curStats,r=e.aplStats;null!=o.dropShadow_dx&&((a={x1:t.x1-(n=3*o.dropShadow_blur)+o.dropShadow_dx,y1:t.y1-n+o.dropShadow_dy,x2:t.x2+n+o.dropShadow_dx,y2:t.y2+n+o.dropShadow_dy}).x1<t.x1&&(t.x1=a.x1),a.y1<t.y1&&(t.y1=a.y1),a.x2>t.x2&&(t.x2=a.x2),a.y2>t.y2&&(t.y2=a.y2),["x","y"].forEach(function(S){var f,v="dropShadow_"+S;o[v]=f=t[S+"1"],N(e,r,v,f)&&(e.efc_dropShadow_elmFilter[S].baseVal.value=f)}))}}},Object.keys(ie).forEach(function(e){var t=ie[e],n=t.stats;n[e+"_enabled"]={iniValue:!1},n[e+"_options"]={hasProps:!0},t.anim&&(n[e+"_animOptions"]={},n[e+"_animId"]={})}),X={none:{defaultAnimOptions:{},init:function(e,t){var n=e.curStats;n.show_animId&&(L.remove(n.show_animId),n.show_animId=null),X.none.start(e,t)},start:function(e,t){X.none.stop(e,!0)},stop:function(e,t,n){return n=null!=n?n:e.aplStats.show_on,e.curStats.show_inAnim=!1,t&&pt(e,n),n?1:0}},fade:{defaultAnimOptions:{duration:300,timing:"linear"},init:function(e,t){var n=e.curStats,a=e.aplStats;n.show_animId&&L.remove(n.show_animId),n.show_animId=L.add(function(o){return o},function(o,r){r?X.fade.stop(e,!0):(e.svg.style.opacity=o+"",Ae&&(ce(e,e.svg),Xt(e)))},a.show_animOptions.duration,1,a.show_animOptions.timing,null,!1),X.fade.start(e,t)},start:function(e,t){var n,a=e.curStats;a.show_inAnim&&(n=L.stop(a.show_animId)),pt(e,1),a.show_inAnim=!0,L.start(a.show_animId,!e.aplStats.show_on,null!=t?t:n)},stop:function(e,t,n){var a,o=e.curStats;return n=null!=n?n:e.aplStats.show_on,a=o.show_inAnim?L.stop(o.show_animId):n?1:0,o.show_inAnim=!1,t&&(e.svg.style.opacity=n?"":"0",pt(e,n)),a}},draw:{defaultAnimOptions:{duration:500,timing:[.58,0,.42,1]},init:function(e,t){var n=e.curStats,a=e.aplStats,o=e.pathList.baseVal,r=Qt(o),S=r.segsLen,f=r.lenAll;n.show_animId&&L.remove(n.show_animId),n.show_animId=L.add(function(v){var s,c,k,u,d=-1;if(0===v)c=[[o[0][0],o[0][0]]];else if(1===v)c=o;else{for(s=f*v,c=[];s>=S[++d];)c.push(o[d]),s-=S[d];s&&(2===(k=o[d]).length?c.push([k[0],St(k[0],k[1],s/S[d])]):(u=ut(k[0],k[1],k[2],k[3],jt(k[0],k[1],k[2],k[3],s)),c.push([k[0],u.fromP1,u.fromP2,u])))}return c},function(v,s){s?X.draw.stop(e,!0):(e.pathList.animVal=v,Le(e,{path:!0}))},a.show_animOptions.duration,1,a.show_animOptions.timing,null,!1),X.draw.start(e,t)},start:function(e,t){var n,a=e.curStats;a.show_inAnim&&(n=L.stop(a.show_animId)),pt(e,1),a.show_inAnim=!0,ve(e,"apl_position",X.draw.update),L.start(a.show_animId,!e.aplStats.show_on,null!=t?t:n)},stop:function(e,t,n){var a,o=e.curStats;return n=null!=n?n:e.aplStats.show_on,a=o.show_inAnim?L.stop(o.show_animId):n?1:0,o.show_inAnim=!1,t&&(e.pathList.animVal=n?null:[[e.pathList.baseVal[0][0],e.pathList.baseVal[0][0]]],Le(e,{path:!0}),pt(e,n)),a},update:function(e){Se(e,"apl_position",X.draw.update),e.curStats.show_inAnim?X.draw.init(e,X.draw.stop(e)):e.aplStats.show_animOptions={}}}},function(){function e(t){return function(n){var a={};a[t]=n,this.setOptions(a)}}[["start","anchorSE",0],["end","anchorSE",1],["color","lineColor"],["size","lineSize"],["startSocketGravity","socketGravitySE",0],["endSocketGravity","socketGravitySE",1],["startPlugColor","plugColorSE",0],["endPlugColor","plugColorSE",1],["startPlugSize","plugSizeSE",0],["endPlugSize","plugSizeSE",1],["outline","lineOutlineEnabled"],["outlineColor","lineOutlineColor"],["outlineSize","lineOutlineSize"],["startPlugOutline","plugOutlineEnabledSE",0],["endPlugOutline","plugOutlineEnabledSE",1],["startPlugOutlineColor","plugOutlineColorSE",0],["endPlugOutlineColor","plugOutlineColorSE",1],["startPlugOutlineSize","plugOutlineSizeSE",0],["endPlugOutlineSize","plugOutlineSizeSE",1]].forEach(function(t){var n=t[0],a=t[1],o=t[2];Object.defineProperty(De.prototype,n,{get:function(){var r=null!=o?ye[this._id].options[a][o]:a?ye[this._id].options[a]:ye[this._id].options[n];return null==r?je:Oe(r)},set:e(n),enumerable:!0})}),[["path",wt],["startSocket",Be,"socketSE",0],["endSocket",Be,"socketSE",1],["startPlug",mt,"plugSE",0],["endPlug",mt,"plugSE",1]].forEach(function(t){var n=t[0],a=t[1],o=t[2],r=t[3];Object.defineProperty(De.prototype,n,{get:function(){var S,f=null!=r?ye[this._id].options[o][r]:o?ye[this._id].options[o]:ye[this._id].options[n];return f?Object.keys(a).some(function(v){return a[v]===f&&(S=v,!0)})?S:new Error("It's broken"):je},set:e(n),enumerable:!0})}),Object.keys(ie).forEach(function(t){var n=ie[t];Object.defineProperty(De.prototype,t,{get:function(){var a,o,r=ye[this._id].options[t];return qe(r)?(a=r,o=n.optionsConf.reduce(function(S,f){var v,c=f[1],k=f[2],u=f[3],d=f[4],p=null!=d?a[u][d]:u?a[u]:a[c];return S[c]="id"===f[0]?p?Object.keys(k).some(function(y){return k[y]===p&&(v=y,!0)})?v:new Error("It's broken"):je:null==p?je:Oe(p),S},{}),n.anim&&(o.animation=Oe(a.animation)),o):r},set:e(t),enumerable:!0})}),["startLabel","endLabel","middleLabel"].forEach(function(t,n){Object.defineProperty(De.prototype,t,{get:function(){var a=ye[this._id],o=a.options;return o.labelSEM[n]&&!a.optionIsAttach.labelSEM[n]?xe[o.labelSEM[n]._id].text:o.labelSEM[n]||""},set:e(t),enumerable:!0})})}(),De.prototype.setOptions=function(e){return Nt(ye[this._id],e),this},De.prototype.position=function(){return Le(ye[this._id],{position:!0}),this},De.prototype.remove=function(){var e=ye[this._id],t=e.curStats;Object.keys(ie).forEach(function(n){var a=n+"_animId";t[a]&&L.remove(t[a])}),t.show_animId&&L.remove(t.show_animId),e.attachments.slice().forEach(function(n){Zt(e,n)}),e.baseWindow&&e.svg&&e.baseWindow.document.body.removeChild(e.svg),delete ye[this._id]},De.prototype.show=function(e,t){return Dt(ye[this._id],!0,e,t),this},De.prototype.hide=function(e,t){return Dt(ye[this._id],!1,e,t),this},ht=function(e){e&&xe[e._id]&&(e.boundTargets.slice().forEach(function(t){Zt(t.props,e,!0)}),e.conf.remove&&e.conf.remove(e),delete xe[e._id])},Ie=function(){function e(t,n){var a,o={conf:t,curStats:{},aplStats:{},boundTargets:[]},r={};t.argOptions.every(function(S){return!(!n.length||("string"==typeof S.type?typeof n[0]!==S.type:"function"!=typeof S.type||!S.type(n[0]))||(r[S.optionName]=n.shift(),0))}),a=n.length&&qe(n[0])?Oe(n[0]):{},Object.keys(r).forEach(function(S){a[S]=r[S]}),t.stats&&(be(o.curStats,t.stats),be(o.aplStats,t.stats)),Object.defineProperty(this,"_id",{value:++on}),Object.defineProperty(this,"isRemoved",{get:function(){return!xe[this._id]}}),o._id=this._id,t.init&&!t.init(o,a)||(xe[this._id]=o)}return e.prototype.remove=function(){var t=this,n=xe[t._id];n&&(n.boundTargets.slice().forEach(function(a){n.conf.removeOption(n,a)}),dt(function(){var a=xe[t._id];a&&(console.error("LeaderLineAttachment was not removed by removeOption"),ht(a))}))},e}(),window.LeaderLineAttachment=Ie,Ue=function(e,t){return e instanceof Ie&&(!(e.isRemoved||t&&xe[e._id].conf.type!==t)||null)},q={pointAnchor:{type:"anchor",argOptions:[{optionName:"element",type:yt}],init:function(e,t){return e.element=q.pointAnchor.checkElement(t.element),e.x=q.pointAnchor.parsePercent(t.x,!0)||[.5,!0],e.y=q.pointAnchor.parsePercent(t.y,!0)||[.5,!0],!0},removeOption:function(e,t){var n=t.props,a={},o=e.element,r=n.options.anchorSE["start"===t.optionName?1:0];o===r&&(o=r===document.body?new Ie(q.pointAnchor,[o]):document.body),a[t.optionName]=o,Nt(n,a)},getBBoxNest:function(e,t){var n=vt(e.element,t.baseWindow),a=n.width,o=n.height;return n.width=n.height=0,n.left=n.right=n.left+e.x[0]*(e.x[1]?a:1),n.top=n.bottom=n.top+e.y[0]*(e.y[1]?o:1),n},parsePercent:function(e,t){var n,a,o=!1;return Ee(e)?a=e:"string"==typeof e&&(n=st.exec(e))&&n[2]&&(o=0!=(a=parseFloat(n[1])/100)),null!=a&&(t||0<=a)?[a,o]:null},checkElement:function(e){if(null==e)e=document.body;else if(!yt(e))throw new Error("`element` must be Element");return e}},areaAnchor:{type:"anchor",argOptions:[{optionName:"element",type:yt},{optionName:"shape",type:"string"}],stats:{color:{},strokeWidth:{},elementWidth:{},elementHeight:{},elementLeft:{},elementTop:{},pathListRel:{},bBoxRel:{},pathData:{},viewBoxBBox:{hasProps:!0},dashLen:{},dashGap:{}},init:function(e,t){var n,a,o,r=[];return e.element=q.pointAnchor.checkElement(t.element),"string"==typeof t.color&&(e.color=t.color.trim()),"string"==typeof t.fillColor&&(e.fill=t.fillColor.trim()),Ee(t.size)&&0<=t.size&&(e.size=t.size),t.dash&&(e.dash=!0,Ee(t.dash.len)&&0<t.dash.len&&(e.dashLen=t.dash.len),Ee(t.dash.gap)&&0<t.dash.gap&&(e.dashGap=t.dash.gap)),"circle"===t.shape?e.shape=t.shape:"polygon"===t.shape&&Array.isArray(t.points)&&3<=t.points.length&&t.points.every(function(S){var f={};return!(!(f.x=q.pointAnchor.parsePercent(S[0],!0))||!(f.y=q.pointAnchor.parsePercent(S[1],!0))||(r.push(f),(f.x[1]||f.y[1])&&(e.hasRatio=!0),0))})?(e.shape=t.shape,e.points=r):(e.shape="rect",e.radius=Ee(t.radius)&&0<=t.radius?t.radius:0),"rect"!==e.shape&&"circle"!==e.shape||(e.x=q.pointAnchor.parsePercent(t.x,!0)||[-.05,!0],e.y=q.pointAnchor.parsePercent(t.y,!0)||[-.05,!0],e.width=q.pointAnchor.parsePercent(t.width)||[1.1,!0],e.height=q.pointAnchor.parsePercent(t.height)||[1.1,!0],(e.x[1]||e.y[1]||e.width[1]||e.height[1])&&(e.hasRatio=!0)),e.svg=a=(n=e.element.ownerDocument).createElementNS(H,"svg"),a.className.baseVal=_e+"-areaAnchor",a.viewBox.baseVal||a.setAttribute("viewBox","0 0 0 0"),e.path=a.appendChild(n.createElementNS(H,"path")),e.path.style.fill=e.fill||"none",e.isShown=!1,a.style.visibility="hidden",n.body.appendChild(a),tn(o=n.defaultView),e.bodyOffset=en(o),e.updateColor=function(){var S,v=e.aplStats,s=e.boundTargets.length?e.boundTargets[0].props.curStats:null;e.curStats.color=S=e.color||(s?s.line_color:Ce.lineColor),N(e,v,"color",S)&&(e.path.style.stroke=S)},e.updateShow=function(){pt(e,e.boundTargets.some(function(S){return!0===S.props.isShown}))},!0},bind:function(e,t){var n=t.props;return e.color||ve(n,"cur_line_color",e.updateColor),ve(n,"svgShow",e.updateShow),dt(function(){e.updateColor(),e.updateShow()}),!0},unbind:function(e,t){var n=t.props;e.color||Se(n,"cur_line_color",e.updateColor),Se(n,"svgShow",e.updateShow),1<e.boundTargets.length&&dt(function(){e.updateColor(),e.updateShow(),q.areaAnchor.update(e)&&e.boundTargets.forEach(function(a){Le(a.props,{position:!0})})})},removeOption:function(e,t){q.pointAnchor.removeOption(e,t)},remove:function(e){e.boundTargets.length&&(console.error("LeaderLineAttachment was not unbound by remove"),e.boundTargets.forEach(function(t){q.areaAnchor.unbind(e,t)})),e.svg.parentNode.removeChild(e.svg)},getStrokeWidth:function(e,t){return q.areaAnchor.update(e)&&1<e.boundTargets.length&&dt(function(){e.boundTargets.forEach(function(n){n.props!==t&&Le(n.props,{position:!0})})}),e.curStats.strokeWidth},getPathData:function(e,t){var n=vt(e.element,t.baseWindow);return Ht(e.curStats.pathListRel,function(a){a.x+=n.left,a.y+=n.top})},getBBoxNest:function(e,t){var n=vt(e.element,t.baseWindow),a=e.curStats.bBoxRel;return{left:a.left+n.left,top:a.top+n.top,right:a.right+n.left,bottom:a.bottom+n.top,width:a.width,height:a.height}},update:function(e){var t,n,a,o,r,S,f,v,s,c,k,u,d,p,y,E,M,T,A,b,h,_,m,Z,F,D,l,O,P,B,z,V,x=e.curStats,Y=e.aplStats,oe=e.boundTargets.length?e.boundTargets[0].props.curStats:null,j={};if(j.strokeWidth=N(e,x,"strokeWidth",null!=e.size?e.size:oe?oe.line_strokeWidth:Ce.lineSize),t=It(e.element),j.elementWidth=N(e,x,"elementWidth",t.width),j.elementHeight=N(e,x,"elementHeight",t.height),j.elementLeft=N(e,x,"elementLeft",t.left),j.elementTop=N(e,x,"elementTop",t.top),j.strokeWidth||e.hasRatio&&(j.elementWidth||j.elementHeight)){switch(e.shape){case"rect":(b={left:e.x[0]*(e.x[1]?t.width:1),top:e.y[0]*(e.y[1]?t.height:1),width:e.width[0]*(e.width[1]?t.width:1),height:e.height[0]*(e.height[1]?t.height:1)}).right=b.left+b.width,b.bottom=b.top+b.height,Z=x.strokeWidth/2,_=(m=Math.min(b.width,b.height))?m/2*Math.SQRT2+Z:0,(h=e.radius?e.radius<=_?e.radius:_:0)?(D=h-(F=(h-Z)/Math.SQRT2),x.pathListRel=[[(l=[{x:b.left-D,y:b.top+F},{x:b.left+F,y:b.top-D},{x:b.right-F,y:b.top-D},{x:b.right+D,y:b.top+F},{x:b.right+D,y:b.bottom-F},{x:b.right-F,y:b.bottom+D},{x:b.left+F,y:b.bottom+D},{x:b.left-D,y:b.bottom-F}])[0],{x:l[0].x,y:l[0].y-(O=h*rt)},{x:l[1].x-O,y:l[1].y},l[1]]],l[1].x!==l[2].x&&x.pathListRel.push([l[1],l[2]]),x.pathListRel.push([l[2],{x:l[2].x+O,y:l[2].y},{x:l[3].x,y:l[3].y-O},l[3]]),l[3].y!==l[4].y&&x.pathListRel.push([l[3],l[4]]),x.pathListRel.push([l[4],{x:l[4].x,y:l[4].y+O},{x:l[5].x+O,y:l[5].y},l[5]]),l[5].x!==l[6].x&&x.pathListRel.push([l[5],l[6]]),x.pathListRel.push([l[6],{x:l[6].x-O,y:l[6].y},{x:l[7].x,y:l[7].y+O},l[7]]),l[7].y!==l[0].y&&x.pathListRel.push([l[7],l[0]]),x.pathListRel.push([]),l=[{x:b.left-(D=h-F+x.strokeWidth/2),y:b.top-D},{x:b.right+D,y:b.bottom+D}]):(x.pathListRel=[[(l=[{x:b.left-(D=x.strokeWidth/2),y:b.top-D},{x:b.right+D,y:b.bottom+D}])[0],{x:l[1].x,y:l[0].y}],[{x:l[1].x,y:l[0].y},l[1]],[l[1],{x:l[0].x,y:l[1].y}],[]],l=[{x:b.left-x.strokeWidth,y:b.top-x.strokeWidth},{x:b.right+x.strokeWidth,y:b.bottom+x.strokeWidth}]),x.bBoxRel={left:l[0].x,top:l[0].y,right:l[1].x,bottom:l[1].y,width:l[1].x-l[0].x,height:l[1].y-l[0].y};break;case"circle":(f={left:e.x[0]*(e.x[1]?t.width:1),top:e.y[0]*(e.y[1]?t.height:1),width:e.width[0]*(e.width[1]?t.width:1),height:e.height[0]*(e.height[1]?t.height:1)}).width||f.height||(f.width=f.height=10),f.width||(f.width=f.height),f.height||(f.height=f.width),f.right=f.left+f.width,f.bottom=f.top+f.height,v=f.left+f.width/2,s=f.top+f.height/2,p=x.strokeWidth/2,E=f.height/2,c=(y=f.width/2)*Math.SQRT2+p,k=E*Math.SQRT2+p,x.pathListRel=[[(A=[{x:v-c,y:s},{x:v,y:s-k},{x:v+c,y:s},{x:v,y:s+k}])[0],{x:A[0].x,y:A[0].y-(d=k*rt)},{x:A[1].x-(u=c*rt),y:A[1].y},A[1]],[A[1],{x:A[1].x+u,y:A[1].y},{x:A[2].x,y:A[2].y-d},A[2]],[A[2],{x:A[2].x,y:A[2].y+d},{x:A[3].x+u,y:A[3].y},A[3]],[A[3],{x:A[3].x-u,y:A[3].y},{x:A[0].x,y:A[0].y+d},A[0]],[]],x.bBoxRel={left:(A=[{x:f.left-(M=c-y+x.strokeWidth/2),y:f.top-(T=k-E+x.strokeWidth/2)},{x:f.right+M,y:f.bottom+T}])[0].x,top:A[0].y,right:A[1].x,bottom:A[1].y,width:A[1].x-A[0].x,height:A[1].y-A[0].y};break;case"polygon":e.points.forEach(function(K){var de=K.x[0]*(K.x[1]?t.width:1),pe=K.y[0]*(K.y[1]?t.height:1);a?(de<a.left&&(a.left=de),de>a.right&&(a.right=de),pe<a.top&&(a.top=pe),pe>a.bottom&&(a.bottom=pe)):a={left:de,right:de,top:pe,bottom:pe},o?x.pathListRel.push([o,{x:de,y:pe}]):x.pathListRel=[],o={x:de,y:pe}}),x.pathListRel.push([]),x.bBoxRel={left:(S=[{x:a.left-(r=x.strokeWidth/2),y:a.top-r},{x:a.right+r,y:a.bottom+r}])[0].x,top:S[0].y,right:S[1].x,bottom:S[1].y,width:S[1].x-S[0].x,height:S[1].y-S[0].y}}j.pathListRel=j.bBoxRel=!0}return(j.pathListRel||j.elementLeft||j.elementTop)&&(x.pathData=Ht(x.pathListRel,function(K){K.x+=t.left,K.y+=t.top})),N(e,Y,"strokeWidth",n=x.strokeWidth)&&(e.path.style.strokeWidth=n+"px"),Pt(n=x.pathData,Y.pathData)&&(e.path.setPathData(n),Y.pathData=n,j.pathData=!0),e.dash&&(!j.pathData&&(!j.strokeWidth||e.dashLen&&e.dashGap)||(x.dashLen=e.dashLen||2*x.strokeWidth,x.dashGap=e.dashGap||x.strokeWidth),j.dash=N(e,Y,"dashLen",x.dashLen)||j.dash,j.dash=N(e,Y,"dashGap",x.dashGap)||j.dash,j.dash&&(e.path.style.strokeDasharray=Y.dashLen+","+Y.dashGap)),B=Y.viewBoxBBox,z=e.svg.viewBox.baseVal,V=e.svg.style,(P=x.viewBoxBBox).x=x.bBoxRel.left+t.left,P.y=x.bBoxRel.top+t.top,P.width=x.bBoxRel.width,P.height=x.bBoxRel.height,["x","y","width","height"].forEach(function(K){(n=P[K])!==B[K]&&(z[K]=B[K]=n,V[Ct[K]]=n+("x"===K||"y"===K?e.bodyOffset[K]:0)+"px")}),j.strokeWidth||j.pathListRel||j.bBoxRel}},mouseHoverAnchor:{type:"anchor",argOptions:[{optionName:"element",type:yt},{optionName:"showEffectName",type:"string"}],style:{backgroundImage:"url('data:image/svg+xml;charset=utf-8;base64,PHN2ZyB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgd2lkdGg9IjI0IiBoZWlnaHQ9IjI0Ij48cG9seWdvbiBwb2ludHM9IjI0LDAgMCw4IDgsMTEgMCwxOSA1LDI0IDEzLDE2IDE2LDI0IiBmaWxsPSJjb3JhbCIvPjwvc3ZnPg==')",backgroundSize:"",backgroundRepeat:"no-repeat",backgroundColor:"#f8f881",cursor:"default"},hoverStyle:{backgroundImage:"none",backgroundColor:"#fadf8f"},padding:{top:1,right:15,bottom:1,left:2},minHeight:15,backgroundPosition:{right:2,top:2},backgroundSize:{width:12,height:12},dirKeys:[["top","Top"],["right","Right"],["bottom","Bottom"],["left","Left"]],init:function(e,t){var n,a,o,r,S,f,v,s,c,k,u,d=q.mouseHoverAnchor,p={};if(e.element=q.pointAnchor.checkElement(t.element),!((k=(s=e.element).ownerDocument)&&(c=k.defaultView)&&c.HTMLElement&&s instanceof c.HTMLElement))throw new Error("`element` must be HTML element");return d.style.backgroundSize=d.backgroundSize.width+"px "+d.backgroundSize.height+"px",["style","hoverStyle"].forEach(function(y){var E=d[y];e[y]=Object.keys(E).reduce(function(M,T){return M[T]=E[T],M},{})}),"inline"===(n=e.element.ownerDocument.defaultView.getComputedStyle(e.element,"")).display?e.style.display="inline-block":"none"===n.display&&(e.style.display="block"),q.mouseHoverAnchor.dirKeys.forEach(function(y){var E=y[0],M="padding"+y[1];parseFloat(n[M])<d.padding[E]&&(e.style[M]=d.padding[E]+"px")}),e.style.display&&(r=e.element.style.display,e.element.style.display=e.style.display),q.mouseHoverAnchor.dirKeys.forEach(function(y){var E="padding"+y[1];e.style[E]&&(p[E]=e.element.style[E],e.element.style[E]=e.style[E])}),(o=e.element.getBoundingClientRect()).height<d.minHeight&&(Ae?(u=d.minHeight,"content-box"===n.boxSizing?u-=parseFloat(n.borderTopWidth)+parseFloat(n.borderBottomWidth)+parseFloat(n.paddingTop)+parseFloat(n.paddingBottom):"padding-box"===n.boxSizing&&(u-=parseFloat(n.borderTopWidth)+parseFloat(n.borderBottomWidth)),e.style.height=u+"px"):e.style.height=parseFloat(n.height)+(d.minHeight-o.height)+"px"),e.style.backgroundPosition=me?o.width-d.backgroundSize.width-d.backgroundPosition.right+"px "+d.backgroundPosition.top+"px":"right "+d.backgroundPosition.right+"px top "+d.backgroundPosition.top+"px",e.style.display&&(e.element.style.display=r),q.mouseHoverAnchor.dirKeys.forEach(function(y){var E="padding"+y[1];e.style[E]&&(e.element.style[E]=p[E])}),["style","hoverStyle"].forEach(function(y){var E=e[y],M=t[y];qe(M)&&Object.keys(M).forEach(function(T){"string"==typeof M[T]||Ee(M[T])?E[T]=M[T]:null==M[T]&&delete E[T]})}),"function"==typeof t.onSwitch&&(v=t.onSwitch),t.showEffectName&&X[t.showEffectName]&&(e.showEffectName=S=t.showEffectName),f=t.animOptions,e.elmStyle=a=e.element.style,e.mouseenter=function(y){e.hoverStyleSave=d.getStyles(a,Object.keys(e.hoverStyle)),d.setStyles(a,e.hoverStyle),e.boundTargets.forEach(function(E){Dt(E.props,!0,S,f)}),v&&v(y)},e.mouseleave=function(y){d.setStyles(a,e.hoverStyleSave),e.boundTargets.forEach(function(E){Dt(E.props,!1,S,f)}),v&&v(y)},!0},bind:function(e,t){var n,a,o,r,S;return t.props.svg?q.mouseHoverAnchor.llShow(t.props,!1,e.showEffectName):dt(function(){q.mouseHoverAnchor.llShow(t.props,!1,e.showEffectName)}),e.enabled||(e.styleSave=q.mouseHoverAnchor.getStyles(e.elmStyle,Object.keys(e.style)),q.mouseHoverAnchor.setStyles(e.elmStyle,e.style),e.removeEventListener=(a=e.mouseenter,o=e.mouseleave,"onmouseenter"in(n=e.element)&&"onmouseleave"in n?(n.addEventListener("mouseenter",a,!1),n.addEventListener("mouseleave",o,!1),function(){n.removeEventListener("mouseenter",a,!1),n.removeEventListener("mouseleave",o,!1)}):(console.warn("mouseenter and mouseleave events polyfill is enabled."),n.addEventListener("mouseover",r=function(f){f.relatedTarget&&(f.relatedTarget===this||this.compareDocumentPosition(f.relatedTarget)&Node.DOCUMENT_POSITION_CONTAINED_BY)||a.apply(this,arguments)}),n.addEventListener("mouseout",S=function(f){f.relatedTarget&&(f.relatedTarget===this||this.compareDocumentPosition(f.relatedTarget)&Node.DOCUMENT_POSITION_CONTAINED_BY)||o.apply(this,arguments)}),function(){n.removeEventListener("mouseover",r,!1),n.removeEventListener("mouseout",S,!1)})),e.enabled=!0),!0},unbind:function(e,t){e.enabled&&e.boundTargets.length<=1&&(e.removeEventListener(),q.mouseHoverAnchor.setStyles(e.elmStyle,e.styleSave),e.enabled=!1),q.mouseHoverAnchor.llShow(t.props,!0,e.showEffectName)},removeOption:function(e,t){q.pointAnchor.removeOption(e,t)},remove:function(e){e.boundTargets.length&&(console.error("LeaderLineAttachment was not unbound by remove"),e.boundTargets.forEach(function(t){q.mouseHoverAnchor.unbind(e,t)}))},getBBoxNest:function(e,t){return vt(e.element,t.baseWindow)},llShow:function(e,t,n){X[n||e.curStats.show_effect].stop(e,!0,t),e.aplStats.show_on=t},getStyles:function(e,t){return t.reduce(function(n,a){return n[a]=e[a],n},{})},setStyles:function(e,t){Object.keys(t).forEach(function(n){e[n]=t[n]})}},captionLabel:{type:"label",argOptions:[{optionName:"text",type:"string"}],stats:{color:{},x:{},y:{}},textStyleProps:["fontFamily","fontStyle","fontVariant","fontWeight","fontStretch","fontSize","fontSizeAdjust","kerning","letterSpacing","wordSpacing","textDecoration"],init:function(e,t){return"string"==typeof t.text&&(e.text=t.text.trim()),!!e.text&&("string"==typeof t.color&&(e.color=t.color.trim()),e.outlineColor="string"==typeof t.outlineColor?t.outlineColor.trim():"#fff",Array.isArray(t.offset)&&Ee(t.offset[0])&&Ee(t.offset[1])&&(e.offset={x:t.offset[0],y:t.offset[1]}),Ee(t.lineOffset)&&(e.lineOffset=t.lineOffset),q.captionLabel.textStyleProps.forEach(function(n){null!=t[n]&&(e[n]=t[n])}),e.updateColor=function(n){q.captionLabel.updateColor(e,n)},e.updateSocketXY=function(n){var a,o,r,S,f=e.curStats,v=e.aplStats,s=n.curStats,c=s.position_socketXYSE[e.socketIndex];null!=c.x&&(e.offset?(f.x=c.x+e.offset.x,f.y=c.y+e.offset.y):(a=e.height/2,o=Math.max(s.attach_plugSideLenSE[e.socketIndex]||0,s.line_strokeWidth/2),r=s.position_socketXYSE[e.socketIndex?0:1],4===c.socketId||2===c.socketId?(f.x=4===c.socketId?c.x-a-e.width:c.x+a,f.y=r.y<c.y?c.y+o+a:c.y-o-a-e.height):(f.x=r.x<c.x?c.x+o+a:c.x-o-a-e.width,f.y=1===c.socketId?c.y-a-e.height:c.y+a)),N(e,v,"x",S=f.x)&&(e.elmPosition.x.baseVal.getItem(0).value=S),N(e,v,"y",S=f.y)&&(e.elmPosition.y.baseVal.getItem(0).value=S+e.height))},e.updatePath=function(n){var a,o,r=e.curStats,S=e.aplStats,f=n.pathList.animVal||n.pathList.baseVal;f&&(a=q.captionLabel.getMidPoint(f,e.lineOffset),r.x=a.x-e.width/2,r.y=a.y-e.height/2,N(e,S,"x",o=r.x)&&(e.elmPosition.x.baseVal.getItem(0).value=o),N(e,S,"y",o=r.y)&&(e.elmPosition.y.baseVal.getItem(0).value=o+e.height))},e.updateShow=function(n){q.captionLabel.updateShow(e,n)},me&&(e.adjustEdge=function(n,a){var o=e.curStats;null!=o.x&&q.captionLabel.adjustEdge(a,{x:o.x,y:o.y,width:e.width,height:e.height},e.strokeWidth/2)}),!0)},updateColor:function(e,t){var n,o=e.aplStats;e.curStats.color=n=e.color||t.curStats.line_color,N(e,o,"color",n)&&(e.styleFill.fill=n)},updateShow:function(e,t){var n=!0===t.isShown;n!==e.isShown&&(e.styleShow.visibility=n?"":"hidden",e.isShown=n)},adjustEdge:function(e,t,n){var a={x1:t.x-n,y1:t.y-n,x2:t.x+t.width+n,y2:t.y+t.height+n};a.x1<e.x1&&(e.x1=a.x1),a.y1<e.y1&&(e.y1=a.y1),a.x2>e.x2&&(e.x2=a.x2),a.y2>e.y2&&(e.y2=a.y2)},newText:function(e,t,n,a,o){var r,S,f,v,s,c;return(r=t.createElementNS(H,"text")).textContent=e,[r.x,r.y].forEach(function(k){var u=n.createSVGLength();u.newValueSpecifiedUnits(SVGLength.SVG_LENGTHTYPE_PX,0),k.baseVal.initialize(u)}),"boolean"!=typeof Je&&(Je="paintOrder"in r.style),o&&!Je?(f=t.createElementNS(H,"defs"),r.id=a,f.appendChild(r),(s=(S=t.createElementNS(H,"g")).appendChild(t.createElementNS(H,"use"))).href.baseVal="#"+a,(v=S.appendChild(t.createElementNS(H,"use"))).href.baseVal="#"+a,(c=s.style).strokeLinejoin="round",{elmPosition:r,styleText:r.style,styleFill:v.style,styleStroke:c,styleShow:S.style,elmsAppend:[f,S]}):(c=r.style,o&&(c.strokeLinejoin="round",c.paintOrder="stroke"),{elmPosition:r,styleText:c,styleFill:c,styleStroke:o?c:null,styleShow:c,elmsAppend:[r]})},getMidPoint:function(e,t){var n,a,o,r=Qt(e),S=r.segsLen,f=r.lenAll,v=-1;if((n=f/2+(t||0))<=0)return 2===(a=e[0]).length?St(a[0],a[1],0):ut(a[0],a[1],a[2],a[3],0);if(f<=n)return 2===(a=e[e.length-1]).length?St(a[0],a[1],1):ut(a[0],a[1],a[2],a[3],1);for(o=[];n>S[++v];)o.push(e[v]),n-=S[v];return 2===(a=e[v]).length?St(a[0],a[1],n/S[v]):ut(a[0],a[1],a[2],a[3],jt(a[0],a[1],a[2],a[3],n))},initSvg:function(e,t){var n,a,o=q.captionLabel.newText(e.text,t.baseWindow.document,t.svg,_e+"-captionLabel-"+e._id,e.outlineColor);["elmPosition","styleFill","styleShow","elmsAppend"].forEach(function(r){e[r]=o[r]}),e.isShown=!1,e.styleShow.visibility="hidden",q.captionLabel.textStyleProps.forEach(function(r){null!=e[r]&&(o.styleText[r]=e[r])}),o.elmsAppend.forEach(function(r){t.svg.appendChild(r)}),n=o.elmPosition.getBBox(),e.width=n.width,e.height=n.height,e.outlineColor&&(a=10<(a=n.height/9)?10:a<2?2:a,o.styleStroke.strokeWidth=a+"px",o.styleStroke.stroke=e.outlineColor),e.strokeWidth=a||0,be(e.aplStats,q.captionLabel.stats),e.updateColor(t),e.refSocketXY?e.updateSocketXY(t):e.updatePath(t),me&&Le(t,{}),e.updateShow(t)},bind:function(e,t){var n=t.props;return e.color||ve(n,"cur_line_color",e.updateColor),(e.refSocketXY="startLabel"===t.optionName||"endLabel"===t.optionName)?(e.socketIndex="startLabel"===t.optionName?0:1,ve(n,"apl_position",e.updateSocketXY),e.offset||(ve(n,"cur_attach_plugSideLenSE",e.updateSocketXY),ve(n,"cur_line_strokeWidth",e.updateSocketXY))):ve(n,"apl_path",e.updatePath),ve(n,"svgShow",e.updateShow),me&&ve(n,"new_edge4viewBox",e.adjustEdge),q.captionLabel.initSvg(e,n),!0},unbind:function(e,t){var n=t.props;e.elmsAppend&&(e.elmsAppend.forEach(function(a){n.svg.removeChild(a)}),e.elmPosition=e.styleFill=e.styleShow=e.elmsAppend=null),be(e.curStats,q.captionLabel.stats),be(e.aplStats,q.captionLabel.stats),e.color||Se(n,"cur_line_color",e.updateColor),e.refSocketXY?(Se(n,"apl_position",e.updateSocketXY),e.offset||(Se(n,"cur_attach_plugSideLenSE",e.updateSocketXY),Se(n,"cur_line_strokeWidth",e.updateSocketXY))):Se(n,"apl_path",e.updatePath),Se(n,"svgShow",e.updateShow),me&&(Se(n,"new_edge4viewBox",e.adjustEdge),Le(n,{}))},removeOption:function(e,t){var n=t.props,a={};a[t.optionName]="",Nt(n,a)},remove:function(e){e.boundTargets.length&&(console.error("LeaderLineAttachment was not unbound by remove"),e.boundTargets.forEach(function(t){q.captionLabel.unbind(e,t)}))}},pathLabel:{type:"label",argOptions:[{optionName:"text",type:"string"}],stats:{color:{},startOffset:{},pathData:{}},init:function(e,t){return"string"==typeof t.text&&(e.text=t.text.trim()),!!e.text&&("string"==typeof t.color&&(e.color=t.color.trim()),e.outlineColor="string"==typeof t.outlineColor?t.outlineColor.trim():"#fff",Ee(t.lineOffset)&&(e.lineOffset=t.lineOffset),q.captionLabel.textStyleProps.forEach(function(n){null!=t[n]&&(e[n]=t[n])}),e.updateColor=function(n){q.captionLabel.updateColor(e,n)},e.updatePath=function(n){var a,r=e.aplStats,f=n.pathList.animVal||n.pathList.baseVal;f&&(e.curStats.pathData=a=q.pathLabel.getOffsetPathData(f,n.curStats.line_strokeWidth/2+e.strokeWidth/2+e.height/4,1.25*e.height),Pt(a,r.pathData)&&(e.elmPath.setPathData(a),r.pathData=a,e.bBox=e.elmPosition.getBBox(),e.updateStartOffset(n)))},e.updateStartOffset=function(n){var a,o,r,S,f=e.curStats,v=e.aplStats,s=n.curStats;f.pathData&&(2!==e.semIndex||e.lineOffset)&&(a=f.pathData.reduce(function(c,k){var u,d=k.values;switch(k.type){case"M":S={x:d[0],y:d[1]};break;case"L":u={x:d[0],y:d[1]},S&&(c+=Ge(S,u)),S=u;break;case"C":u={x:d[4],y:d[5]},S&&(c+=xt(S,{x:d[0],y:d[1]},{x:d[2],y:d[3]},u)),S=u}return c},0),r=0===e.semIndex?0:1===e.semIndex?a:a/2,2!==e.semIndex&&(o=Math.max(s.attach_plugBackLenSE[e.semIndex]||0,s.line_strokeWidth/2)+e.strokeWidth/2+e.height/4,r=(r+=0===e.semIndex?o:-o)<0?0:a<r?a:r),e.lineOffset&&(r=(r+=e.lineOffset)<0?0:a<r?a:r),f.startOffset=r,N(e,v,"startOffset",r)&&(e.elmOffset.startOffset.baseVal.value=r))},e.updateShow=function(n){q.captionLabel.updateShow(e,n)},me&&(e.adjustEdge=function(n,a){e.bBox&&q.captionLabel.adjustEdge(a,e.bBox,e.strokeWidth/2)}),!0)},getOffsetPathData:function(e,t,n){var a,o,S=[];function f(v,s){return Math.abs(v.x-s.x)<3&&Math.abs(v.y-s.y)<3}return e.forEach(function(v){var s,c,k,u,d,p,y,E,M,T,A,b,h,_,m,Z,F,D,l,O,P;2===v.length?(D=v[0],l=v[1],O=t,P=Math.atan2(D.y-l.y,l.x-D.x)+.5*Math.PI,s=[{x:D.x+Math.cos(P)*O,y:D.y+Math.sin(P)*O*-1},{x:l.x+Math.cos(P)*O,y:l.y+Math.sin(P)*O*-1}],a?(k=a.points,0<=(u=Math.atan2(k[1].y-k[0].y,k[0].x-k[1].x)-Math.atan2(v[0].y-v[1].y,v[1].x-v[0].x))&&u<=Math.PI?c={type:"line",points:s,inside:!0}:(p=Tt(k[0],k[1],t),d=Tt(s[1],s[0],t),b=(M=p).x-(E=k[0]).x,F=((_=(A=s[1]).x-(T=d).x)*(E.y-T.y)-(m=A.y-T.y)*(E.x-T.x))/(-_*(h=M.y-E.y)+b*m),(y=0<=(Z=(-h*(E.x-T.x)+b*(E.y-T.y))/(-_*h+b*m))&&Z<=1&&0<=F&&F<=1?{x:E.x+F*b,y:E.y+F*h}:null)?c={type:"line",points:[k[1]=y,s[1]]}:(k[1]=f(d,p)?d:p,c={type:"line",points:[d,s[1]]}),a.len=Ge(k[0],k[1]))):c={type:"line",points:s},c.len=Ge(c.points[0],c.points[1]),S.push(a=c)):(S.push({type:"cubic",points:function(B,z,V,x,Y,oe){for(var j,K,de=xt(B,z,V,x)/16,pe=1/(16<Y?de*(Y/16):de),re=[],ke=0;K=(90-(j=ut(B,z,V,x,ke)).angle)*(Math.PI/180),re.push({x:j.x+Math.cos(K)*Y,y:j.y+Math.sin(K)*Y*-1}),!(1<=ke);)1<(ke+=pe)&&(ke=1);return re}(v[0],v[1],v[2],v[3],t)}),a=null)}),a=null,S.forEach(function(v){var s;"line"===v.type?(v.inside&&(a.len>t?((s=a.points)[1]=Tt(s[0],s[1],-t),a.len=Ge(s[0],s[1])):(a.points=null,a.len=0),v.len>t+n?((s=v.points)[0]=Tt(s[1],s[0],-(t+n)),v.len=Ge(s[0],s[1])):(v.points=null,v.len=0)),a=v):a=null}),S.reduce(function(v,s){var c=s.points;return c&&(o&&f(c[0],o)||v.push({type:"M",values:[c[0].x,c[0].y]}),"line"===s.type?v.push({type:"L",values:[c[1].x,c[1].y]}):(c.shift(),c.forEach(function(k){v.push({type:"L",values:[k.x,k.y]})})),o=c[c.length-1]),v},[])},newText:function(e,t,n,a){var o,r,S,f,v,s,c,k,u,d;return(f=(S=t.createElementNS(H,"defs")).appendChild(t.createElementNS(H,"path"))).id=o=n+"-path",(s=(v=t.createElementNS(H,"text")).appendChild(t.createElementNS(H,"textPath"))).href.baseVal="#"+o,s.startOffset.baseVal.newValueSpecifiedUnits(SVGLength.SVG_LENGTHTYPE_PX,0),s.textContent=e,"boolean"!=typeof Je&&(Je="paintOrder"in v.style),a&&!Je?(v.id=r=n+"-text",S.appendChild(v),(u=(c=t.createElementNS(H,"g")).appendChild(t.createElementNS(H,"use"))).href.baseVal="#"+r,(k=c.appendChild(t.createElementNS(H,"use"))).href.baseVal="#"+r,(d=u.style).strokeLinejoin="round",{elmPosition:v,elmPath:f,elmOffset:s,styleText:v.style,styleFill:k.style,styleStroke:d,styleShow:c.style,elmsAppend:[S,c]}):(d=v.style,a&&(d.strokeLinejoin="round",d.paintOrder="stroke"),{elmPosition:v,elmPath:f,elmOffset:s,styleText:d,styleFill:d,styleStroke:a?d:null,styleShow:d,elmsAppend:[S,v]})},initSvg:function(e,t){var n,a,o=q.pathLabel.newText(e.text,t.baseWindow.document,_e+"-pathLabel-"+e._id,e.outlineColor);["elmPosition","elmPath","elmOffset","styleFill","styleShow","elmsAppend"].forEach(function(r){e[r]=o[r]}),e.isShown=!1,e.styleShow.visibility="hidden",q.captionLabel.textStyleProps.forEach(function(r){null!=e[r]&&(o.styleText[r]=e[r])}),o.elmsAppend.forEach(function(r){t.svg.appendChild(r)}),o.elmPath.setPathData([{type:"M",values:[0,100]},{type:"h",values:[100]}]),n=o.elmPosition.getBBox(),o.styleText.textAnchor=["start","end","middle"][e.semIndex],2!==e.semIndex||e.lineOffset||o.elmOffset.startOffset.baseVal.newValueSpecifiedUnits(SVGLength.SVG_LENGTHTYPE_PERCENTAGE,50),e.height=n.height,e.outlineColor&&(a=10<(a=n.height/9)?10:a<2?2:a,o.styleStroke.strokeWidth=a+"px",o.styleStroke.stroke=e.outlineColor),e.strokeWidth=a||0,be(e.aplStats,q.pathLabel.stats),e.updateColor(t),e.updatePath(t),e.updateStartOffset(t),me&&Le(t,{}),e.updateShow(t)},bind:function(e,t){var n=t.props;return e.color||ve(n,"cur_line_color",e.updateColor),ve(n,"cur_line_strokeWidth",e.updatePath),ve(n,"apl_path",e.updatePath),e.semIndex="startLabel"===t.optionName?0:"endLabel"===t.optionName?1:2,(2!==e.semIndex||e.lineOffset)&&ve(n,"cur_attach_plugBackLenSE",e.updateStartOffset),ve(n,"svgShow",e.updateShow),me&&ve(n,"new_edge4viewBox",e.adjustEdge),q.pathLabel.initSvg(e,n),!0},unbind:function(e,t){var n=t.props;e.elmsAppend&&(e.elmsAppend.forEach(function(a){n.svg.removeChild(a)}),e.elmPosition=e.elmPath=e.elmOffset=e.styleFill=e.styleShow=e.elmsAppend=null),be(e.curStats,q.pathLabel.stats),be(e.aplStats,q.pathLabel.stats),e.color||Se(n,"cur_line_color",e.updateColor),Se(n,"cur_line_strokeWidth",e.updatePath),Se(n,"apl_path",e.updatePath),(2!==e.semIndex||e.lineOffset)&&Se(n,"cur_attach_plugBackLenSE",e.updateStartOffset),Se(n,"svgShow",e.updateShow),me&&(Se(n,"new_edge4viewBox",e.adjustEdge),Le(n,{}))},removeOption:function(e,t){var n=t.props,a={};a[t.optionName]="",Nt(n,a)},remove:function(e){e.boundTargets.length&&(console.error("LeaderLineAttachment was not unbound by remove"),e.boundTargets.forEach(function(t){q.pathLabel.unbind(e,t)}))}}},Object.keys(q).forEach(function(e){De[e]=function(){return new Ie(q[e],Array.prototype.slice.call(arguments))}}),De.positionByWindowResize=!0,window.addEventListener("resize",g.add(function(){De.positionByWindowResize&&Object.keys(ye).forEach(function(e){Le(ye[e],{position:!0})})}),!1)}()},6207:(an,ie,X)=>{"use strict";X.r(ie),X.d(ie,{PipelineModule:()=>Ee});var q=X(8583),Ie=X(3461),Ue=X(9765),ht=X(2298),fe=(()=>{return(L=fe||(fe={})).datasetInput="dataset_input",L.datasetOutput="dataset_output",L.filter="filter",L.join="join",L.select="select",L.aggregate="aggregate",fe;var L})();const We={[fe.datasetInput]:{type:fe.datasetInput,title:"\u062f\u06cc\u062a\u0627\u0633\u062a \u0648\u0631\u0648\u062f\u06cc",altTitle:"",numInputs:0,hasOutput:!0,iconName:"file_download"},[fe.datasetOutput]:{type:fe.datasetOutput,title:"\u062f\u06cc\u062a\u0627\u0633\u062a \u062e\u0631\u0648\u062c\u06cc",altTitle:"",numInputs:1,hasOutput:!1,iconName:"publish"},[fe.filter]:{type:fe.filter,title:"\u0641\u06cc\u0644\u062a\u0631",altTitle:"Filter",numInputs:1,hasOutput:!0,iconName:"filter_alt"},[fe.join]:{type:fe.join,title:"\u0627\u0644\u062d\u0627\u0642",altTitle:"Join",numInputs:1,hasOutput:!0,iconName:"merge_type"},[fe.select]:{type:fe.select,title:"\u0627\u0646\u062a\u062e\u0627\u0628",altTitle:"Select",numInputs:1,hasOutput:!0,iconName:"edit"},[fe.aggregate]:{type:fe.aggregate,title:"\u062a\u062c\u0645\u06cc\u0639",altTitle:"Aggregate",numInputs:1,hasOutput:!0,iconName:"stacked_bar_chart"}};class Je{constructor(U){this.name=U,this.nodes=[],this.nodeAdded=new Ue.xQ,this.nodeEdited=new Ue.xQ,this.nodeRemoved=new Ue.xQ,this.loaded=new ht.t(1)}addNode(U){if(this.nodes.some(g=>g.id===U.id))throw new Error("a node with the same id already exists in the pipeline");this.nodes.push(U),this.nodeAdded.next(U)}createNode(U,g,C={x:0,y:0},I){if(void 0!==I){if(I.length!==We[g].numInputs)throw new Error("invalid number of inputs")}else I=new Array(We[g].numInputs).fill(null);const Q={id:this.nextId,name:U,type:g,inputs:I,position:C};return this.addNode(Q),Q.id}get nextId(){return Math.max(-1,...this.nodes.map(U=>U.id))+1}editNode(U){const g=this.nodes.findIndex(C=>C.id===U.id);if(g<0)throw new Error("a node with the given id does not exist in the pipeline");this.nodes[g]=U,this.nodeEdited.next(U)}markNodeAsEdited(U){const g=this.nodes.find(C=>C.id===U);if(void 0===g)throw new Error("a node with the given id does not exist in the pipeline");this.nodeEdited.next(g)}removeNode(U){const g=this.nodes.findIndex(I=>I.id===U);if(g<0)throw new Error("a node with the given id does not exist in the pipeline");this.nodes.forEach(I=>{let Q=!1;for(let ne=0;ne<I.inputs.length;ne++)I.inputs[ne]===U&&(I.inputs[ne]=null,Q=!0);Q&&this.nodeEdited.next(I)});const C=this.nodes.splice(g,1)[0];this.nodeRemoved.next(C)}reorder(){const U=[];for(let g=0;g<this.nodes.length;g++){let C=!1,I=g;for(;I<this.nodes.length;I++)if(this.nodes[I].inputs.every(ne=>null===ne||U.includes(ne))){C=!0;break}if(!C)throw new Error("the pipeline is cyclic!");U.push(this.nodes[I].id),(0,Ie.bA)(this.nodes,g,I)}}export(){return{name:this.name,processes:this.nodes}}}var i=X(7716),Et=X(2522),tt=X(4655),nt=X(1095),_e=X(6627),Me=X(8295),Ve=X(9983),Te=X(3679),we=X(5384),Be=X(3017);X(70);let it=(()=>{class L{constructor(g){this.document=g}onContainer(g){return(C,I,Q)=>{let ne;ne=void 0===Q?new LeaderLine(C,I):new LeaderLine(C,I,Q);const ye=this.document.querySelector("body > .leader-line:last-of-type");if(!ye)return console.error("element of line was not found:",ne),ne;g.appendChild(ye);const zt=ne.remove;return ne.remove=()=>{this.document.body.appendChild(ye),zt.bind(ne)()},ne}}}return L.\u0275fac=function(g){return new(g||L)(i.LFG(q.K0))},L.\u0275prov=i.Yz7({token:L,factory:L.\u0275fac}),L})();var Qe=X(3738),ft=X(2458);let kt=(()=>{class L{constructor(g){this.hostRef=g,this.onInit=new i.vpe,this.afterViewInit=new i.vpe,this.onDestroy=new i.vpe}ngOnInit(){this.onInit.emit(this.hostRef.nativeElement)}ngAfterViewInit(){this.afterViewInit.emit(this.hostRef.nativeElement)}ngOnDestroy(){this.onDestroy.emit(this.hostRef.nativeElement)}}return L.\u0275fac=function(g){return new(g||L)(i.Y36(i.SBq))},L.\u0275dir=i.lG2({type:L,selectors:[["","spy-element",""]],outputs:{onInit:"onInit",afterViewInit:"afterViewInit",onDestroy:"onDestroy"}}),L})();const wt=["connectionEnd"],Fe=["connectionEndPreview"],Ft=["*"];let Rt=(()=>{class L{constructor(g,C){this.lineService=g,this.document=C,this.connectionRestVisibility=!0}tryToInitializeLine(){var g,C;if(void 0===this.line&&void 0!==this.lineContainer&&void 0!==this.connectionBegin&&void 0!==this.connectionEndRef){const I=this.lineService.onContainer(this.lineContainer);this.line=I(this.connectionBegin,null===(g=this.connectionEndRef)||void 0===g?void 0:g.nativeElement,{color:"var(--arrow-color)",startSocket:"left",endSocket:"right",path:"fluid",hide:!this.connectionRestVisibility,startSocketGravity:100,endSocketGravity:100}),this.subscription=null===(C=this.reposition)||void 0===C?void 0:C.subscribe(()=>{var Q;null===(Q=this.line)||void 0===Q||Q.position()}),this.line.position()}}updateLineVisibility(){void 0!==this.line&&(this.connectionRestVisibility?this.line.show():this.line.hide("none"))}ngOnInit(){}ngAfterViewInit(){this.tryToInitializeLine(),this.updateLineVisibility()}ngOnChanges(g){this.tryToInitializeLine(),"visibilityOnRest"in g&&this.updateLineVisibility()}ngOnDestroy(){var g,C;null===(g=this.subscription)||void 0===g||g.unsubscribe(),null===(C=this.line)||void 0===C||C.remove()}previewDragStarted(g){this.line.end=this.document.getElementsByClassName("cdk-drag-preview")[0],this.line.show()}previewDragMoved(g){var C;null===(C=this.line)||void 0===C||C.position()}previewDragEnded(){var g;this.line.end=null===(g=this.connectionEndRef)||void 0===g?void 0:g.nativeElement,this.updateLineVisibility()}}return L.\u0275fac=function(g){return new(g||L)(i.Y36(it),i.Y36(q.K0))},L.\u0275cmp=i.Xpm({type:L,selectors:[["app-anchor"]],viewQuery:function(g,C){if(1&g&&(i.Gf(wt,5),i.Gf(Fe,5)),2&g){let I;i.iGM(I=i.CRH())&&(C.connectionEndRef=I.first),i.iGM(I=i.CRH())&&(C.connectionEndPreviewRef=I.first)}},inputs:{lineContainer:"lineContainer",connectionBegin:"connectionBegin",connectionRestVisibility:"connectionRestVisibility",reposition:"reposition",dragData:"dragData"},features:[i.TTD],ngContentSelectors:Ft,decls:3,vars:1,consts:[["cdkDrag","",3,"cdkDragData","cdkDragMoved","cdkDragStarted","cdkDragEnded"],["connectionEnd",""]],template:function(g,C){1&g&&(i.F$t(),i.TgZ(0,"div",0,1),i.NdJ("cdkDragMoved",function(Q){return C.previewDragMoved(Q)})("cdkDragStarted",function(Q){return C.previewDragStarted(Q)})("cdkDragEnded",function(){return C.previewDragEnded()}),i.Hsn(2),i.qZA()),2&g&&i.Q6J("cdkDragData",C.dragData)},directives:[Ie.Zt],styles:["[_nghost-%COMP%] > *[_ngcontent-%COMP%]{position:absolute}"]}),L})();const at=["lineContainer"],mt=["cardContainer"];function ot(L,U){if(1&L){const g=i.EpF();i.TgZ(0,"app-anchor",29),i.NdJ("shouldReposition",function(){return i.CHM(g),i.oxw(3).shouldReposition=!0}),i._UZ(1,"div",30),i.qZA()}if(2&L){const g=i.oxw().$implicit,C=i.oxw(2),I=i.MAs(9);i.Q6J("lineContainer",I)("connectionBegin",g.outputPlaceholderElement)("reposition",C.reposition)("dragData",g)}}const gt=function(L,U){return{type:"input",card:L,index:U}};function je(L,U){if(1&L){const g=i.EpF();i.TgZ(0,"div",27),i.NdJ("cdkDropListDropped",function(I){return i.CHM(g),i.oxw(2).buttonDrop(I)}),i.YNc(1,ot,2,4,"app-anchor",28),i.qZA()}if(2&L){const g=U.$implicit,C=U.index,I=i.oxw().$implicit,Q=i.oxw();i.Q6J("cdkDropListData",i.WLB(3,gt,I,C))("cdkDropListEnterPredicate",Q.inputDropEnterPredicate),i.xp6(1),i.Q6J("ngIf",null!==g)}}const Ct=function(L){return{card:L,type:"output"}};function Wt(L,U){if(1&L){const g=i.EpF();i.TgZ(0,"div",31),i.NdJ("cdkDropListDropped",function(I){return i.CHM(g),i.oxw(2).buttonDrop(I)}),i.TgZ(1,"app-anchor",32),i._UZ(2,"div",30),i.qZA(),i.qZA()}if(2&L){const g=i.oxw().$implicit,C=i.MAs(23),I=i.oxw(),Q=i.MAs(9);i.Q6J("cdkDropListData",i.VKq(6,Ct,g)),i.xp6(1),i.Q6J("lineContainer",Q)("connectionBegin",C)("connectionRestVisibility",!1)("reposition",I.reposition)("dragData",g)}}function Ot(L,U){if(1&L){const g=i.EpF();i.TgZ(0,"mat-card",17),i.NdJ("click",function(){const Q=i.CHM(g).$implicit;return i.oxw().updateSelectedCard(Q)})("cdkDragStarted",function(I){return i.CHM(g),i.oxw().cardDragStarted(I)})("cdkDragEnded",function(I){return i.CHM(g),i.oxw().cardDragEnded(I)})("cdkDragMoved",function(){return i.CHM(g),i.oxw().shouldReposition=!0})("transitionend",function(){return i.CHM(g),i.oxw().shouldReposition=!0}),i.TgZ(1,"mat-card-header"),i.TgZ(2,"mat-card-title"),i._uU(3),i.qZA(),i.TgZ(4,"mat-card-subtitle"),i.TgZ(5,"mat-icon"),i._uU(6),i.qZA(),i.TgZ(7,"span"),i._uU(8),i.qZA(),i.qZA(),i.qZA(),i.TgZ(9,"div",18),i.TgZ(10,"button",19),i.TgZ(11,"mat-icon"),i._uU(12,"more_vert"),i.qZA(),i.qZA(),i.TgZ(13,"mat-menu",null,20),i.TgZ(15,"button",21),i.NdJ("click",function(){const Q=i.CHM(g).$implicit;return i.oxw().removeNode(Q.node.id)}),i.TgZ(16,"mat-icon"),i._uU(17,"delete"),i.qZA(),i.TgZ(18,"span"),i._uU(19,"\u062d\u0630\u0641"),i.qZA(),i.qZA(),i.qZA(),i.qZA(),i.TgZ(20,"div",22),i.YNc(21,je,2,6,"div",23),i.qZA(),i.TgZ(22,"div",24,25),i.NdJ("onInit",function(){const Q=i.CHM(g).$implicit,ne=i.MAs(23);return Q.outputPlaceholderElement=ne}),i.YNc(24,Wt,3,8,"div",26),i.qZA(),i.qZA()}if(2&L){const g=U.$implicit,C=i.MAs(14),I=i.oxw();i.ekj("selected",(null==I.selectedCard||null==I.selectedCard.node?null:I.selectedCard.node.id)===g.node.id),i.Q6J("cdkDragData",g)("cdkDragFreeDragPosition",g.position),i.xp6(3),i.Oqu(g.title),i.xp6(3),i.hij(" ",g.typeInfo.iconName," "),i.xp6(2),i.Oqu(g.subtitle),i.xp6(2),i.Q6J("matMenuTriggerFor",C),i.xp6(11),i.Q6J("ngForOf",g.inputs),i.xp6(3),i.Q6J("ngIf",g.hasOutput)}}function Bt(L,U){1&L&&i._UZ(0,"div",40)}function qt(L,U){1&L&&i._UZ(0,"div",41)}const Mt=function(){return[]};function Gt(L,U){if(1&L&&(i.TgZ(0,"div"),i.TgZ(1,"mat-card",36),i.TgZ(2,"mat-card-header"),i.TgZ(3,"mat-card-title"),i._uU(4),i.qZA(),i.TgZ(5,"mat-card-subtitle"),i.TgZ(6,"mat-icon"),i._uU(7),i.qZA(),i.TgZ(8,"span"),i._uU(9),i.qZA(),i.qZA(),i.qZA(),i.TgZ(10,"div",22),i.YNc(11,Bt,1,0,"div",37),i.qZA(),i.TgZ(12,"div",38),i.YNc(13,qt,1,0,"div",39),i.qZA(),i.qZA(),i.qZA()),2&L){const g=i.oxw().$implicit;i.xp6(4),i.hij(" ",g.title," "),i.xp6(3),i.hij(" ",g.iconName," "),i.xp6(2),i.Oqu(g.title),i.xp6(2),i.Q6J("ngForOf",i.DdM(5,Mt).constructor(g.numInputs)),i.xp6(2),i.Q6J("ngIf",g.hasOutput)}}function Xe(L,U){if(1&L){const g=i.EpF();i.TgZ(0,"div",33),i.TgZ(1,"mat-card",34),i.NdJ("cdkDragEnded",function(I){return i.CHM(g),i.oxw().addNode(I)}),i.TgZ(2,"mat-icon"),i._uU(3),i.qZA(),i.TgZ(4,"span"),i._uU(5),i.qZA(),i.YNc(6,Gt,14,6,"div",35),i.qZA(),i.qZA()}if(2&L){const g=U.$implicit;i.xp6(1),i.Q6J("cdkDragData",g),i.xp6(2),i.Oqu(g.iconName),i.xp6(2),i.Oqu(g.title)}}const Pe=function(){return{type:"remove"}},Re=4*parseFloat(getComputedStyle(document.documentElement).fontSize);class st{constructor(U){this.node=U,this.inputs=Array(U.inputs.length).fill(null),this.hasOutput=this.typeInfo.hasOutput,this.updatePosition()}get title(){return this.node.name}get subtitle(){return We[this.node.type].title}get typeInfo(){return We[this.node.type]}updatePosition(){this.position={x:-this.node.position.x*Re,y:this.node.position.y*Re}}}let H=(()=>{class L{constructor(g){this.lineService=g,this.selectedNodeEvent=new i.vpe,this.lines=[],this.baseOffset={x:0,y:0},this.dragOffset={x:0,y:0},this.cards=[],this.reposition=new Ue.xQ,this.shouldReposition=!1,this.Card=st,this.nodeTypes=Object.values(We),this.log=console.log}ngOnInit(){this.pipeline.nodes.forEach(g=>{this.cards.push(new st(g))}),this.pipeline.nodes.forEach(g=>{this.updateCardInputs(g)}),this.pipeline.nodeAdded.subscribe(g=>{this.cards.push(new st(g)),this.updateCardInputs(g)}),this.pipeline.nodeEdited.subscribe(g=>{this.updateCardInputs(g)}),this.pipeline.nodeRemoved.subscribe(g=>{const C=this.cards.findIndex(I=>I.node.id===g.id);this.cards.splice(C,1)}),this.pipeline.loaded.subscribe(()=>{this.autoView()})}ngAfterViewInit(){this.Line=this.lineService.onContainer(this.lineContainer.nativeElement),window.addEventListener("load",()=>{this.reposition.next()})}ngAfterViewChecked(){this.reposition.next(),this.shouldReposition=!1}updateSelectedCard(g){this.selectedCard=g,this.selectedNodeEvent.emit(null==g?void 0:g.node)}autoView(){if(this.pipeline.nodes.length>0){const g=this.pipeline.nodes.reduce((C,I)=>({x:Math.min(C.x,I.position.x),y:Math.min(C.y,I.position.y)}),{x:Number.POSITIVE_INFINITY,y:Number.POSITIVE_INFINITY});this.baseOffset={x:(g.x-2)*Re,y:-(g.y-2)*Re}}}updateCardInputs(g){const C=this.findCard(g.id);for(let I=0;I<C.inputs.length;I++)C.inputs[I]=null===g.inputs[I]?null:this.findCard(g.inputs[I])}findCard(g){return this.cards.find(C=>C.node.id===g)}inputDropEnterPredicate(g,C){return g.data!==C.data.card}buttonDrop(g){if(g.previousContainer===g.container)return;const C=g.previousContainer.data,I=g.container.data;"output"===I.type||"remove"===I.type?"input"===C.type&&(C.card.node.inputs[C.index]=null,this.pipeline.markNodeAsEdited(C.card.node.id)):"input"===I.type&&("input"===C.type?(I.card.node.inputs[I.index]=C.card.node.inputs[C.index],C.card.node.inputs[C.index]=null,this.pipeline.markNodeAsEdited(C.card.node.id),this.pipeline.markNodeAsEdited(I.card.node.id)):"output"===C.type&&(I.card.node.inputs[I.index]=C.card.node.id,this.pipeline.markNodeAsEdited(I.card.node.id)))}updateDragOffset(g){this.dragOffset=g.distance}updateOffset(g){this.baseOffset={x:this.baseOffset.x+g.distance.x,y:this.baseOffset.y+g.distance.y},this.dragOffset={x:0,y:0},g.source.reset()}cardDragStarted(g){g.source.element.nativeElement.classList.remove("snap-animation")}cardDragEnded(g){g.source.element.nativeElement.classList.add("snap-animation"),g.source.data.node.position={x:Math.round(-g.source.getFreeDragPosition().x/Re),y:Math.round(g.source.getFreeDragPosition().y/Re)},g.source.data.updatePosition()}addNode(g){const C=this.cardContainer.nativeElement.getBoundingClientRect();if(g.dropPoint.x<C.left||g.dropPoint.x>C.right||g.dropPoint.y<C.top||g.dropPoint.y>C.bottom)return;const I_y=g.dropPoint.y-C.top-Re-this.baseOffset.y,Q={x:Math.round((C.right-g.dropPoint.x-2.5*Re+this.baseOffset.x)/Re),y:Math.round(I_y/Re)};this.pipeline.createNode(g.source.data.title,g.source.data.type,Q)}removeNode(g){var C,I;this.pipeline.removeNode(g),(null===(I=null===(C=this.selectedCard)||void 0===C?void 0:C.node)||void 0===I?void 0:I.id)===g&&this.updateSelectedCard(void 0)}}return L.\u0275fac=function(g){return new(g||L)(i.Y36(it))},L.\u0275cmp=i.Xpm({type:L,selectors:[["app-diagram"]],viewQuery:function(g,C){if(1&g&&(i.Gf(at,5),i.Gf(mt,5)),2&g){let I;i.iGM(I=i.CRH())&&(C.lineContainer=I.first),i.iGM(I=i.CRH())&&(C.cardContainer=I.first)}},inputs:{pipeline:"pipeline"},outputs:{selectedNodeEvent:"selectedNode"},decls:24,vars:10,consts:[["hasBackdrop","false"],[1,"diagram-container"],["cdkDropListGroup","","cdkDrag","",1,"card-container",3,"cdkDragEnded","cdkDragMoved"],["cardContainer",""],["cdkDropList","",1,"remove-connection-container",3,"cdkDropListData","cdkDropListDropped"],[1,"offset-container"],["class","diagram-card","cdkDrag","",3,"selected","cdkDragData","cdkDragFreeDragPosition","click","cdkDragStarted","cdkDragEnded","cdkDragMoved","transitionend",4,"ngFor","ngForOf"],[1,"line-container"],["lineContainer",""],[1,"add-node-button-container"],["mat-raised-button","","color","primary",3,"click"],["position","end","mode","side"],["addSidePane",""],[1,"add-node-pane"],["mat-icon-button","",3,"click"],[1,"add-node-list"],["cdkDropList","",4,"ngFor","ngForOf"],["cdkDrag","",1,"diagram-card",3,"cdkDragData","cdkDragFreeDragPosition","click","cdkDragStarted","cdkDragEnded","cdkDragMoved","transitionend"],[1,"more-menu-container"],["mat-icon-button","",3,"matMenuTriggerFor"],["moreMenu","matMenu"],["mat-menu-item","","disableRipple","","matRipple","","matRippleColor","rgba(255, 0, 0, 0.2)",1,"remove-menu-item",3,"click"],[1,"drop-placeholder","input-drop-placeholder"],["class","empty-button-placeholder","cdkDropList","",3,"cdkDropListData","cdkDropListEnterPredicate","cdkDropListDropped",4,"ngFor","ngForOf"],["spy-element","",1,"drop-placeholder","output-drop-placeholder",3,"onInit"],["connectionBegin",""],["class","full-button-placeholder","cdkDropList","",3,"cdkDropListData","cdkDropListDropped",4,"ngIf"],["cdkDropList","",1,"empty-button-placeholder",3,"cdkDropListData","cdkDropListEnterPredicate","cdkDropListDropped"],[3,"lineContainer","connectionBegin","reposition","dragData","shouldReposition",4,"ngIf"],[3,"lineContainer","connectionBegin","reposition","dragData","shouldReposition"],[1,"drag-button"],["cdkDropList","",1,"full-button-placeholder",3,"cdkDropListData","cdkDropListDropped"],[3,"lineContainer","connectionBegin","connectionRestVisibility","reposition","dragData"],["cdkDropList",""],["cdkDrag","",1,"add-node-card",3,"cdkDragData","cdkDragEnded"],[4,"cdkDragPreview"],[1,"diagram-card","preview-diagram-card"],["class","empty-button-placeholder",4,"ngFor","ngForOf"],[1,"drop-placeholder","output-drop-placeholder"],["class","full-button-placeholder",4,"ngIf"],[1,"empty-button-placeholder"],[1,"full-button-placeholder"]],template:function(g,C){if(1&g){const I=i.EpF();i.TgZ(0,"mat-sidenav-container",0),i.TgZ(1,"mat-sidenav-content"),i.TgZ(2,"div",1),i.TgZ(3,"div",2,3),i.NdJ("cdkDragEnded",function(ne){return C.updateOffset(ne)})("cdkDragMoved",function(ne){return C.shouldReposition=!0,C.updateDragOffset(ne)}),i.TgZ(5,"div",4),i.NdJ("cdkDropListDropped",function(ne){return C.buttonDrop(ne)}),i.qZA(),i.TgZ(6,"div",5),i.YNc(7,Ot,25,10,"mat-card",6),i.qZA(),i.qZA(),i._UZ(8,"div",7,8),i.TgZ(10,"div",9),i.TgZ(11,"button",10),i.NdJ("click",function(){return i.CHM(I),i.MAs(15).open()}),i.TgZ(12,"mat-icon"),i._uU(13,"add"),i.qZA(),i.qZA(),i.qZA(),i.qZA(),i.qZA(),i.TgZ(14,"mat-sidenav",11,12),i.TgZ(16,"div",13),i.TgZ(17,"h3"),i._uU(18," \u067e\u0631\u062f\u0627\u0632\u0634 \u062c\u062f\u06cc\u062f "),i.TgZ(19,"button",14),i.NdJ("click",function(){return i.CHM(I),i.MAs(15).close()}),i.TgZ(20,"mat-icon"),i._uU(21,"chevron_left"),i.qZA(),i.qZA(),i.qZA(),i.TgZ(22,"div",15),i.YNc(23,Xe,7,3,"div",16),i.qZA(),i.qZA(),i.qZA(),i.qZA()}if(2&g){const I=i.MAs(15);i.xp6(2),i.Udp("background-position","right "+(-C.baseOffset.x-C.dragOffset.x)+"px top "+(C.baseOffset.y+C.dragOffset.y)+"px"),i.xp6(3),i.Q6J("cdkDropListData",i.DdM(9,Pe)),i.xp6(1),i.Udp("transform","translate("+C.baseOffset.x+"px, "+C.baseOffset.y+"px)"),i.xp6(1),i.Q6J("ngForOf",C.cards),i.xp6(3),i.ekj("invisible",I.opened),i.xp6(13),i.Q6J("ngForOf",C.nodeTypes)}},directives:[Be.TM,Be.Rh,Ie.Fd,Ie.Zt,Ie.Wj,q.sg,nt.lW,_e.Hw,Be.JX,Qe.a8,Qe.dk,Qe.n5,Qe.$j,we.p6,we.VK,we.OP,ft.wG,kt,q.O5,Rt,Ie.pV],styles:[":root{--arrow-color: #673ab7}.mat-sidenav-container[_ngcontent-%COMP%]{width:100%;height:100%}.diagram-container[_ngcontent-%COMP%]{width:100%;height:100%;overflow:hidden;background-size:4rem 4rem;background-image:linear-gradient(to right,#eee .1rem,transparent .1rem),linear-gradient(to bottom,#eee .1rem,transparent .1rem)}.card-container[_ngcontent-%COMP%]{width:100%;height:100%}.card-container.cdk-drag-dragging[_ngcontent-%COMP%]{cursor:grab}.card-container[_ngcontent-%COMP%]   .diagram-card[_ngcontent-%COMP%]{position:absolute}.offset-container[_ngcontent-%COMP%]{width:0;height:0;overflow:visible}.diagram-card[_ngcontent-%COMP%]{width:20rem;height:8rem;display:flex;flex-direction:row;justify-content:center;-webkit-user-select:none;user-select:none;cursor:pointer;transition:box-shadow .28s cubic-bezier(.4,0,.2,1);box-shadow:0 3px 1px -2px #0003,0 2px 2px #00000024,0 1px 5px #0000001f}.diagram-card.snap-animation[_ngcontent-%COMP%]{transition:transform .2s ease-in-out,box-shadow .28s cubic-bezier(.4,0,.2,1)}.diagram-card.selected[_ngcontent-%COMP%]{box-shadow:0 2px 4px -1px #673ab799,0 4px 5px #673ab76b,0 1px 10px #673ab75c}.diagram-card.cdk-drag-dragging[_ngcontent-%COMP%]{box-shadow:0 3px 5px -1px #673ab799,0 6px 10px #673ab76b,0 1px 18px #673ab75c;cursor:move}.diagram-card[_ngcontent-%COMP%]   .mat-card-title[_ngcontent-%COMP%], .diagram-card[_ngcontent-%COMP%]   .mat-card-subtitle[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:center;grid-gap:var(--density-smaller);gap:var(--density-smaller)}.more-menu-container[_ngcontent-%COMP%]{position:absolute;top:0;left:0;margin:var(--density-small)}.remove-menu-item[_ngcontent-%COMP%]{color:#f44336}.remove-menu-item[_ngcontent-%COMP%] > .mat-icon[_ngcontent-%COMP%]{color:#f44336}.drop-placeholder[_ngcontent-%COMP%]{position:absolute;width:0;height:8rem;display:flex;flex-direction:column;justify-content:space-evenly;align-items:center}.input-drop-placeholder[_ngcontent-%COMP%]{top:0;right:0}.output-drop-placeholder[_ngcontent-%COMP%]{top:0;left:0}.empty-button-placeholder[_ngcontent-%COMP%]{width:2rem;height:2rem;border-radius:100%;background-color:#d1c4e9}.empty-button-placeholder[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{position:absolute}.full-button-placeholder[_ngcontent-%COMP%]{width:2rem;height:2rem;border-radius:100%;background-color:#673ab7}.full-button-placeholder[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{position:absolute}.drag-button[_ngcontent-%COMP%]{width:2rem;height:2rem;border-radius:100%;background-color:#673ab7}.line-container[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:0;height:0}.remove-connection-container[_ngcontent-%COMP%]{position:absolute;top:0;right:0;width:100%;height:100%}.remove-connection-container[_ngcontent-%COMP%]   .drag-button[_ngcontent-%COMP%]{display:none}.add-node-button-container[_ngcontent-%COMP%]{position:absolute;top:0;left:0;margin:var(--density-large);transition:opacity .2s ease-in;opacity:1}.add-node-button-container.invisible[_ngcontent-%COMP%]{visibility:hidden;opacity:0}.mat-sidenav[_ngcontent-%COMP%]{width:20rem}.add-node-pane[_ngcontent-%COMP%]{min-height:100%;padding:var(--density-large);background-color:#fafafa}.add-node-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;grid-gap:var(--density-large);gap:var(--density-large)}.add-node-card[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;grid-gap:var(--density-small);gap:var(--density-small);-webkit-user-select:none;user-select:none;cursor:move}.preview-diagram-card[_ngcontent-%COMP%]{position:absolute;transform:translate(50%,-50%)}"]}),L})();var He=X(171),Ae=X(946);const Ke=["diagram"];function lt(L,U){1&L&&(i.TgZ(0,"h2",19),i._uU(1,"\u067e\u0631\u062f\u0627\u0632\u0634\u06cc \u0627\u0646\u062a\u062e\u0627\u0628 \u0646\u0634\u062f\u0647"),i.qZA())}function me(L,U){if(1&L){const g=i.EpF();i.TgZ(0,"div",20),i.TgZ(1,"mat-form-field",21),i.TgZ(2,"input",7,22),i.NdJ("ngModelChange",function(I){return i.CHM(g),i.oxw().selectedNode.name=I}),i.qZA(),i.TgZ(4,"button",9),i.TgZ(5,"mat-icon"),i._uU(6,"edit"),i.qZA(),i.qZA(),i.TgZ(7,"mat-hint",23),i.TgZ(8,"mat-icon"),i._uU(9),i.qZA(),i.TgZ(10,"span"),i._uU(11),i.qZA(),i.qZA(),i.qZA(),i._UZ(12,"br"),i.TgZ(13,"h3"),i._uU(14,"\u06af\u0631\u0648\u0647\u200c\u0628\u0646\u062f\u06cc \u0628\u0631 \u0627\u0633\u0627\u0633"),i.qZA(),i.TgZ(15,"mat-accordion"),i.TgZ(16,"mat-expansion-panel"),i.TgZ(17,"mat-expansion-panel-header"),i.TgZ(18,"mat-panel-title"),i.TgZ(19,"bdo",24),i._uU(20,".Op"),i.qZA(),i.qZA(),i.qZA(),i.TgZ(21,"mat-form-field"),i.TgZ(22,"mat-label"),i._uU(23,"\u0646\u0627\u0645 \u0645\u062a\u063a\u06cc\u0631"),i.qZA(),i._UZ(24,"input",25),i.qZA(),i.qZA(),i.TgZ(25,"mat-expansion-panel"),i.TgZ(26,"mat-expansion-panel-header"),i.TgZ(27,"mat-panel-title"),i.TgZ(28,"bdo",24),i._uU(29,".Position"),i.qZA(),i.qZA(),i.qZA(),i.TgZ(30,"mat-form-field"),i.TgZ(31,"mat-label"),i._uU(32,"\u0646\u0627\u0645 \u0645\u062a\u063a\u06cc\u0631"),i.qZA(),i._UZ(33,"input",26),i.qZA(),i.qZA(),i.qZA(),i._UZ(34,"br"),i.TgZ(35,"h3"),i._uU(36,"\u0639\u0645\u0644\u06cc\u0627\u062a"),i.qZA(),i.TgZ(37,"mat-accordion"),i.TgZ(38,"mat-expansion-panel"),i.TgZ(39,"mat-expansion-panel-header"),i.TgZ(40,"mat-panel-title"),i.TgZ(41,"span"),i._uU(42," \u0628\u06cc\u0634\u06cc\u0646\u0647 "),i.TgZ(43,"bdo",24),i._uU(44,".Price"),i.qZA(),i._uU(45," \u0628\u0647 \u0639\u0646\u0648\u0627\u0646 Total "),i.qZA(),i.qZA(),i.qZA(),i.TgZ(46,"mat-form-field"),i.TgZ(47,"mat-label"),i._uU(48,"\u0646\u0627\u0645 \u0645\u062a\u063a\u06cc\u0631"),i.qZA(),i._UZ(49,"input",27),i.qZA(),i.TgZ(50,"mat-form-field"),i.TgZ(51,"mat-label"),i._uU(52,"\u0646\u0648\u0639 \u0639\u0645\u0644\u06cc\u062a"),i.qZA(),i._UZ(53,"input",28),i.qZA(),i.TgZ(54,"mat-form-field"),i.TgZ(55,"mat-label"),i._uU(56,"\u0646\u0627\u0645 \u0645\u062a\u063a\u06cc\u0631 \u062e\u0631\u0648\u062c\u06cc"),i.qZA(),i._UZ(57,"input",29),i.qZA(),i.qZA(),i.qZA(),i.qZA()}if(2&L){const g=i.MAs(3),C=i.oxw();i.xp6(2),i.Q6J("ngModel",C.selectedNode.name),i.xp6(2),i.Udp("visibility",g.focused?"":"hidden"),i.xp6(5),i.hij(" ",C.pipelineNodeInfo[C.selectedNode.type].iconName," "),i.xp6(2),i.Oqu(C.pipelineNodeInfo[C.selectedNode.type].title)}}let At=(()=>{class L{constructor(){this.pipeline=new Je("\u0633\u0646\u0627\u0631\u06cc\u0648 \u062c\u062f\u06cc\u062f"),this.pipelineNodeInfo=We}ngOnInit(){}ngAfterContentInit(){const g=this.pipeline.createNode("\u062b\u0628\u062a \u0627\u062d\u0648\u0627\u0644",fe.datasetInput,{x:3,y:5}),C=this.pipeline.createNode("\u0627\u0634\u062e\u0627\u0635 \u0645\u0647\u0645",fe.filter,{x:10,y:4},[g]);this.pipeline.createNode("CIA",fe.datasetOutput,{x:20,y:5},[C]),this.pipeline.loaded.next()}ngAfterViewInit(){}exportPipeline(){this.pipeline.reorder(),console.log(JSON.stringify(this.pipeline.export(),null,4))}}return L.\u0275fac=function(g){return new(g||L)},L.\u0275cmp=i.Xpm({type:L,selectors:[["app-pipeline"]],viewQuery:function(g,C){if(1&g&&i.Gf(Ke,5),2&g){let I;i.iGM(I=i.CRH())&&(C.diagram=I.first)}},decls:42,vars:7,consts:[["color","primary"],["routerLink","/","mat-flat-button","","disableRipple","","color","primary"],[1,"logo-name"],[1,"pipeline-info"],["title","\u0627\u062c\u0631\u0627","mat-icon-button","","mat-raised-button","","mat-tip",""],["color","primary",1,"mat-icon-rtl-mirror"],["floatLabel","never"],["matInput","","type","text",3,"ngModel","ngModelChange"],["pipelineNameInput","matInput"],["matSuffix","","mat-icon-button","","disabled","",2,"color","inherit"],["title","\u062f\u0627\u0646\u0644\u0648\u062f","mat-icon-button","",3,"click"],["mat-button","",3,"matMenuTriggerFor"],["accountMenu","matMenu"],["mat-menu-item",""],["mode","side","opened",""],["class","no-selected-node",4,"ngIf"],["class","config-pane",4,"ngIf"],[3,"pipeline","selectedNode"],["diagram",""],[1,"no-selected-node"],[1,"config-pane"],[1,"node-name-input"],["nodeNameInput","matInput"],[1,"node-type-info"],["dir","ltr"],["matInput","","type","text","value",".Op",1,"propery-input"],["matInput","","type","text","value",".Position",1,"propery-input"],["matInput","","type","text","value",".Price",1,"propery-input"],["matInput","","type","text","value","\u0628\u06cc\u0634\u06cc\u0646\u0647"],["matInput","","type","text","value","Total",1,"propery-input"]],template:function(g,C){if(1&g&&(i.TgZ(0,"mat-toolbar",0),i.TgZ(1,"a",1),i.TgZ(2,"mat-icon"),i._uU(3,"call_split"),i.qZA(),i.TgZ(4,"span",2),i._uU(5," \u0633\u0646\u0627\u0631\u06cc\u0648\u0686\u06cc"),i.qZA(),i.qZA(),i.TgZ(6,"span",3),i.TgZ(7,"button",4),i.TgZ(8,"mat-icon",5),i._uU(9," play_arrow "),i.qZA(),i.qZA(),i.TgZ(10,"mat-form-field",6),i.TgZ(11,"mat-label"),i._uU(12,"\u0646\u0627\u0645 \u0633\u0646\u0627\u0631\u06cc\u0648"),i.qZA(),i.TgZ(13,"input",7,8),i.NdJ("ngModelChange",function(Q){return C.pipeline.name=Q}),i.qZA(),i.TgZ(15,"button",9),i.TgZ(16,"mat-icon"),i._uU(17,"edit"),i.qZA(),i.qZA(),i.qZA(),i.qZA(),i.TgZ(18,"nav"),i.TgZ(19,"button",10),i.NdJ("click",function(){return C.exportPipeline()}),i.TgZ(20,"mat-icon"),i._uU(21,"file_upload"),i.qZA(),i.qZA(),i.TgZ(22,"button",11),i.TgZ(23,"mat-icon"),i._uU(24,"person"),i.qZA(),i.qZA(),i.TgZ(25,"mat-menu",null,12),i.TgZ(27,"button",13),i.TgZ(28,"mat-icon"),i._uU(29,"manage_accounts"),i.qZA(),i._uU(30," \u0645\u062f\u06cc\u0631\u06cc\u062a \u062d\u0633\u0627\u0628 "),i.qZA(),i.TgZ(31,"button",13),i.TgZ(32,"mat-icon"),i._uU(33,"exit_to_app"),i.qZA(),i._uU(34," \u062e\u0631\u0648\u062c "),i.qZA(),i.qZA(),i.qZA(),i.qZA(),i.TgZ(35,"mat-sidenav-container"),i.TgZ(36,"mat-sidenav",14),i.YNc(37,lt,2,0,"h2",15),i.YNc(38,me,58,5,"div",16),i.qZA(),i.TgZ(39,"mat-sidenav-content"),i.TgZ(40,"app-diagram",17,18),i.NdJ("selectedNode",function(Q){return C.selectedNode=Q}),i.qZA(),i.qZA(),i.qZA()),2&g){const I=i.MAs(14),Q=i.MAs(26);i.xp6(13),i.Q6J("ngModel",C.pipeline.name),i.xp6(2),i.Udp("visibility",I.focused?"":"hidden"),i.xp6(7),i.Q6J("matMenuTriggerFor",Q),i.xp6(15),i.Q6J("ngIf",void 0===C.selectedNode),i.xp6(1),i.Q6J("ngIf",void 0!==C.selectedNode),i.xp6(2),i.Q6J("pipeline",C.pipeline)}},directives:[Et.Ye,tt.yS,nt.zs,_e.Hw,nt.lW,Me.KE,Me.hX,Ve.Nt,Te.Fj,Te.JJ,Te.On,Me.R9,we.p6,we.VK,we.OP,Be.TM,Be.JX,q.O5,Be.Rh,H,Me.bx,He.pp,He.ib,He.yz,He.yK,Ae.Lv],styles:["[_nghost-%COMP%]{display:grid;grid-template-rows:auto 1fr;height:100%}.mat-toolbar[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between;z-index:2}.logo-name[_ngcontent-%COMP%]{font-size:20px}.pipeline-info[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:baseline;grid-gap:var(--density-large);gap:var(--density-large);font-size:16px}.pipeline-info[_ngcontent-%COMP%]     .mat-form-field-underline{background-color:transparent}nav[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;grid-gap:var(--density-large);gap:var(--density-large)}.mat-sidenav[_ngcontent-%COMP%]{width:30rem}.no-selected-node[_ngcontent-%COMP%]{padding:var(--density-larger);text-align:center;color:#0000008a}.config-pane[_ngcontent-%COMP%]{display:flex;flex-direction:column;min-height:100%;padding:var(--density-large);padding-top:0}.node-name-input[_ngcontent-%COMP%]{font-size:20px}.node-name-input[_ngcontent-%COMP%]     .mat-form-field-underline{background-color:transparent}.node-type-info[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;grid-gap:var(--density-small);gap:var(--density-small)}.mat-form-field[_ngcontent-%COMP%]{width:100%}.propery-input[_ngcontent-%COMP%]{direction:ltr;text-align:left}"]}),L})();var Ce=X(4473);const qe=[{path:"",component:At}];let Ee=(()=>{class L{}return L.\u0275fac=function(g){return new(g||L)},L.\u0275mod=i.oAB({type:L}),L.\u0275inj=i.cJS({providers:[it],imports:[[q.ez,tt.Bz.forChild(qe),Ce.q,Te.u5]]}),L})()}}]);