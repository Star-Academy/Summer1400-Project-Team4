(self.webpackChunketl=self.webpackChunketl||[]).push([[618],{70:()=>{!function(){"use strict";var oe,X,B,Me,He,_t,ie,Ge,Xe,yt,t,vt,St,ge="leader-line",Ue={top:1,right:2,bottom:3,left:4},Ot={straight:1,arc:2,fluid:3,magnet:4,grid:5},We="behind",lt={disc:{elmId:"leader-line-disc",noRotate:!0,bBox:{left:-5,top:-5,width:10,height:10,right:5,bottom:5},widthR:2.5,heightR:2.5,bCircle:5,sideLen:5,backLen:5,overhead:0,outlineBase:1,outlineMax:4},square:{elmId:"leader-line-square",noRotate:!0,bBox:{left:-5,top:-5,width:10,height:10,right:5,bottom:5},widthR:2.5,heightR:2.5,bCircle:5,sideLen:5,backLen:5,overhead:0,outlineBase:1,outlineMax:4},arrow1:{elmId:"leader-line-arrow1",bBox:{left:-8,top:-8,width:16,height:16,right:8,bottom:8},widthR:4,heightR:4,bCircle:8,sideLen:8,backLen:8,overhead:8,outlineBase:2,outlineMax:1.5},arrow2:{elmId:"leader-line-arrow2",bBox:{left:-7,top:-8,width:11,height:16,right:4,bottom:8},widthR:2.75,heightR:4,bCircle:8,sideLen:8,backLen:7,overhead:4,outlineBase:1,outlineMax:1.75},arrow3:{elmId:"leader-line-arrow3",bBox:{left:-4,top:-5,width:12,height:10,right:8,bottom:5},widthR:3,heightR:2.5,bCircle:8,sideLen:5,backLen:4,overhead:8,outlineBase:1,outlineMax:2.5},hand:{elmId:"leader-line-hand",bBox:{left:-3,top:-12,width:40,height:24,right:37,bottom:12},widthR:10,heightR:6,bCircle:37,sideLen:12,backLen:3,overhead:37},crosshair:{elmId:"leader-line-crosshair",noRotate:!0,bBox:{left:-96,top:-96,width:192,height:192,right:96,bottom:96},widthR:48,heightR:48,bCircle:96,sideLen:96,backLen:96,overhead:0}},xt={behind:We,disc:"disc",square:"square",arrow1:"arrow1",arrow2:"arrow2",arrow3:"arrow3",hand:"hand",crosshair:"crosshair"},ut={disc:"disc",square:"square",arrow1:"arrow1",arrow2:"arrow2",arrow3:"arrow3",hand:"hand",crosshair:"crosshair"},bt=[1,2,3,4],Je="auto",Mt={x:"left",y:"top",width:"width",height:"height"},dt=.5522847,jt=.25*Math.PI,Le=/^\s*(\-?[\d\.]+)\s*(\%)?\s*$/,J="http://www.w3.org/2000/svg",pt="-ms-scroll-limit"in document.documentElement.style&&"-ms-ime-align"in document.documentElement.style&&!window.navigator.msPointerEnabled,Te=!pt&&!!document.uniqueID,et="MozAppearance"in document.documentElement.style,ct=!(pt||et||!window.chrome||!window.CSS),Se=!(pt||Te||et||ct||window.chrome||!("WebkitAppearance"in document.documentElement.style)),Tt=Te||pt?.2:.1,_e={path:3,lineColor:"coral",lineSize:4,plugSE:[We,"arrow1"],plugSizeSE:[1,1],lineOutlineEnabled:!1,lineOutlineColor:"indianred",lineOutlineSize:.25,plugOutlineEnabledSE:[!1,!1],plugOutlineSizeSE:[1,1]},Be=(t={}.toString,St=(vt={}.hasOwnProperty.toString).call(Object),function(e){var n,i;return e&&"[object Object]"===t.call(e)&&(!(n=Object.getPrototypeOf(e))||(i=n.hasOwnProperty("constructor")&&n.constructor)&&"function"==typeof i&&vt.call(i)===St)}),Ae=Number.isFinite||function(e){return"number"==typeof e&&window.isFinite(e)},Ee=function(){var e,n={ease:[.25,.1,.25,1],linear:[0,0,1,1],"ease-in":[.42,0,1,1],"ease-out":[0,0,.58,1],"ease-in-out":[.42,0,.58,1]},i=1e3/60/2,o=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame||function(h){setTimeout(h,i)},a=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.msCancelAnimationFrame||function(h){clearTimeout(h)},s=Number.isFinite||function(h){return"number"==typeof h&&window.isFinite(h)},S=[],g=0;function v(){var h=Date.now(),k=!1;e&&(a.call(window,e),e=null),S.forEach(function(d){var p,c,y;if(d.framesStart){if((p=h-d.framesStart)>=d.duration&&d.count&&d.loopsLeft<=1)return y=d.frames[d.lastFrame=d.reverse?0:d.frames.length-1],d.frameCallback(y.value,!0,y.timeRatio,y.outputRatio),void(d.framesStart=null);if(p>d.duration){if(c=Math.floor(p/d.duration),d.count){if(c>=d.loopsLeft)return y=d.frames[d.lastFrame=d.reverse?0:d.frames.length-1],d.frameCallback(y.value,!0,y.timeRatio,y.outputRatio),void(d.framesStart=null);d.loopsLeft-=c}d.framesStart+=d.duration*c,p=h-d.framesStart}d.reverse&&(p=d.duration-p),y=d.frames[d.lastFrame=Math.round(p/i)],!1!==d.frameCallback(y.value,!1,y.timeRatio,y.outputRatio)?k=!0:d.framesStart=null}}),k&&(e=o.call(window,v))}function l(h,k){h.framesStart=Date.now(),null!=k&&(h.framesStart-=h.duration*(h.reverse?1-k:k)),h.loopsLeft=h.count,h.lastFrame=null,v()}return{add:function(h,k,d,p,c,y,w){var I,Z,T,E,f,_,m,N,q,L,u,A,D,U=++g;function H(F,b){return{value:h(b),timeRatio:F,outputRatio:b}}if("string"==typeof c&&(c=n[c]),h=h||function(){},d<i)Z=[H(0,0),H(1,1)];else{if(T=i/d,Z=[H(0,0)],0===c[0]&&0===c[1]&&1===c[2]&&1===c[3])for(f=T;f<=1;f+=T)Z.push(H(f,f));else for(_=E=(f=T)/10;_<=1;_+=E)L=(q=(N=_)*N)*N,D=3*(u=1-N)*q,f<=(m={x:(A=u*u*3*N)*c[0]+D*c[2]+L,y:A*c[1]+D*c[3]+L}).x&&(Z.push(H(m.x,m.y)),f+=T);Z.push(H(1,1))}return S.push(I={animId:U,frameCallback:k,duration:d,count:p,frames:Z,reverse:!!y}),!1!==w&&l(I,w),U},remove:function(h){var k;S.some(function(d,p){return d.animId===h&&(k=p,!(d.framesStart=null))})&&S.splice(k,1)},start:function(h,k,d){S.some(function(p){return p.animId===h&&(p.reverse=!!k,l(p,d),!0)})},stop:function(h,k){var d;return S.some(function(p){return p.animId===h&&(k?null!=p.lastFrame&&(d=p.frames[p.lastFrame].timeRatio):(d=(Date.now()-p.framesStart)/p.duration,p.reverse&&(d=1-d),d<0?d=0:1<d&&(d=1)),!(p.framesStart=null))}),d},validTiming:function(h){return"string"==typeof h?n[h]:Array.isArray(h)&&[0,1,2,3].every(function(k){return s(h[k])&&0<=h[k]&&h[k]<=1})?[h[0],h[1],h[2],h[3]]:null}}}(),zt=function(e){var n={};function i(o){if(n[o])return n[o].exports;var a=n[o]={i:o,l:!1,exports:{}};return e[o].call(a.exports,a,a.exports,i),a.l=!0,a.exports}return i.m=e,i.c=n,i.d=function(o,a,s){i.o(o,a)||Object.defineProperty(o,a,{configurable:!1,enumerable:!0,get:s})},i.r=function(o){Object.defineProperty(o,"__esModule",{value:!0})},i.n=function(o){var a=o&&o.__esModule?function(){return o.default}:function(){return o};return i.d(a,"a",a),a},i.o=function(o,a){return Object.prototype.hasOwnProperty.call(o,a)},i.p="",i(i.s=0)}([function(e,n,i){i.r(n);var a=[],s=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame||function(d){return setTimeout(d,1e3/60)},S=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.msCancelAnimationFrame||function(d){return clearTimeout(d)},g=void 0,v=Date.now();function l(){var d=void 0,p=void 0;g&&(S.call(window,g),g=null),a.forEach(function(c){c.event&&(c.listener(c.event),c.event=null,d=!0)}),d?(v=Date.now(),p=!0):Date.now()-v<500&&(p=!0),p&&(g=s.call(window,l))}function h(d){var p=-1;return a.some(function(c,y){return c.listener===d&&(p=y,!0)}),p}n.default={add:function(d){var p=void 0;return-1===h(d)?(a.push(p={listener:d}),function(c){p.event=c,g||l()}):null},remove:function(d){var p;-1<(p=h(d))&&(a.splice(p,1),!a.length&&g&&(S.call(window,g),g=null))}}}]).default,Et={line_altColor:{iniValue:!1},line_color:{},line_colorTra:{iniValue:!1},line_strokeWidth:{},plug_enabled:{iniValue:!1},plug_enabledSE:{hasSE:!0,iniValue:!1},plug_plugSE:{hasSE:!0,iniValue:We},plug_colorSE:{hasSE:!0},plug_colorTraSE:{hasSE:!0,iniValue:!1},plug_markerWidthSE:{hasSE:!0},plug_markerHeightSE:{hasSE:!0},lineOutline_enabled:{iniValue:!1},lineOutline_color:{},lineOutline_colorTra:{iniValue:!1},lineOutline_strokeWidth:{},lineOutline_inStrokeWidth:{},plugOutline_enabledSE:{hasSE:!0,iniValue:!1},plugOutline_plugSE:{hasSE:!0,iniValue:We},plugOutline_colorSE:{hasSE:!0},plugOutline_colorTraSE:{hasSE:!0,iniValue:!1},plugOutline_strokeWidthSE:{hasSE:!0},plugOutline_inStrokeWidthSE:{hasSE:!0},position_socketXYSE:{hasSE:!0,hasProps:!0},position_plugOverheadSE:{hasSE:!0},position_path:{},position_lineStrokeWidth:{},position_socketGravitySE:{hasSE:!0},path_pathData:{},path_edge:{hasProps:!0},viewBox_bBox:{hasProps:!0},viewBox_plugBCircleSE:{hasSE:!0},lineMask_enabled:{iniValue:!1},lineMask_outlineMode:{iniValue:!1},lineMask_x:{},lineMask_y:{},lineOutlineMask_x:{},lineOutlineMask_y:{},maskBGRect_x:{},maskBGRect_y:{},capsMaskAnchor_enabledSE:{hasSE:!0,iniValue:!1},capsMaskAnchor_pathDataSE:{hasSE:!0},capsMaskAnchor_strokeWidthSE:{hasSE:!0},capsMaskMarker_enabled:{iniValue:!1},capsMaskMarker_enabledSE:{hasSE:!0,iniValue:!1},capsMaskMarker_plugSE:{hasSE:!0,iniValue:We},capsMaskMarker_markerWidthSE:{hasSE:!0},capsMaskMarker_markerHeightSE:{hasSE:!0},caps_enabled:{iniValue:!1},attach_plugSideLenSE:{hasSE:!0},attach_plugBackLenSE:{hasSE:!0}},Zt={show_on:{},show_effect:{},show_animOptions:{},show_animId:{},show_inAnim:{}},Dt="fade",wt=[],ke={},Jt=0,we={},Qt=0;function Qe(e,n){var i,o;return typeof e!=typeof n||(i=Be(e)?"obj":Array.isArray(e)?"array":"")!=(Be(n)?"obj":Array.isArray(n)?"array":"")||("obj"===i?Qe(o=Object.keys(e).sort(),Object.keys(n).sort())||o.some(function(a){return Qe(e[a],n[a])}):"array"===i?e.length!==n.length||e.some(function(a,s){return Qe(a,n[s])}):e!==n)}function Ce(e){return e&&(Be(e)?Object.keys(e).reduce(function(n,i){return n[i]=Ce(e[i]),n},{}):Array.isArray(e)?e.map(Ce):e)}function nt(e){var n,i,o,a=1,s=e=(e+"").trim();function S(g){var v=1,l=Le.exec(g);return l&&(v=parseFloat(l[1]),l[2]?v=0<=v&&v<=100?v/100:1:(v<0||1<v)&&(v=1)),v}return(n=/^(rgba|hsla|hwb|gray|device\-cmyk)\s*\(([\s\S]+)\)$/i.exec(e))?(i=n[1].toLowerCase(),o=n[2].trim().split(/\s*,\s*/),"rgba"===i&&4===o.length?(a=S(o[3]),s="rgb("+o.slice(0,3).join(", ")+")"):"hsla"===i&&4===o.length?(a=S(o[3]),s="hsl("+o.slice(0,3).join(", ")+")"):"hwb"===i&&4===o.length?(a=S(o[3]),s="hwb("+o.slice(0,3).join(", ")+")"):"gray"===i&&2===o.length?(a=S(o[1]),s="gray("+o[0]+")"):"device-cmyk"===i&&5<=o.length&&(a=S(o[4]),s="device-cmyk("+o.slice(0,4).join(", ")+")")):(n=/^\#(?:([\da-f]{6})([\da-f]{2})|([\da-f]{3})([\da-f]))$/i.exec(e))?n[1]?(a=parseInt(n[2],16)/255,s="#"+n[1]):(a=parseInt(n[4]+n[4],16)/255,s="#"+n[3]):"transparent"===e.toLocaleLowerCase()&&(a=0),[a,s]}function it(e){return!(!e||e.nodeType!==Node.ELEMENT_NODE||"function"!=typeof e.getBoundingClientRect)}function ht(e,n){var i,o,a,s,S={};if(!(a=e.ownerDocument))return console.error("Cannot get document that contains the element."),null;if(e.compareDocumentPosition(a)&Node.DOCUMENT_POSITION_DISCONNECTED)return console.error("A disconnected element was passed."),null;for(o in i=e.getBoundingClientRect())S[o]=i[o];if(!n){if(!(s=a.defaultView))return console.error("Cannot get window that contains the element."),null;S.left+=s.pageXOffset,S.right+=s.pageXOffset,S.top+=s.pageYOffset,S.bottom+=s.pageYOffset}return S}function kt(e,n){var i,o,a=[],s=e;for(n=n||window;;){if(!(i=s.ownerDocument))return console.error("Cannot get document that contains the element."),null;if(!(o=i.defaultView))return console.error("Cannot get window that contains the element."),null;if(o===n)break;if(!(s=o.frameElement))return console.error("`baseWindow` was not found."),null;a.unshift(s)}return a}function ot(e,n){var i,o,a=0,s=0;return(o=kt(e,n=n||window))?o.length?(o.forEach(function(S,g){var v,l,h=ht(S,0<g);a+=h.left,s+=h.top,l=(v=S).ownerDocument.defaultView.getComputedStyle(v,""),h={left:v.clientLeft+parseFloat(l.paddingLeft),top:v.clientTop+parseFloat(l.paddingTop)},a+=h.left,s+=h.top}),(i=ht(e,!0)).left+=a,i.right+=a,i.top+=s,i.bottom+=s,i):ht(e):null}function Ne(e,n){var i=e.x-n.x,o=e.y-n.y;return Math.sqrt(i*i+o*o)}function at(e,n,i){var o=n.x-e.x,a=n.y-e.y;return{x:e.x+o*i,y:e.y+a*i,angle:Math.atan2(a,o)/(Math.PI/180)}}function O(e,n,i){var o=Math.atan2(e.y-n.y,n.x-e.x);return{x:n.x+Math.cos(o)*i,y:n.y+Math.sin(o)*i*-1}}function P(e,n,i,o,a){var s=a*a,S=s*a,g=1-a,v=g*g,l=v*g,h=l*e.x+3*v*a*n.x+3*g*s*i.x+S*o.x,k=l*e.y+3*v*a*n.y+3*g*s*i.y+S*o.y,d=e.x+2*a*(n.x-e.x)+s*(i.x-2*n.x+e.x),p=e.y+2*a*(n.y-e.y)+s*(i.y-2*n.y+e.y),c=n.x+2*a*(i.x-n.x)+s*(o.x-2*i.x+n.x),y=n.y+2*a*(i.y-n.y)+s*(o.y-2*i.y+n.y),w=g*e.x+a*n.x,I=g*e.y+a*n.y,Z=g*i.x+a*o.x,T=g*i.y+a*o.y,E=90-180*Math.atan2(d-c,p-y)/Math.PI;return{x:h,y:k,fromP2:{x:d,y:p},toP1:{x:c,y},fromP1:{x:w,y:I},toP2:{x:Z,y:T},angle:E+=180<E?-180:180}}function r(e,n,i,o,a){function s(p,c,y,w,I){return p*(p*(-3*c+9*y-9*w+3*I)+6*c-12*y+6*w)-3*c+3*y}var S,g,v,l,k=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],d=0;return S=(a=null==a||1<a?1:a<0?0:a)/2,[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816].forEach(function(p,c){v=s(g=S*p+S,e.x,n.x,i.x,o.x),l=s(g,e.y,n.y,i.y,o.y),d+=k[c]*Math.sqrt(v*v+l*l)}),S*d}function x(e,n,i,o,a){for(var s,S=.5,g=1-S;s=r(e,n,i,o,g),!(Math.abs(s-a)<=.01);)g+=(s<a?1:-1)*(S/=2);return g}function C(e,n){var i;return e.forEach(function(o){var a=n?o.map(function(s){var S={x:s.x,y:s.y};return n(S),S}):o;i||(i=[{type:"M",values:[a[0].x,a[0].y]}]),i.push(a.length?2===a.length?{type:"L",values:[a[1].x,a[1].y]}:{type:"C",values:[a[1].x,a[1].y,a[2].x,a[2].y,a[3].x,a[3].y]}:{type:"Z",values:[]})}),i}function G(e){var n=[],i=0;return e.forEach(function(o){var a=(2===o.length?Ne:r).apply(null,o);n.push(a),i+=a}),{segsLen:n,lenAll:i}}function ne(e,n){return null==e||null==n||e.length!==n.length||e.some(function(i,o){var a=n[o];return i.type!==a.type||i.values.some(function(s,S){return s!==a.values[S]})})}function me(e,n,i){e.events[n]?e.events[n].indexOf(i)<0&&e.events[n].push(i):e.events[n]=[i]}function xe(e,n,i){var o;e.events[n]&&-1<(o=e.events[n].indexOf(i))&&e.events[n].splice(o,1)}function ft(e){ie&&clearTimeout(ie),wt.push(e),ie=setTimeout(function(){wt.forEach(function(n){n()}),wt=[]},0)}function ye(e,n){e.reflowTargets.indexOf(n)<0&&e.reflowTargets.push(n)}function Kt(e){e.reflowTargets.forEach(function(n){var i;i=n,setTimeout(function(){var o=i.parentNode,a=i.nextSibling;o.insertBefore(o.removeChild(i),a)},0)}),e.reflowTargets=[]}function $t(e,n,i,o,a,s,S){var g,v,l;"auto-start-reverse"===i?("boolean"!=typeof Ge&&(n.setAttribute("orient","auto-start-reverse"),Ge=n.orientType.baseVal===SVGMarkerElement.SVG_MARKER_ORIENT_UNKNOWN),Ge?n.setAttribute("orient",i):((g=a.createSVGTransform()).setRotate(180,0,0),s.transform.baseVal.appendItem(g),n.setAttribute("orient","auto"),l=!0)):(n.setAttribute("orient",i),!1===Ge&&s.transform.baseVal.clear()),v=n.viewBox.baseVal,l?(v.x=-o.right,v.y=-o.bottom):(v.x=o.left,v.y=o.top),v.width=o.width,v.height=o.height,Te&&ye(e,S)}function en(e,n){return{prop:e?"markerEnd":"markerStart",orient:n?n.noRotate?"0":e?"auto":"auto-start-reverse":null}}function Oe(e,n){Object.keys(n).forEach(function(i){var o=n[i];e[i]=null!=o.iniValue?o.hasSE?[o.iniValue,o.iniValue]:o.iniValue:o.hasSE?o.hasProps?[{},{}]:[]:o.hasProps?{}:null})}function V(e,n,i,o,a){return o!==n[i]&&(n[i]=o,a&&a.forEach(function(s){s(e,o,i)}),!0)}function tn(e){function n(S,g){return S+parseFloat(g)}var i=e.document,o=e.getComputedStyle(i.documentElement,""),a=e.getComputedStyle(i.body,""),s={x:0,y:0};return"static"!==a.position?(s.x-=[o.marginLeft,o.borderLeftWidth,o.paddingLeft,a.marginLeft,a.borderLeftWidth].reduce(n,0),s.y-=[o.marginTop,o.borderTopWidth,o.paddingTop,a.marginTop,a.borderTopWidth].reduce(n,0)):"static"!==o.position&&(s.x-=[o.marginLeft,o.borderLeftWidth].reduce(n,0),s.y-=[o.marginTop,o.borderTopWidth].reduce(n,0)),s}function nn(e){var n,i=e.document;i.getElementById("leader-line-defs")||(n=(new e.DOMParser).parseFromString('<svg xmlns="http://www.w3.org/2000/svg" version="1.1" id="leader-line-defs"><style><![CDATA[.leader-line{position:absolute;overflow:visible!important;pointer-events:none!important;font-size:16px}#leader-line-defs{width:0;height:0;position:absolute;left:0;top:0}.leader-line-line-path{fill:none}.leader-line-mask-bg-rect{fill:#fff}.leader-line-caps-mask-anchor,.leader-line-caps-mask-marker-shape{fill:#000}.leader-line-caps-mask-anchor{stroke:#000}.leader-line-caps-mask-line,.leader-line-plugs-face{stroke:transparent}.leader-line-line-mask-shape{stroke:#fff}.leader-line-line-outline-mask-shape{stroke:#000}.leader-line-plug-mask-shape{fill:#fff;stroke:#000}.leader-line-plug-outline-mask-shape{fill:#000;stroke:#fff}.leader-line-areaAnchor{position:absolute;overflow:visible!important}]]></style><defs><circle id="leader-line-disc" cx="0" cy="0" r="5"/><rect id="leader-line-square" x="-5" y="-5" width="10" height="10"/><polygon id="leader-line-arrow1" points="-8,-8 8,0 -8,8 -5,0"/><polygon id="leader-line-arrow2" points="-4,-8 4,0 -4,8 -7,5 -2,0 -7,-5"/><polygon id="leader-line-arrow3" points="-4,-5 8,0 -4,5"/><g id="leader-line-hand"><path style="fill: #fcfcfc" d="M9.19 11.14h4.75c1.38 0 2.49-1.11 2.49-2.49 0-.51-.15-.98-.41-1.37h1.3c1.38 0 2.49-1.11 2.49-2.49s-1.11-2.53-2.49-2.53h1.02c1.38 0 2.49-1.11 2.49-2.49s-1.11-2.49-2.49-2.49h14.96c1.37 0 2.49-1.11 2.49-2.49s-1.11-2.49-2.49-2.49H16.58C16-9.86 14.28-11.14 9.7-11.14c-4.79 0-6.55 3.42-7.87 4.73H-2.14v13.23h3.68C3.29 9.97 5.47 11.14 9.19 11.14L9.19 11.14Z"/><path style="fill: black" d="M13.95 12c1.85 0 3.35-1.5 3.35-3.35 0-.17-.02-.34-.04-.51h.07c1.85 0 3.35-1.5 3.35-3.35 0-.79-.27-1.51-.72-2.08 1.03-.57 1.74-1.67 1.74-2.93 0-.59-.16-1.15-.43-1.63h12.04c1.85 0 3.35-1.5 3.35-3.35 0-1.85-1.5-3.35-3.35-3.35H17.2C16.26-10.93 13.91-12 9.7-12 5.36-12 3.22-9.4 1.94-7.84c0 0-.29.33-.5.57-.63 0-3.58 0-3.58 0C-2.61-7.27-3-6.88-3-6.41v13.23c0 .47.39.86.86.86 0 0 2.48 0 3.2 0C2.9 10.73 5.29 12 9.19 12L13.95 12ZM9.19 10.28c-3.46 0-5.33-1.05-6.9-3.87-.15-.27-.44-.44-.75-.44 0 0-1.81 0-2.82 0V-5.55c1.06 0 3.11 0 3.11 0 .25 0 .44-.06.61-.25l.83-.95c1.23-1.49 2.91-3.53 6.43-3.53 3.45 0 4.9.74 5.57 1.72h-4.3c-.48 0-.86.38-.86.86s.39.86.86.86h22.34c.9 0 1.63.73 1.63 1.63 0 .9-.73 1.63-1.63 1.63H15.83c-.48 0-.86.38-.86.86 0 .47.39.86.86.86h2.52c.9 0 1.63.73 1.63 1.63s-.73 1.63-1.63 1.63h-3.12c-.48 0-.86.38-.86.86 0 .47.39.86.86.86h2.11c.88 0 1.63.76 1.63 1.67 0 .9-.73 1.63-1.63 1.63h-3.2c-.48 0-.86.39-.86.86 0 .47.39.86.86.86h1.36c.05.16.09.34.09.51 0 .9-.73 1.63-1.63 1.63C13.95 10.28 9.19 10.28 9.19 10.28Z"/></g><g id="leader-line-crosshair"><path d="M0-78.97c-43.54 0-78.97 35.43-78.97 78.97 0 43.54 35.43 78.97 78.97 78.97s78.97-35.43 78.97-78.97C78.97-43.54 43.55-78.97 0-78.97ZM76.51-1.21h-9.91v-9.11h-2.43v9.11h-11.45c-.64-28.12-23.38-50.86-51.5-51.5V-64.17h9.11V-66.6h-9.11v-9.91C42.46-75.86 75.86-42.45 76.51-1.21ZM-1.21-30.76h-9.11v2.43h9.11V-4.2c-1.44.42-2.57 1.54-2.98 2.98H-28.33v-9.11h-2.43v9.11H-50.29C-49.65-28-27.99-49.65-1.21-50.29V-30.76ZM-30.76 1.21v9.11h2.43v-9.11H-4.2c.42 1.44 1.54 2.57 2.98 2.98v24.13h-9.11v2.43h9.11v19.53C-27.99 49.65-49.65 28-50.29 1.21H-30.76ZM1.22 30.75h9.11v-2.43h-9.11V4.2c1.44-.42 2.56-1.54 2.98-2.98h24.13v9.11h2.43v-9.11h19.53C49.65 28 28 49.65 1.22 50.29V30.75ZM30.76-1.21v-9.11h-2.43v9.11H4.2c-.42-1.44-1.54-2.56-2.98-2.98V-28.33h9.11v-2.43h-9.11V-50.29C28-49.65 49.65-28 50.29-1.21H30.76ZM-1.21-76.51v9.91h-9.11v2.43h9.11v11.45c-28.12.64-50.86 23.38-51.5 51.5H-64.17v-9.11H-66.6v9.11h-9.91C-75.86-42.45-42.45-75.86-1.21-76.51ZM-76.51 1.21h9.91v9.11h2.43v-9.11h11.45c.64 28.12 23.38 50.86 51.5 51.5v11.45h-9.11v2.43h9.11v9.91C-42.45 75.86-75.86 42.45-76.51 1.21ZM1.22 76.51v-9.91h9.11v-2.43h-9.11v-11.45c28.12-.64 50.86-23.38 51.5-51.5h11.45v9.11h2.43v-9.11h9.91C75.86 42.45 42.45 75.86 1.22 76.51Z"/><path d="M0 83.58-7.1 96 7.1 96Z"/><path d="M0-83.58 7.1-96-7.1-96"/><path d="M83.58 0 96 7.1 96-7.1Z"/><path d="M-83.58 0-96-7.1-96 7.1Z"/></g></defs></svg>',"image/svg+xml"),i.body.appendChild(n.documentElement),function(e){e.SVGPathElement.prototype.getPathData&&e.SVGPathElement.prototype.setPathData||function(){var n={Z:"Z",M:"M",L:"L",C:"C",Q:"Q",A:"A",H:"H",V:"V",S:"S",T:"T",z:"Z",m:"m",l:"l",c:"c",q:"q",a:"a",h:"h",v:"v",s:"s",t:"t"},i=function(d){this._string=d,this._currentIndex=0,this._endIndex=this._string.length,this._prevCommand=null,this._skipOptionalSpaces()},o=-1!==e.navigator.userAgent.indexOf("MSIE ");i.prototype={parseSegment:function(){var d=this._string[this._currentIndex],p=n[d]?n[d]:null;if(null===p){if(null===this._prevCommand||null===(p=("+"===d||"-"===d||"."===d||"0"<=d&&d<="9")&&"Z"!==this._prevCommand?"M"===this._prevCommand?"L":"m"===this._prevCommand?"l":this._prevCommand:null))return null}else this._currentIndex+=1;var c=null,y=(this._prevCommand=p).toUpperCase();return"H"===y||"V"===y?c=[this._parseNumber()]:"M"===y||"L"===y||"T"===y?c=[this._parseNumber(),this._parseNumber()]:"S"===y||"Q"===y?c=[this._parseNumber(),this._parseNumber(),this._parseNumber(),this._parseNumber()]:"C"===y?c=[this._parseNumber(),this._parseNumber(),this._parseNumber(),this._parseNumber(),this._parseNumber(),this._parseNumber()]:"A"===y?c=[this._parseNumber(),this._parseNumber(),this._parseNumber(),this._parseArcFlag(),this._parseArcFlag(),this._parseNumber(),this._parseNumber()]:"Z"===y&&(this._skipOptionalSpaces(),c=[]),null===c||0<=c.indexOf(null)?null:{type:p,values:c}},hasMoreData:function(){return this._currentIndex<this._endIndex},peekSegmentType:function(){var d=this._string[this._currentIndex];return n[d]?n[d]:null},initialCommandIsMoveTo:function(){if(!this.hasMoreData())return!0;var d=this.peekSegmentType();return"M"===d||"m"===d},_isCurrentSpace:function(){var d=this._string[this._currentIndex];return d<=" "&&(" "===d||"\n"===d||"\t"===d||"\r"===d||"\f"===d)},_skipOptionalSpaces:function(){for(;this._currentIndex<this._endIndex&&this._isCurrentSpace();)this._currentIndex+=1;return this._currentIndex<this._endIndex},_skipOptionalSpacesOrDelimiter:function(){return!(this._currentIndex<this._endIndex&&!this._isCurrentSpace()&&","!==this._string[this._currentIndex])&&(this._skipOptionalSpaces()&&this._currentIndex<this._endIndex&&","===this._string[this._currentIndex]&&(this._currentIndex+=1,this._skipOptionalSpaces()),this._currentIndex<this._endIndex)},_parseNumber:function(){var d=0,p=0,c=1,y=0,w=1,I=1,Z=this._currentIndex;if(this._skipOptionalSpaces(),this._currentIndex<this._endIndex&&"+"===this._string[this._currentIndex]?this._currentIndex+=1:this._currentIndex<this._endIndex&&"-"===this._string[this._currentIndex]&&(this._currentIndex+=1,w=-1),this._currentIndex===this._endIndex||(this._string[this._currentIndex]<"0"||"9"<this._string[this._currentIndex])&&"."!==this._string[this._currentIndex])return null;for(var T=this._currentIndex;this._currentIndex<this._endIndex&&"0"<=this._string[this._currentIndex]&&this._string[this._currentIndex]<="9";)this._currentIndex+=1;if(this._currentIndex!==T)for(var E=this._currentIndex-1,f=1;T<=E;)p+=f*(this._string[E]-"0"),E-=1,f*=10;if(this._currentIndex<this._endIndex&&"."===this._string[this._currentIndex]){if(this._currentIndex+=1,this._currentIndex>=this._endIndex||this._string[this._currentIndex]<"0"||"9"<this._string[this._currentIndex])return null;for(;this._currentIndex<this._endIndex&&"0"<=this._string[this._currentIndex]&&this._string[this._currentIndex]<="9";)c*=10,y+=(this._string.charAt(this._currentIndex)-"0")/c,this._currentIndex+=1}if(this._currentIndex!==Z&&this._currentIndex+1<this._endIndex&&("e"===this._string[this._currentIndex]||"E"===this._string[this._currentIndex])&&"x"!==this._string[this._currentIndex+1]&&"m"!==this._string[this._currentIndex+1]){if(this._currentIndex+=1,"+"===this._string[this._currentIndex]?this._currentIndex+=1:"-"===this._string[this._currentIndex]&&(this._currentIndex+=1,I=-1),this._currentIndex>=this._endIndex||this._string[this._currentIndex]<"0"||"9"<this._string[this._currentIndex])return null;for(;this._currentIndex<this._endIndex&&"0"<=this._string[this._currentIndex]&&this._string[this._currentIndex]<="9";)d*=10,d+=this._string[this._currentIndex]-"0",this._currentIndex+=1}var _=p+y;return _*=w,d&&(_*=Math.pow(10,I*d)),Z===this._currentIndex?null:(this._skipOptionalSpacesOrDelimiter(),_)},_parseArcFlag:function(){if(this._currentIndex>=this._endIndex)return null;var d=null,p=this._string[this._currentIndex];if(this._currentIndex+=1,"0"===p)d=0;else{if("1"!==p)return null;d=1}return this._skipOptionalSpacesOrDelimiter(),d}};var a=function(d){if(!d||0===d.length)return[];var p=new i(d),c=[];if(p.initialCommandIsMoveTo())for(;p.hasMoreData();){var y=p.parseSegment();if(null===y)break;c.push(y)}return c},s=e.SVGPathElement.prototype.setAttribute,S=e.SVGPathElement.prototype.removeAttribute,g=e.Symbol?e.Symbol():"__cachedPathData",v=e.Symbol?e.Symbol():"__cachedNormalizedPathData",l=function(d,p,c,y,w,I,Z,T,E,f){var m,N,q,L,u=function(ce,ae,ve){return{x:ce*Math.cos(ve)-ae*Math.sin(ve),y:ce*Math.sin(ve)+ae*Math.cos(ve)}},A=Math.PI*Z/180,D=[];if(f)m=f[0],N=f[1],q=f[2],L=f[3];else{var U=u(d,p,-A);d=U.x,p=U.y;var H=u(c,y,-A),F=(d-(c=H.x))/2,b=(p-(y=H.y))/2,Q=F*F/(w*w)+b*b/(I*I);1<Q&&(w*=Q=Math.sqrt(Q),I*=Q);var se=w*w,z=I*I,fe=(T===E?-1:1)*Math.sqrt(Math.abs((se*z-se*b*b-z*F*F)/(se*b*b+z*F*F)));q=fe*w*b/I+(d+c)/2,L=fe*-I*F/w+(p+y)/2,m=Math.asin(parseFloat(((p-L)/I).toFixed(9))),N=Math.asin(parseFloat(((y-L)/I).toFixed(9))),d<q&&(m=Math.PI-m),c<q&&(N=Math.PI-N),m<0&&(m=2*Math.PI+m),N<0&&(N=2*Math.PI+N),E&&N<m&&(m-=2*Math.PI),!E&&m<N&&(N-=2*Math.PI)}var le=N-m;if(Math.abs(le)>120*Math.PI/180){var Ie=N,mt=c,$=y;N=E&&m<N?m+120*Math.PI/180*1:m+120*Math.PI/180*-1,c=q+w*Math.cos(N),y=L+I*Math.sin(N),D=l(c,y,mt,$,w,I,Z,0,E,[N,Ie,q,L])}le=N-m;var j=Math.cos(m),R=Math.sin(m),ee=Math.cos(N),W=Math.sin(N),te=Math.tan(le/4),be=4/3*w*te,pe=4/3*I*te,qe=[d,p],Re=[d+be*R,p-pe*j],Ye=[c+be*W,y-pe*ee],ue=[c,y];if(Re[0]=2*qe[0]-Re[0],Re[1]=2*qe[1]-Re[1],f)return[Re,Ye,ue].concat(D);D=[Re,Ye,ue].concat(D).join().split(",");var M=[],Y=[];return D.forEach(function(ce,ae){Y.push(ae%2?u(D[ae-1],D[ae],A).y:u(D[ae],D[ae+1],A).x),6===Y.length&&(M.push(Y),Y=[])}),M},h=function(d){return d.map(function(p){return{type:p.type,values:Array.prototype.slice.call(p.values)}})},k=function(d){var p=[],c=null,y=null,w=null,I=null,Z=null,T=null,E=null;return d.forEach(function(f){if("M"===f.type){var _=f.values[0],m=f.values[1];p.push({type:"M",values:[_,m]}),I=T=_,Z=E=m}else if("C"===f.type){var N=f.values[0],q=f.values[1],L=f.values[2],u=f.values[3];p.push({type:"C",values:[N,q,L,u,_=f.values[4],m=f.values[5]]}),y=L,w=u,I=_,Z=m}else if("L"===f.type)p.push({type:"L",values:[_=f.values[0],m=f.values[1]]}),I=_,Z=m;else if("H"===f.type)p.push({type:"L",values:[_=f.values[0],Z]}),I=_;else if("V"===f.type)p.push({type:"L",values:[I,m=f.values[0]]}),Z=m;else if("S"===f.type)"C"===c||"S"===c?(A=I+(I-y),D=Z+(Z-w)):(A=I,D=Z),p.push({type:"C",values:[A,D,L=f.values[0],u=f.values[1],_=f.values[2],m=f.values[3]]}),y=L,w=u,I=_,Z=m;else if("T"===f.type){"Q"===c||"T"===c?(N=I+(I-y),q=Z+(Z-w)):(N=I,q=Z);var A=I+2*(N-I)/3,D=Z+2*(q-Z)/3,U=(_=f.values[0])+2*(N-_)/3,H=(m=f.values[1])+2*(q-m)/3;p.push({type:"C",values:[A,D,U,H,_,m]}),y=N,w=q,I=_,Z=m}else if("Q"===f.type)p.push({type:"C",values:[A=I+2*((N=f.values[0])-I)/3,D=Z+2*((q=f.values[1])-Z)/3,U=(_=f.values[2])+2*(N-_)/3,H=(m=f.values[3])+2*(q-m)/3,_,m]}),y=N,w=q,I=_,Z=m;else if("A"===f.type){var F=f.values[0],b=f.values[1],Q=f.values[2],se=f.values[3],z=f.values[4];_=f.values[5],m=f.values[6],0===F||0===b?(p.push({type:"C",values:[I,Z,_,m,_,m]}),I=_,Z=m):(I!==_||Z!==m)&&l(I,Z,_,m,F,b,Q,se,z).forEach(function(K){p.push({type:"C",values:K}),I=_,Z=m})}else"Z"===f.type&&(p.push(f),I=T,Z=E);c=f.type}),p};e.SVGPathElement.prototype.setAttribute=function(d,p){"d"===d&&(this[g]=null,this[v]=null),s.call(this,d,p)},e.SVGPathElement.prototype.removeAttribute=function(d,p){"d"===d&&(this[g]=null,this[v]=null),S.call(this,d)},e.SVGPathElement.prototype.getPathData=function(d){if(d&&d.normalize){if(this[v])return h(this[v]);this[g]?T=h(this[g]):(T=a(this.getAttribute("d")||""),this[g]=h(T));var p=k((c=[],Z=I=w=y=null,T.forEach(function(E){var f=E.type;if("M"===f){var _=E.values[0],m=E.values[1];c.push({type:"M",values:[_,m]}),y=I=_,w=Z=m}else if("m"===f)c.push({type:"M",values:[_=y+E.values[0],m=w+E.values[1]]}),y=I=_,w=Z=m;else if("L"===f)c.push({type:"L",values:[_=E.values[0],m=E.values[1]]}),y=_,w=m;else if("l"===f)c.push({type:"L",values:[_=y+E.values[0],m=w+E.values[1]]}),y=_,w=m;else if("C"===f){var N=E.values[0],q=E.values[1],L=E.values[2],u=E.values[3];c.push({type:"C",values:[N,q,L,u,_=E.values[4],m=E.values[5]]}),y=_,w=m}else"c"===f?(c.push({type:"C",values:[N=y+E.values[0],q=w+E.values[1],L=y+E.values[2],u=w+E.values[3],_=y+E.values[4],m=w+E.values[5]]}),y=_,w=m):"Q"===f?(c.push({type:"Q",values:[N=E.values[0],q=E.values[1],_=E.values[2],m=E.values[3]]}),y=_,w=m):"q"===f?(c.push({type:"Q",values:[N=y+E.values[0],q=w+E.values[1],_=y+E.values[2],m=w+E.values[3]]}),y=_,w=m):"A"===f?(c.push({type:"A",values:[E.values[0],E.values[1],E.values[2],E.values[3],E.values[4],_=E.values[5],m=E.values[6]]}),y=_,w=m):"a"===f?(c.push({type:"A",values:[E.values[0],E.values[1],E.values[2],E.values[3],E.values[4],_=y+E.values[5],m=w+E.values[6]]}),y=_,w=m):"H"===f?(c.push({type:"H",values:[_=E.values[0]]}),y=_):"h"===f?(c.push({type:"H",values:[_=y+E.values[0]]}),y=_):"V"===f?(c.push({type:"V",values:[m=E.values[0]]}),w=m):"v"===f?(c.push({type:"V",values:[m=w+E.values[0]]}),w=m):"S"===f?(c.push({type:"S",values:[L=E.values[0],u=E.values[1],_=E.values[2],m=E.values[3]]}),y=_,w=m):"s"===f?(c.push({type:"S",values:[L=y+E.values[0],u=w+E.values[1],_=y+E.values[2],m=w+E.values[3]]}),y=_,w=m):"T"===f?(c.push({type:"T",values:[_=E.values[0],m=E.values[1]]}),y=_,w=m):"t"===f?(c.push({type:"T",values:[_=y+E.values[0],m=w+E.values[1]]}),y=_,w=m):"Z"!==f&&"z"!==f||(c.push({type:"Z",values:[]}),y=I,w=Z)}),c));return this[v]=h(p),p}if(this[g])return h(this[g]);var c,y,w,I,Z,T=a(this.getAttribute("d")||"");return this[g]=h(T),T},e.SVGPathElement.prototype.setPathData=function(d){if(0===d.length)o?this.setAttribute("d",""):this.removeAttribute("d");else{for(var p="",c=0,y=d.length;c<y;c+=1){var w=d[c];0<c&&(p+=" "),p+=w.type,w.values&&0<w.values.length&&(p+=" "+w.values.join(" "))}this.setAttribute("d",p)}},e.SVGRectElement.prototype.getPathData=function(d){var p=this.x.baseVal.value,c=this.y.baseVal.value,y=this.width.baseVal.value,w=this.height.baseVal.value,I=this.hasAttribute("rx")?this.rx.baseVal.value:this.ry.baseVal.value,Z=this.hasAttribute("ry")?this.ry.baseVal.value:this.rx.baseVal.value;y/2<I&&(I=y/2),w/2<Z&&(Z=w/2);var T=[{type:"M",values:[p+I,c]},{type:"H",values:[p+y-I]},{type:"A",values:[I,Z,0,0,1,p+y,c+Z]},{type:"V",values:[c+w-Z]},{type:"A",values:[I,Z,0,0,1,p+y-I,c+w]},{type:"H",values:[p+I]},{type:"A",values:[I,Z,0,0,1,p,c+w-Z]},{type:"V",values:[c+Z]},{type:"A",values:[I,Z,0,0,1,p+I,c]},{type:"Z",values:[]}];return T=T.filter(function(E){return"A"!==E.type||0!==E.values[0]&&0!==E.values[1]}),d&&!0===d.normalize&&(T=k(T)),T},e.SVGCircleElement.prototype.getPathData=function(d){var p=this.cx.baseVal.value,c=this.cy.baseVal.value,y=this.r.baseVal.value,w=[{type:"M",values:[p+y,c]},{type:"A",values:[y,y,0,0,1,p,c+y]},{type:"A",values:[y,y,0,0,1,p-y,c]},{type:"A",values:[y,y,0,0,1,p,c-y]},{type:"A",values:[y,y,0,0,1,p+y,c]},{type:"Z",values:[]}];return d&&!0===d.normalize&&(w=k(w)),w},e.SVGEllipseElement.prototype.getPathData=function(d){var p=this.cx.baseVal.value,c=this.cy.baseVal.value,y=this.rx.baseVal.value,w=this.ry.baseVal.value,I=[{type:"M",values:[p+y,c]},{type:"A",values:[y,w,0,0,1,p,c+w]},{type:"A",values:[y,w,0,0,1,p-y,c]},{type:"A",values:[y,w,0,0,1,p,c-w]},{type:"A",values:[y,w,0,0,1,p+y,c]},{type:"Z",values:[]}];return d&&!0===d.normalize&&(I=k(I)),I},e.SVGLineElement.prototype.getPathData=function(){return[{type:"M",values:[this.x1.baseVal.value,this.y1.baseVal.value]},{type:"L",values:[this.x2.baseVal.value,this.y2.baseVal.value]}]},e.SVGPolylineElement.prototype.getPathData=function(){for(var d=[],p=0;p<this.points.numberOfItems;p+=1){var c=this.points.getItem(p);d.push({type:0===p?"M":"L",values:[c.x,c.y]})}return d},e.SVGPolygonElement.prototype.getPathData=function(){for(var d=[],p=0;p<this.points.numberOfItems;p+=1){var c=this.points.getItem(p);d.push({type:0===p?"M":"L",values:[c.x,c.y]})}return d.push({type:"Z",values:[]}),d}}()}(e))}function gt(e,n){n!==e.isShown&&(!!n!=!!e.isShown&&(e.svg.style.visibility=n?"":"hidden"),e.isShown=n,e.events&&e.events.svgShow&&e.events.svgShow.forEach(function(i){i(e,n)}))}function Ve(e,n){var i,o,a,s,S,g,v,l,h,k,d,p,c,y,w,I,Z,T,E,f,_,m,N,q,L,u,A,D,U,H,F,b,Q,se,z,K,fe,le,Ie,mt,$,j,R,ee,W,te,be,pe,qe,Re,Ye,ue={};n.line&&(ue.line=(o=(i=e).options,S=!1,S=V(i,a=i.curStats,"line_color",o.lineColor,(s=i.events).cur_line_color)||S,S=V(i,a,"line_colorTra",nt(a.line_color)[0]<1)||S,S=V(i,a,"line_strokeWidth",o.lineSize,s.cur_line_strokeWidth)||S)),(n.plug||ue.line)&&(ue.plug=(v=(g=e).options,l=g.curStats,h=g.events,k=!1,[0,1].forEach(function(M){var Y,ce,ae,ve,je,Yt,Xt,rt,Ct=v.plugSE[M];k=V(g,l.plug_enabledSE,M,Ct!==We)||k,k=V(g,l.plug_plugSE,M,Ct)||k,k=V(g,l.plug_colorSE,M,rt=v.plugColorSE[M]||l.line_color,h.cur_plug_colorSE)||k,k=V(g,l.plug_colorTraSE,M,nt(rt)[0]<1)||k,Ct!==We&&(ve=ce=(Y=lt[ut[Ct]]).widthR*v.plugSizeSE[M],je=ae=Y.heightR*v.plugSizeSE[M],Se&&(ve*=l.line_strokeWidth,je*=l.line_strokeWidth),k=V(g,l.plug_markerWidthSE,M,ve)||k,k=V(g,l.plug_markerHeightSE,M,je)||k,l.capsMaskMarker_markerWidthSE[M]=ce,l.capsMaskMarker_markerHeightSE[M]=ae),l.plugOutline_plugSE[M]=l.capsMaskMarker_plugSE[M]=Ct,l.plug_enabledSE[M]?(l.position_plugOverheadSE[M]=Y.overhead*(rt=l.line_strokeWidth/_e.lineSize*v.plugSizeSE[M]),l.viewBox_plugBCircleSE[M]=Y.bCircle*rt,Yt=Y.sideLen*rt,Xt=Y.backLen*rt):(l.position_plugOverheadSE[M]=-l.line_strokeWidth/2,l.viewBox_plugBCircleSE[M]=Yt=Xt=0),V(g,l.attach_plugSideLenSE,M,Yt,h.cur_attach_plugSideLenSE),V(g,l.attach_plugBackLenSE,M,Xt,h.cur_attach_plugBackLenSE),l.capsMaskAnchor_enabledSE[M]=!l.plug_enabledSE[M]}),k=V(g,l,"plug_enabled",l.plug_enabledSE[0]||l.plug_enabledSE[1])||k)),(n.lineOutline||ue.line)&&(ue.lineOutline=(c=(d=e).options,w=!1,w=V(d,y=d.curStats,"lineOutline_enabled",c.lineOutlineEnabled)||w,w=V(d,y,"lineOutline_color",c.lineOutlineColor)||w,w=V(d,y,"lineOutline_colorTra",nt(y.lineOutline_color)[0]<1)||w,w=V(d,y,"lineOutline_strokeWidth",y.line_strokeWidth-2*(p=y.line_strokeWidth*c.lineOutlineSize))||w,w=V(d,y,"lineOutline_inStrokeWidth",y.lineOutline_colorTra?y.lineOutline_strokeWidth+2*Tt:y.line_strokeWidth-p)||w)),(n.plugOutline||ue.line||ue.plug||ue.lineOutline)&&(ue.plugOutline=(Z=(I=e).options,T=I.curStats,E=!1,[0,1].forEach(function(M){var Y,ce=T.plugOutline_plugSE[M],ae=ce!==We?lt[ut[ce]]:null;E=V(I,T.plugOutline_enabledSE,M,Z.plugOutlineEnabledSE[M]&&T.plug_enabled&&T.plug_enabledSE[M]&&!!ae&&!!ae.outlineBase)||E,E=V(I,T.plugOutline_colorSE,M,Y=Z.plugOutlineColorSE[M]||T.lineOutline_color)||E,E=V(I,T.plugOutline_colorTraSE,M,nt(Y)[0]<1)||E,ae&&ae.outlineBase&&((Y=Z.plugOutlineSizeSE[M])>ae.outlineMax&&(Y=ae.outlineMax),E=V(I,T.plugOutline_strokeWidthSE,M,Y*=2*ae.outlineBase)||E,E=V(I,T.plugOutline_inStrokeWidthSE,M,T.plugOutline_colorTraSE[M]?Y-Tt/(T.line_strokeWidth/_e.lineSize)/Z.plugSizeSE[M]*2:Y/2)||E)}),E)),(n.faces||ue.line||ue.plug||ue.lineOutline||ue.plugOutline)&&(ue.faces=(m=(f=e).curStats,N=f.aplStats,q=f.events,L=!1,!m.line_altColor&&V(f,N,"line_color",_=m.line_color,q.apl_line_color)&&(f.lineFace.style.stroke=_,L=!0),V(f,N,"line_strokeWidth",_=m.line_strokeWidth,q.apl_line_strokeWidth)&&(f.lineShape.style.strokeWidth=_+"px",L=!0,(et||Te)&&(ye(f,f.lineShape),Te&&(ye(f,f.lineFace),ye(f,f.lineMaskCaps)))),V(f,N,"lineOutline_enabled",_=m.lineOutline_enabled,q.apl_lineOutline_enabled)&&(f.lineOutlineFace.style.display=_?"inline":"none",L=!0),m.lineOutline_enabled&&(V(f,N,"lineOutline_color",_=m.lineOutline_color,q.apl_lineOutline_color)&&(f.lineOutlineFace.style.stroke=_,L=!0),V(f,N,"lineOutline_strokeWidth",_=m.lineOutline_strokeWidth,q.apl_lineOutline_strokeWidth)&&(f.lineOutlineMaskShape.style.strokeWidth=_+"px",L=!0,Te&&(ye(f,f.lineOutlineMaskCaps),ye(f,f.lineOutlineFace))),V(f,N,"lineOutline_inStrokeWidth",_=m.lineOutline_inStrokeWidth,q.apl_lineOutline_inStrokeWidth)&&(f.lineMaskShape.style.strokeWidth=_+"px",L=!0,Te&&(ye(f,f.lineOutlineMaskCaps),ye(f,f.lineOutlineFace)))),V(f,N,"plug_enabled",_=m.plug_enabled,q.apl_plug_enabled)&&(f.plugsFace.style.display=_?"inline":"none",L=!0),m.plug_enabled&&[0,1].forEach(function(M){var Y=m.plug_plugSE[M],ce=Y!==We?lt[ut[Y]]:null,ae=en(M,ce);V(f,N.plug_enabledSE,M,_=m.plug_enabledSE[M],q.apl_plug_enabledSE)&&(f.plugsFace.style[ae.prop]=_?"url(#"+f.plugMarkerIdSE[M]+")":"none",L=!0),m.plug_enabledSE[M]&&(V(f,N.plug_plugSE,M,Y,q.apl_plug_plugSE)&&(f.plugFaceSE[M].href.baseVal="#"+ce.elmId,$t(f,f.plugMarkerSE[M],ae.orient,ce.bBox,f.svg,f.plugMarkerShapeSE[M],f.plugsFace),L=!0,et&&ye(f,f.plugsFace)),V(f,N.plug_colorSE,M,_=m.plug_colorSE[M],q.apl_plug_colorSE)&&(f.plugFaceSE[M].style.fill=_,L=!0,(ct||Se||Te)&&!m.line_colorTra&&ye(f,Te?f.lineMaskCaps:f.capsMaskLine)),["markerWidth","markerHeight"].forEach(function(ve){var je="plug_"+ve+"SE";V(f,N[je],M,_=m[je][M],q["apl_"+je])&&(f.plugMarkerSE[M][ve].baseVal.value=_,L=!0)}),V(f,N.plugOutline_enabledSE,M,_=m.plugOutline_enabledSE[M],q.apl_plugOutline_enabledSE)&&(_?(f.plugFaceSE[M].style.mask="url(#"+f.plugMaskIdSE[M]+")",f.plugOutlineFaceSE[M].style.display="inline"):(f.plugFaceSE[M].style.mask="none",f.plugOutlineFaceSE[M].style.display="none"),L=!0),m.plugOutline_enabledSE[M]&&(V(f,N.plugOutline_plugSE,M,Y,q.apl_plugOutline_plugSE)&&(f.plugOutlineFaceSE[M].href.baseVal=f.plugMaskShapeSE[M].href.baseVal=f.plugOutlineMaskShapeSE[M].href.baseVal="#"+ce.elmId,[f.plugMaskSE[M],f.plugOutlineMaskSE[M]].forEach(function(ve){ve.x.baseVal.value=ce.bBox.left,ve.y.baseVal.value=ce.bBox.top,ve.width.baseVal.value=ce.bBox.width,ve.height.baseVal.value=ce.bBox.height}),L=!0),V(f,N.plugOutline_colorSE,M,_=m.plugOutline_colorSE[M],q.apl_plugOutline_colorSE)&&(f.plugOutlineFaceSE[M].style.fill=_,L=!0,Te&&(ye(f,f.lineMaskCaps),ye(f,f.lineOutlineMaskCaps))),V(f,N.plugOutline_strokeWidthSE,M,_=m.plugOutline_strokeWidthSE[M],q.apl_plugOutline_strokeWidthSE)&&(f.plugOutlineMaskShapeSE[M].style.strokeWidth=_+"px",L=!0),V(f,N.plugOutline_inStrokeWidthSE,M,_=m.plugOutline_inStrokeWidthSE[M],q.apl_plugOutline_inStrokeWidthSE)&&(f.plugMaskShapeSE[M].style.strokeWidth=_+"px",L=!0)))}),L)),(n.position||ue.line||ue.plug)&&(ue.position=function(e){var n,i,o,a,s,S,g,v,l,h,k,p,c,y,w,I,Z,T,E=e.options,f=e.curStats,_=e.aplStats,m=f.position_socketXYSE,N=!1;function q(u,A){var D=1===A?{x:u.left+u.width/2,y:u.top}:2===A?{x:u.right,y:u.top+u.height/2}:3===A?{x:u.left+u.width/2,y:u.bottom}:{x:u.left,y:u.top+u.height/2};return D.socketId=A,D}function L(u){return{x:u.x,y:u.y}}if(f.position_path=E.path,f.position_lineStrokeWidth=f.line_strokeWidth,f.position_socketGravitySE=n=Ce(E.socketGravitySE),i=[0,1].map(function(u){var A,D,U,H=E.anchorSE[u],F=e.optionIsAttach.anchorSE[u],b=!1!==F?we[H._id]:null,Q=!1!==F&&b.conf.getStrokeWidth?b.conf.getStrokeWidth(b,e):0,se=!1!==F&&b.conf.getBBoxNest?b.conf.getBBoxNest(b,e,Q):ot(H,e.baseWindow);return f.capsMaskAnchor_pathDataSE[u]=!1!==F&&b.conf.getPathData?b.conf.getPathData(b,e,Q):(D=null!=(A=se).right?A.right:A.left+A.width,[{type:"M",values:[A.left,A.top]},{type:"L",values:[D,A.top]},{type:"L",values:[D,U=null!=A.bottom?A.bottom:A.top+A.height]},{type:"L",values:[A.left,U]},{type:"Z",values:[]}]),f.capsMaskAnchor_strokeWidthSE[u]=Q,se}),g=-1,E.socketSE[0]&&E.socketSE[1]?(m[0]=q(i[0],E.socketSE[0]),m[1]=q(i[1],E.socketSE[1])):(E.socketSE[0]||E.socketSE[1]?(E.socketSE[0]?(s=0,S=1):(s=1,S=0),m[s]=q(i[s],E.socketSE[s]),(a=bt.map(function(u){return q(i[S],u)})).forEach(function(u){var A=Ne(u,m[s]);(A<g||-1===g)&&(m[S]=u,g=A)})):(a=bt.map(function(u){return q(i[1],u)}),bt.map(function(u){return q(i[0],u)}).forEach(function(u){a.forEach(function(A){var D=Ne(u,A);(D<g||-1===g)&&(m[0]=u,m[1]=A,g=D)})})),[0,1].forEach(function(u){var A,D;E.socketSE[u]||(i[u].width||i[u].height?i[u].width||4!==m[u].socketId&&2!==m[u].socketId?i[u].height||1!==m[u].socketId&&3!==m[u].socketId||(m[u].socketId=0<=m[u?0:1].y-i[u].top?3:1):m[u].socketId=0<=m[u?0:1].x-i[u].left?2:4:(A=m[u?0:1].x-i[u].left,D=m[u?0:1].y-i[u].top,m[u].socketId=Math.abs(A)>=Math.abs(D)?0<=A?2:4:0<=D?3:1))})),f.position_path!==_.position_path||f.position_lineStrokeWidth!==_.position_lineStrokeWidth||[0,1].some(function(u){return f.position_plugOverheadSE[u]!==_.position_plugOverheadSE[u]||(H=m[u]).x!==(F=_.position_socketXYSE[u]).x||H.y!==F.y||H.socketId!==F.socketId||(D=_.position_socketGravitySE[u],(U=null==(A=n[u])?"auto":Array.isArray(A)?"array":"number")!=(null==D?"auto":Array.isArray(D)?"array":"number")||("array"===U?A[0]!==D[0]||A[1]!==D[1]:A!==D));var A,D,U,H,F})){switch(e.pathList.baseVal=o=[],e.pathList.animVal=null,f.position_path){case 1:o.push([L(m[0]),L(m[1])]);break;case 2:p=jt*("number"==typeof n[0]&&0<n[0]||"number"==typeof n[1]&&0<n[1]?-1:1),y=-(c=Math.atan2(m[1].y-m[0].y,m[1].x-m[0].x))+p,w=Math.PI-c-p,I=Ne(m[0],m[1])/Math.sqrt(2)*dt,Z={x:m[0].x+Math.cos(y)*I,y:m[0].y+Math.sin(y)*I*-1},T={x:m[1].x+Math.cos(w)*I,y:m[1].y+Math.sin(w)*I*-1},o.push([L(m[0]),Z,T,L(m[1])]);break;case 3:case 4:l=[n[0],4===f.position_path?0:n[1]],h=[],k=[],m.forEach(function(u,A){var D,U,H,F,b,Q=l[A];Array.isArray(Q)?D={x:Q[0],y:Q[1]}:"number"==typeof Q?D=1===u.socketId?{x:0,y:-Q}:2===u.socketId?{x:Q,y:0}:3===u.socketId?{x:0,y:Q}:{x:-Q,y:0}:(U=m[A?0:1],F=0<(H=f.position_plugOverheadSE[A])?120+(8<H?3.75*(H-8):0):80+(f.position_lineStrokeWidth>4?5*(f.position_lineStrokeWidth-4):0),1===u.socketId?((b=(u.y-U.y)/2)<F&&(b=F),D={x:0,y:-b}):2===u.socketId?((b=(U.x-u.x)/2)<F&&(b=F),D={x:b,y:0}):3===u.socketId?((b=(U.y-u.y)/2)<F&&(b=F),D={x:0,y:b}):((b=(u.x-U.x)/2)<F&&(b=F),D={x:-b,y:0})),h[A]=u.x+D.x,k[A]=u.y+D.y}),o.push([L(m[0]),{x:h[0],y:k[0]},{x:h[1],y:k[1]},L(m[1])]);break;case 5:!function(){var u,F=[[],[]],b=[];function Q($){return 1===$?3:2===$?4:3===$?1:2}function se($){return 2===$||4===$?"x":"y"}function z($,j,R){var ee={x:$.x,y:$.y};if(R){if(R===Q($.dirId))throw new Error("Invalid dirId: "+R);ee.dirId=R}else ee.dirId=$.dirId;return 1===ee.dirId?ee.y-=j:2===ee.dirId?ee.x+=j:3===ee.dirId?ee.y+=j:ee.x-=j,ee}function K($,j){return 1===j.dirId?$.y<=j.y:2===j.dirId?$.x>=j.x:3===j.dirId?$.y>=j.y:$.x<=j.x}function he($,j){return 1===j.dirId||3===j.dirId?$.x===j.x:$.y===j.y}function fe($){return $[0]?{contain:0,notContain:1}:{contain:1,notContain:0}}function le($,j,R){return Math.abs(j[R]-$[R])}function Ie($,j,R){return"x"===R?$.x<j.x?2:4:$.y<j.y?3:1}function mt(){var $,j,R,ee,W=[K(b[1],b[0]),K(b[0],b[1])],te=[se(b[0].dirId),se(b[1].dirId)];if(te[0]===te[1]){if(W[0]&&W[1])return he(b[1],b[0])||(b[0][te[0]]===b[1][te[1]]?(F[0].push(b[0]),F[1].push(b[1])):($=b[0][te[0]]+(b[1][te[1]]-b[0][te[0]])/2,F[0].push(z(b[0],Math.abs($-b[0][te[0]]))),F[1].push(z(b[1],Math.abs($-b[1][te[1]]))))),!1;W[0]!==W[1]?(j=fe(W),(R=le(b[j.notContain],b[j.contain],te[j.notContain]))<30&&(b[j.notContain]=z(b[j.notContain],30-R)),F[j.notContain].push(b[j.notContain]),b[j.notContain]=z(b[j.notContain],30,he(b[j.contain],b[j.notContain])?"x"===te[j.notContain]?3:2:Ie(b[j.notContain],b[j.contain],"x"===te[j.notContain]?"y":"x"))):(R=le(b[0],b[1],"x"===te[0]?"y":"x"),F.forEach(function(be,pe){var qe=0===pe?1:0;be.push(b[pe]),b[pe]=z(b[pe],30,60<=R?Ie(b[pe],b[qe],"x"===te[pe]?"y":"x"):"x"===te[pe]?3:2)}))}else{if(W[0]&&W[1])return he(b[1],b[0])?F[1].push(b[1]):he(b[0],b[1])?F[0].push(b[0]):F[0].push("x"===te[0]?{x:b[1].x,y:b[0].y}:{x:b[0].x,y:b[1].y}),!1;W[0]!==W[1]?(j=fe(W),F[j.notContain].push(b[j.notContain]),b[j.notContain]=z(b[j.notContain],30,le(b[j.notContain],b[j.contain],te[j.contain])>=30?Ie(b[j.notContain],b[j.contain],te[j.contain]):b[j.contain].dirId)):(ee=[{x:b[0].x,y:b[0].y},{x:b[1].x,y:b[1].y}],F.forEach(function(be,pe){var qe=0===pe?1:0,Re=le(ee[pe],ee[qe],te[pe]);Re<30&&(b[pe]=z(b[pe],30-Re)),be.push(b[pe]),b[pe]=z(b[pe],30,Ie(b[pe],b[qe],te[qe]))}))}return!0}for(m.forEach(function($,j){var R,ee=L($),W=n[j];R=Array.isArray(W)?W[0]<0?[4,-W[0]]:0<W[0]?[2,W[0]]:W[1]<0?[1,-W[1]]:0<W[1]?[3,W[1]]:[$.socketId,0]:"number"!=typeof W?[$.socketId,30]:0<=W?[$.socketId,W]:[Q($.socketId),-W],ee.dirId=R[0],W=R[1],F[j].push(ee),b[j]=z(ee,W)});mt(););F[1].reverse(),F[0].concat(F[1]).forEach(function($,j){var R={x:$.x,y:$.y};0<j&&o.push([u,R]),u=R})}()}v=[],f.position_plugOverheadSE.forEach(function(u,A){var D,U,H,F,b,Q,se,z,K,he,fe,le=!A;0<u?2===(D=o[U=le?0:o.length-1]).length?(v[U]=v[U]||Ne.apply(null,D),v[U]>10&&(v[U]-u<10&&(u=v[U]-10),H=at(D[0],D[1],(le?u:v[U]-u)/v[U]),o[U]=le?[H,D[1]]:[D[0],H],v[U]-=u)):(v[U]=v[U]||r.apply(null,D),v[U]>10&&(v[U]-u<10&&(u=v[U]-10),H=P(D[0],D[1],D[2],D[3],x(D[0],D[1],D[2],D[3],le?u:v[U]-u)),le?(F=D[0],b=H.toP1):(F=D[3],b=H.fromP2),Q=Math.atan2(F.y-H.y,H.x-F.x),se=Ne(H,b),H.x=F.x+Math.cos(Q)*u,H.y=F.y+Math.sin(Q)*u*-1,b.x=H.x+Math.cos(Q)*se,b.y=H.y+Math.sin(Q)*se*-1,o[U]=le?[H,H.toP1,H.toP2,D[3]]:[D[0],H.fromP1,H.fromP2,H],v[U]=null)):u<0&&(D=o[U=le?0:o.length-1],u<(fe=-i[A]["x"==(K=4===(z=m[A].socketId)||2===z?"x":"y")?"width":"height"])&&(u=fe),he=u*(4===z||1===z?-1:1),2===D.length?D[le?0:D.length-1][K]+=he:(le?[0,1]:[D.length-2,D.length-1]).forEach(function(Ie){D[Ie][K]+=he}),v[U]=null)}),_.position_socketXYSE=Ce(m),_.position_plugOverheadSE=Ce(f.position_plugOverheadSE),_.position_path=f.position_path,_.position_lineStrokeWidth=f.position_lineStrokeWidth,_.position_socketGravitySE=Ce(n),N=!0,e.events.apl_position&&e.events.apl_position.forEach(function(u){u(e,o)})}return N}(e)),(n.path||ue.position)&&(ue.path=(D=(u=e).curStats,U=u.aplStats,F=D.path_edge,b=!1,(H=u.pathList.animVal||u.pathList.baseVal)&&(F.x1=F.x2=H[0][0].x,F.y1=F.y2=H[0][0].y,D.path_pathData=A=C(H,function(M){M.x<F.x1&&(F.x1=M.x),M.y<F.y1&&(F.y1=M.y),M.x>F.x2&&(F.x2=M.x),M.y>F.y2&&(F.y2=M.y)}),ne(A,U.path_pathData)&&(u.linePath.setPathData(A),U.path_pathData=A,b=!0,Te?(ye(u,u.plugsFace),ye(u,u.lineMaskCaps)):et&&ye(u,u.linePath),u.events.apl_path&&u.events.apl_path.forEach(function(M){M(u,A)}))),b)),ue.viewBox=(fe=(K=(Q=e).curStats).path_edge,le=K.viewBox_bBox,Ie=Q.aplStats.viewBox_bBox,mt=Q.svg.viewBox.baseVal,$=Q.svg.style,j=!1,se=Math.max(K.line_strokeWidth/2,K.viewBox_plugBCircleSE[0]||0,K.viewBox_plugBCircleSE[1]||0),z={x1:fe.x1-se,y1:fe.y1-se,x2:fe.x2+se,y2:fe.y2+se},Q.events.new_edge4viewBox&&Q.events.new_edge4viewBox.forEach(function(M){M(Q,z)}),le.x=K.lineMask_x=K.lineOutlineMask_x=K.maskBGRect_x=z.x1,le.y=K.lineMask_y=K.lineOutlineMask_y=K.maskBGRect_y=z.y1,le.width=z.x2-z.x1,le.height=z.y2-z.y1,["x","y","width","height"].forEach(function(M){var Y;(Y=le[M])!==Ie[M]&&(mt[M]=Ie[M]=Y,$[Mt[M]]=Y+("x"===M||"y"===M?Q.bodyOffset[M]:0)+"px",j=!0)}),j),ue.mask=(W=(R=e).curStats,te=R.aplStats,be=!1,W.plug_enabled?[0,1].forEach(function(M){W.capsMaskMarker_enabledSE[M]=W.plug_enabledSE[M]&&W.plug_colorTraSE[M]||W.plugOutline_enabledSE[M]&&W.plugOutline_colorTraSE[M]}):W.capsMaskMarker_enabledSE[0]=W.capsMaskMarker_enabledSE[1]=!1,W.capsMaskMarker_enabled=W.capsMaskMarker_enabledSE[0]||W.capsMaskMarker_enabledSE[1],W.lineMask_outlineMode=W.lineOutline_enabled,W.caps_enabled=W.capsMaskMarker_enabled||W.capsMaskAnchor_enabledSE[0]||W.capsMaskAnchor_enabledSE[1],W.lineMask_enabled=W.caps_enabled||W.lineMask_outlineMode,(W.lineMask_enabled&&!W.lineMask_outlineMode||W.lineOutline_enabled)&&["x","y"].forEach(function(M){var Y="maskBGRect_"+M;V(R,te,Y,ee=W[Y])&&(R.maskBGRect[M].baseVal.value=ee,be=!0)}),V(R,te,"lineMask_enabled",ee=W.lineMask_enabled)&&(R.lineFace.style.mask=ee?"url(#"+R.lineMaskId+")":"none",be=!0,Se&&ye(R,R.lineMask)),W.lineMask_enabled&&(V(R,te,"lineMask_outlineMode",ee=W.lineMask_outlineMode)&&(ee?(R.lineMaskBG.style.display="none",R.lineMaskShape.style.display="inline"):(R.lineMaskBG.style.display="inline",R.lineMaskShape.style.display="none"),be=!0),["x","y"].forEach(function(M){var Y="lineMask_"+M;V(R,te,Y,ee=W[Y])&&(R.lineMask[M].baseVal.value=ee,be=!0)}),V(R,te,"caps_enabled",ee=W.caps_enabled)&&(R.lineMaskCaps.style.display=R.lineOutlineMaskCaps.style.display=ee?"inline":"none",be=!0,Se&&ye(R,R.capsMaskLine)),W.caps_enabled&&([0,1].forEach(function(M){var Y;V(R,te.capsMaskAnchor_enabledSE,M,ee=W.capsMaskAnchor_enabledSE[M])&&(R.capsMaskAnchorSE[M].style.display=ee?"inline":"none",be=!0,Se&&ye(R,R.lineMask)),W.capsMaskAnchor_enabledSE[M]&&(ne(Y=W.capsMaskAnchor_pathDataSE[M],te.capsMaskAnchor_pathDataSE[M])&&(R.capsMaskAnchorSE[M].setPathData(Y),te.capsMaskAnchor_pathDataSE[M]=Y,be=!0),V(R,te.capsMaskAnchor_strokeWidthSE,M,ee=W.capsMaskAnchor_strokeWidthSE[M])&&(R.capsMaskAnchorSE[M].style.strokeWidth=ee+"px",be=!0))}),V(R,te,"capsMaskMarker_enabled",ee=W.capsMaskMarker_enabled)&&(R.capsMaskLine.style.display=ee?"inline":"none",be=!0),W.capsMaskMarker_enabled&&[0,1].forEach(function(M){var Y=W.capsMaskMarker_plugSE[M],ce=Y!==We?lt[ut[Y]]:null,ae=en(M,ce);V(R,te.capsMaskMarker_enabledSE,M,ee=W.capsMaskMarker_enabledSE[M])&&(R.capsMaskLine.style[ae.prop]=ee?"url(#"+R.lineMaskMarkerIdSE[M]+")":"none",be=!0),W.capsMaskMarker_enabledSE[M]&&(V(R,te.capsMaskMarker_plugSE,M,Y)&&(R.capsMaskMarkerShapeSE[M].href.baseVal="#"+ce.elmId,$t(R,R.capsMaskMarkerSE[M],ae.orient,ce.bBox,R.svg,R.capsMaskMarkerShapeSE[M],R.capsMaskLine),be=!0,et&&(ye(R,R.capsMaskLine),ye(R,R.lineFace))),["markerWidth","markerHeight"].forEach(function(ve){var je="capsMaskMarker_"+ve+"SE";V(R,te[je],M,ee=W[je][M])&&(R.capsMaskMarkerSE[M][ve].baseVal.value=ee,be=!0)}))}))),W.lineOutline_enabled&&["x","y"].forEach(function(M){var Y="lineOutlineMask_"+M;V(R,te,Y,ee=W[Y])&&(R.lineOutlineMask[M].baseVal.value=ee,be=!0)}),be),n.effect&&(Re=(pe=e).curStats,Ye=pe.aplStats,Object.keys(oe).forEach(function(M){var Y=oe[M],ce=M+"_enabled",ae=M+"_options",ve=Re[ae];V(pe,Ye,ce,qe=Re[ce])?(qe&&(Ye[ae]=Ce(ve)),Y[qe?"init":"remove"](pe)):qe&&Qe(ve,Ye[ae])&&(Y.remove(pe),Ye[ce]=!0,Ye[ae]=Ce(ve),Y.init(pe))})),(ct||Se)&&ue.line&&!ue.path&&ye(e,e.lineShape),ct&&ue.plug&&!ue.line&&ye(e,e.plugsFace),Kt(e)}function Pt(e,n){return{duration:Ae(e.duration)&&0<e.duration?e.duration:n.duration,timing:Ee.validTiming(e.timing)?e.timing:Ce(n.timing)}}function Lt(e,n,i,o){var a,s=e.curStats,S=e.aplStats,g={};function v(){["show_on","show_effect","show_animOptions"].forEach(function(l){S[l]=s[l]})}s.show_on=n,i&&X[i]&&(s.show_effect=i,s.show_animOptions=Pt(Be(o)?o:{},X[i].defaultAnimOptions)),g.show_on=s.show_on!==S.show_on,g.show_effect=s.show_effect!==S.show_effect,g.show_animOptions=Qe(s.show_animOptions,S.show_animOptions),g.show_effect||g.show_animOptions?s.show_inAnim?(a=g.show_effect?X[S.show_effect].stop(e,!0,!0):X[S.show_effect].stop(e),v(),X[S.show_effect].init(e,a)):g.show_on&&(S.show_effect&&g.show_effect&&X[S.show_effect].stop(e,!0,!0),v(),X[S.show_effect].init(e)):g.show_on&&(v(),X[S.show_effect].start(e))}function on(e,n,i){var o={props:e,optionName:i};return!(!(e.attachments.indexOf(n)<0)||n.conf.bind&&!n.conf.bind(n,o)||(e.attachments.push(n),n.boundTargets.push(o),0))}function Nt(e,n,i){var o=e.attachments.indexOf(n);-1<o&&e.attachments.splice(o,1),n.boundTargets.some(function(a,s){return a.props===e&&(n.conf.unbind&&n.conf.unbind(n,a),o=s,!0)})&&(n.boundTargets.splice(o,1),i||ft(function(){n.boundTargets.length||_t(n)}))}function Vt(e,n){var i,o,a=e.options,s={};function S(l,h,k,d,p){var c={};return k?null!=d?(c.container=l[k],c.key=d):(c.container=l,c.key=k):(c.container=l,c.key=h),c.default=p,c.acceptsAuto=null==c.default,c}function g(l,h,k,d,p,c,y){var w,I,Z,T=S(l,k,p,c,y);return null!=h[k]&&(I=(h[k]+"").toLowerCase())&&(T.acceptsAuto&&I===Je||(Z=d[I]))&&Z!==T.container[T.key]&&(T.container[T.key]=Z,w=!0),null!=T.container[T.key]||T.acceptsAuto||(T.container[T.key]=T.default,w=!0),w}function v(l,h,k,d,p,c,y,w,I){var Z,T,E,f,_=S(l,k,p,c,y);if(!d){if(null==_.default)throw new Error("Invalid `type`: "+k);d=typeof _.default}return null!=h[k]&&(_.acceptsAuto&&(h[k]+"").toLowerCase()===Je||(E=T=h[k],("number"===(f=d)?Ae(E):typeof E===f)&&(T=I&&"string"===d&&T?T.trim():T,1)&&(!w||w(T))))&&T!==_.container[_.key]&&(_.container[_.key]=T,Z=!0),null!=_.container[_.key]||_.acceptsAuto||(_.container[_.key]=_.default,Z=!0),Z}if(n=n||{},["start","end"].forEach(function(l,h){var k=n[l],d=!1;if(k&&(it(k)||(d=He(k,"anchor")))&&k!==a.anchorSE[h]){if(!1!==e.optionIsAttach.anchorSE[h]&&Nt(e,we[a.anchorSE[h]._id]),d&&!on(e,we[k._id],l))throw new Error("Can't bind attachment");a.anchorSE[h]=k,e.optionIsAttach.anchorSE[h]=d,o=s.position=!0}}),!a.anchorSE[0]||!a.anchorSE[1]||a.anchorSE[0]===a.anchorSE[1])throw new Error("`start` and `end` are required.");o&&(i=function(l,h){var k,d,p;if(!(k=kt(l))||!(d=kt(h)))throw new Error("Cannot get frames.");return k.length&&d.length&&(k.reverse(),d.reverse(),k.some(function(c){return d.some(function(y){return y===c&&(p=y.contentWindow,!0)})})),p||window}(!1!==e.optionIsAttach.anchorSE[0]?we[a.anchorSE[0]._id].element:a.anchorSE[0],!1!==e.optionIsAttach.anchorSE[1]?we[a.anchorSE[1]._id].element:a.anchorSE[1]))!==e.baseWindow&&(function(l,h){var k,d,p,c,y,w,I,Z,T,E,f=l.aplStats,_=h.document,m=ge+"-"+l._id;function N(u){var A=d.appendChild(_.createElementNS(J,"mask"));return A.id=u,A.maskUnits.baseVal=SVGUnitTypes.SVG_UNIT_TYPE_USERSPACEONUSE,[A.x,A.y,A.width,A.height].forEach(function(D){D.baseVal.newValueSpecifiedUnits(SVGLength.SVG_LENGTHTYPE_PX,0)}),A}function q(u){var A=d.appendChild(_.createElementNS(J,"marker"));return A.id=u,A.markerUnits.baseVal=SVGMarkerElement.SVG_MARKERUNITS_STROKEWIDTH,A.viewBox.baseVal||A.setAttribute("viewBox","0 0 0 0"),A}function L(u){return[u.width,u.height].forEach(function(A){A.baseVal.newValueSpecifiedUnits(SVGLength.SVG_LENGTHTYPE_PERCENTAGE,100)}),u}l.pathList={},Oe(f,Et),Object.keys(oe).forEach(function(u){var A=u+"_enabled";f[A]&&(oe[u].remove(l),f[A]=!1)}),l.baseWindow&&l.svg&&l.baseWindow.document.body.removeChild(l.svg),nn(l.baseWindow=h),l.bodyOffset=tn(h),l.svg=k=_.createElementNS(J,"svg"),k.className.baseVal=ge,k.viewBox.baseVal||k.setAttribute("viewBox","0 0 0 0"),l.defs=d=k.appendChild(_.createElementNS(J,"defs")),l.linePath=c=d.appendChild(_.createElementNS(J,"path")),c.id=y=m+"-line-path",c.className.baseVal=ge+"-line-path",Se&&(c.style.fill="none"),l.lineShape=c=d.appendChild(_.createElementNS(J,"use")),c.id=w=m+"-line-shape",c.href.baseVal="#"+y,(p=d.appendChild(_.createElementNS(J,"g"))).id=I=m+"-caps",l.capsMaskAnchorSE=[0,1].map(function(){var u=p.appendChild(_.createElementNS(J,"path"));return u.className.baseVal=ge+"-caps-mask-anchor",u}),l.lineMaskMarkerIdSE=[m+"-caps-mask-marker-0",m+"-caps-mask-marker-1"],l.capsMaskMarkerSE=[0,1].map(function(u){return q(l.lineMaskMarkerIdSE[u])}),l.capsMaskMarkerShapeSE=[0,1].map(function(u){var A=l.capsMaskMarkerSE[u].appendChild(_.createElementNS(J,"use"));return A.className.baseVal=ge+"-caps-mask-marker-shape",A}),l.capsMaskLine=c=p.appendChild(_.createElementNS(J,"use")),c.className.baseVal=ge+"-caps-mask-line",c.href.baseVal="#"+w,l.maskBGRect=c=L(d.appendChild(_.createElementNS(J,"rect"))),c.id=Z=m+"-mask-bg-rect",c.className.baseVal=ge+"-mask-bg-rect",Se&&(c.style.fill="white"),l.lineMask=L(N(l.lineMaskId=m+"-line-mask")),l.lineMaskBG=c=l.lineMask.appendChild(_.createElementNS(J,"use")),c.href.baseVal="#"+Z,l.lineMaskShape=c=l.lineMask.appendChild(_.createElementNS(J,"use")),c.className.baseVal=ge+"-line-mask-shape",c.href.baseVal="#"+y,c.style.display="none",l.lineMaskCaps=c=l.lineMask.appendChild(_.createElementNS(J,"use")),c.href.baseVal="#"+I,l.lineOutlineMask=L(N(T=m+"-line-outline-mask")),(c=l.lineOutlineMask.appendChild(_.createElementNS(J,"use"))).href.baseVal="#"+Z,l.lineOutlineMaskShape=c=l.lineOutlineMask.appendChild(_.createElementNS(J,"use")),c.className.baseVal=ge+"-line-outline-mask-shape",c.href.baseVal="#"+y,l.lineOutlineMaskCaps=c=l.lineOutlineMask.appendChild(_.createElementNS(J,"use")),c.href.baseVal="#"+I,l.face=k.appendChild(_.createElementNS(J,"g")),l.lineFace=c=l.face.appendChild(_.createElementNS(J,"use")),c.href.baseVal="#"+w,l.lineOutlineFace=c=l.face.appendChild(_.createElementNS(J,"use")),c.href.baseVal="#"+w,c.style.mask="url(#"+T+")",c.style.display="none",l.plugMaskIdSE=[m+"-plug-mask-0",m+"-plug-mask-1"],l.plugMaskSE=[0,1].map(function(u){return N(l.plugMaskIdSE[u])}),l.plugMaskShapeSE=[0,1].map(function(u){var A=l.plugMaskSE[u].appendChild(_.createElementNS(J,"use"));return A.className.baseVal=ge+"-plug-mask-shape",A}),E=[],l.plugOutlineMaskSE=[0,1].map(function(u){return N(E[u]=m+"-plug-outline-mask-"+u)}),l.plugOutlineMaskShapeSE=[0,1].map(function(u){var A=l.plugOutlineMaskSE[u].appendChild(_.createElementNS(J,"use"));return A.className.baseVal=ge+"-plug-outline-mask-shape",A}),l.plugMarkerIdSE=[m+"-plug-marker-0",m+"-plug-marker-1"],l.plugMarkerSE=[0,1].map(function(u){var A=q(l.plugMarkerIdSE[u]);return Se&&(A.markerUnits.baseVal=SVGMarkerElement.SVG_MARKERUNITS_USERSPACEONUSE),A}),l.plugMarkerShapeSE=[0,1].map(function(u){return l.plugMarkerSE[u].appendChild(_.createElementNS(J,"g"))}),l.plugFaceSE=[0,1].map(function(u){return l.plugMarkerShapeSE[u].appendChild(_.createElementNS(J,"use"))}),l.plugOutlineFaceSE=[0,1].map(function(u){var A=l.plugMarkerShapeSE[u].appendChild(_.createElementNS(J,"use"));return A.style.mask="url(#"+E[u]+")",A.style.display="none",A}),l.plugsFace=c=l.face.appendChild(_.createElementNS(J,"use")),c.className.baseVal=ge+"-plugs-face",c.href.baseVal="#"+w,c.style.display="none",l.curStats.show_inAnim?(l.isShown=1,X[f.show_effect].stop(l,!0)):l.isShown||(k.style.visibility="hidden"),_.body.appendChild(k),[0,1,2].forEach(function(u){var A,D=l.options.labelSEM[u];D&&He(D,"label")&&(A=we[D._id]).conf.initSvg&&A.conf.initSvg(A,l)})}(e,i),s.line=s.plug=s.lineOutline=s.plugOutline=s.faces=s.effect=!0),s.position=g(a,n,"path",Ot,null,null,_e.path)||s.position,s.position=g(a,n,"startSocket",Ue,"socketSE",0)||s.position,s.position=g(a,n,"endSocket",Ue,"socketSE",1)||s.position,[n.startSocketGravity,n.endSocketGravity].forEach(function(l,h){var k,d,p=!1;null!=l&&(Array.isArray(l)?Ae(l[0])&&Ae(l[1])&&(p=[l[0],l[1]],Array.isArray(a.socketGravitySE[h])&&(k=p).length===(d=a.socketGravitySE[h]).length&&k.every(function(c,y){return c===d[y]})&&(p=!1)):((l+"").toLowerCase()===Je?p=null:Ae(l)&&0<=l&&(p=l),p===a.socketGravitySE[h]&&(p=!1)),!1!==p&&(a.socketGravitySE[h]=p,s.position=!0))}),s.line=v(a,n,"color",null,"lineColor",null,_e.lineColor,null,!0)||s.line,s.line=v(a,n,"size",null,"lineSize",null,_e.lineSize,function(l){return 0<l})||s.line,["startPlug","endPlug"].forEach(function(l,h){s.plug=g(a,n,l,xt,"plugSE",h,_e.plugSE[h])||s.plug,s.plug=v(a,n,l+"Color","string","plugColorSE",h,null,null,!0)||s.plug,s.plug=v(a,n,l+"Size",null,"plugSizeSE",h,_e.plugSizeSE[h],function(k){return 0<k})||s.plug}),s.lineOutline=v(a,n,"outline",null,"lineOutlineEnabled",null,_e.lineOutlineEnabled)||s.lineOutline,s.lineOutline=v(a,n,"outlineColor",null,"lineOutlineColor",null,_e.lineOutlineColor,null,!0)||s.lineOutline,s.lineOutline=v(a,n,"outlineSize",null,"lineOutlineSize",null,_e.lineOutlineSize,function(l){return 0<l&&l<=.48})||s.lineOutline,["startPlugOutline","endPlugOutline"].forEach(function(l,h){s.plugOutline=v(a,n,l,null,"plugOutlineEnabledSE",h,_e.plugOutlineEnabledSE[h])||s.plugOutline,s.plugOutline=v(a,n,l+"Color","string","plugOutlineColorSE",h,null,null,!0)||s.plugOutline,s.plugOutline=v(a,n,l+"Size",null,"plugOutlineSizeSE",h,_e.plugOutlineSizeSE[h],function(k){return 1<=k})||s.plugOutline}),["startLabel","endLabel","middleLabel"].forEach(function(l,h){var k,d,p,c=n[l],y=a.labelSEM[h]&&!e.optionIsAttach.labelSEM[h]?we[a.labelSEM[h]._id].text:a.labelSEM[h],w=!1;if((k="string"==typeof c)&&(c=c.trim()),(k||c&&(w=He(c,"label")))&&c!==y){if(a.labelSEM[h]&&(Nt(e,we[a.labelSEM[h]._id]),a.labelSEM[h]=""),c){if(w?(d=we[(p=c)._id]).boundTargets.slice().forEach(function(I){d.conf.removeOption(d,I)}):p=new Me(B.captionLabel,[c]),!on(e,we[p._id],l))throw new Error("Can't bind attachment");a.labelSEM[h]=p}e.optionIsAttach.labelSEM[h]=w}}),Object.keys(oe).forEach(function(l){var h,k,d=oe[l],p=l+"_enabled",c=l+"_options";function y(I){var Z={};return d.optionsConf.forEach(function(T){var E=T[0],f=T[3];null==T[4]||Z[f]||(Z[f]=[]),("function"==typeof E?E:"id"===E?g:v).apply(null,[Z,I].concat(T.slice(1)))}),Z}function w(I){var Z,T=l+"_animOptions";return I.hasOwnProperty("animation")?Be(I.animation)?Z=e.curStats[T]=Pt(I.animation,d.defaultAnimOptions):e.curStats[T]=(Z=!!I.animation)?Pt({},d.defaultAnimOptions):null:e.curStats[T]=(Z=!!d.defaultEnabled)?Pt({},d.defaultAnimOptions):null,Z}n.hasOwnProperty(l)&&(Be(h=n[l])?(e.curStats[p]=!0,k=e.curStats[c]=y(h),d.anim&&(e.curStats[c].animation=w(h))):(k=e.curStats[p]=!!h)&&(e.curStats[c]=y({}),d.anim&&(e.curStats[c].animation=w({}))),Qe(k,a[l])&&(a[l]=k,s.effect=!0))}),Ve(e,s)}function Fe(e,n,i){var o={options:{anchorSE:[],socketSE:[],socketGravitySE:[],plugSE:[],plugColorSE:[],plugSizeSE:[],plugOutlineEnabledSE:[],plugOutlineColorSE:[],plugOutlineSizeSE:[],labelSEM:["","",""]},optionIsAttach:{anchorSE:[!1,!1],labelSEM:[!1,!1,!1]},curStats:{},aplStats:{},attachments:[],events:{},reflowTargets:[]};Oe(o.curStats,Et),Oe(o.aplStats,Et),Object.keys(oe).forEach(function(a){var s=oe[a].stats;Oe(o.curStats,s),Oe(o.aplStats,s),o.options[a]=!1}),Oe(o.curStats,Zt),Oe(o.aplStats,Zt),o.curStats.show_effect=Dt,o.curStats.show_animOptions=Ce(X[Dt].defaultAnimOptions),Object.defineProperty(this,"_id",{value:++Jt}),o._id=this._id,ke[this._id]=o,1===arguments.length&&(i=e,e=null),i=i||{},(e||n)&&(i=Ce(i),e&&(i.start=e),n&&(i.end=n)),o.isShown=o.aplStats.show_on=!i.hide,this.setOptions(i)}oe={dash:{stats:{dash_len:{},dash_gap:{},dash_maxOffset:{}},anim:!0,defaultAnimOptions:{duration:1e3,timing:"linear"},optionsConf:[["type","len","number",null,null,null,function(e){return 0<e}],["type","gap","number",null,null,null,function(e){return 0<e}]],init:function(e){me(e,"apl_line_strokeWidth",oe.dash.update),e.lineFace.style.strokeDashoffset=0,oe.dash.update(e)},remove:function(e){var n=e.curStats;xe(e,"apl_line_strokeWidth",oe.dash.update),n.dash_animId&&(Ee.remove(n.dash_animId),n.dash_animId=null),e.lineFace.style.strokeDasharray="none",e.lineFace.style.strokeDashoffset=0,Oe(e.aplStats,oe.dash.stats)},update:function(e){var n,i=e.curStats,o=e.aplStats,a=o.dash_options,s=!1;i.dash_len=a.len||2*o.line_strokeWidth,i.dash_gap=a.gap||o.line_strokeWidth,i.dash_maxOffset=i.dash_len+i.dash_gap,s=V(e,o,"dash_len",i.dash_len)||s,(s=V(e,o,"dash_gap",i.dash_gap)||s)&&(e.lineFace.style.strokeDasharray=o.dash_len+","+o.dash_gap),i.dash_animOptions?(s=V(e,o,"dash_maxOffset",i.dash_maxOffset),o.dash_animOptions&&(s||Qe(i.dash_animOptions,o.dash_animOptions))&&(i.dash_animId&&(n=Ee.stop(i.dash_animId),Ee.remove(i.dash_animId)),o.dash_animOptions=null),o.dash_animOptions||(i.dash_animId=Ee.add(function(S){return(1-S)*o.dash_maxOffset+"px"},function(S){e.lineFace.style.strokeDashoffset=S},i.dash_animOptions.duration,0,i.dash_animOptions.timing,!1,n),o.dash_animOptions=Ce(i.dash_animOptions))):o.dash_animOptions&&(i.dash_animId&&(Ee.remove(i.dash_animId),i.dash_animId=null),e.lineFace.style.strokeDashoffset=0,o.dash_animOptions=null)}},gradient:{stats:{gradient_colorSE:{hasSE:!0},gradient_pointSE:{hasSE:!0,hasProps:!0}},optionsConf:[["type","startColor","string","colorSE",0,null,null,!0],["type","endColor","string","colorSE",1,null,null,!0]],init:function(e){var n,i=e.baseWindow.document,a=ge+"-"+e._id+"-gradient";e.efc_gradient_gradient=n=e.defs.appendChild(i.createElementNS(J,"linearGradient")),n.id=a,n.gradientUnits.baseVal=SVGUnitTypes.SVG_UNIT_TYPE_USERSPACEONUSE,[n.x1,n.y1,n.x2,n.y2].forEach(function(s){s.baseVal.newValueSpecifiedUnits(SVGLength.SVG_LENGTHTYPE_PX,0)}),e.efc_gradient_stopSE=[0,1].map(function(s){var S=e.efc_gradient_gradient.appendChild(i.createElementNS(J,"stop"));try{S.offset.baseVal=s}catch(g){if(g.code!==DOMException.NO_MODIFICATION_ALLOWED_ERR)throw g;S.setAttribute("offset",s)}return S}),me(e,"cur_plug_colorSE",oe.gradient.update),me(e,"apl_path",oe.gradient.update),e.curStats.line_altColor=!0,e.lineFace.style.stroke="url(#"+a+")",oe.gradient.update(e)},remove:function(e){e.efc_gradient_gradient&&(e.defs.removeChild(e.efc_gradient_gradient),e.efc_gradient_gradient=e.efc_gradient_stopSE=null),xe(e,"cur_plug_colorSE",oe.gradient.update),xe(e,"apl_path",oe.gradient.update),e.curStats.line_altColor=!1,e.lineFace.style.stroke=e.curStats.line_color,Oe(e.aplStats,oe.gradient.stats)},update:function(e){var n,i,o=e.curStats,a=e.aplStats,s=a.gradient_options,S=e.pathList.animVal||e.pathList.baseVal;[0,1].forEach(function(g){o.gradient_colorSE[g]=s.colorSE[g]||o.plug_colorSE[g]}),o.gradient_pointSE[0]={x:(i=S[0][0]).x,y:i.y},i=(n=S[S.length-1])[n.length-1],o.gradient_pointSE[1]={x:i.x,y:i.y},[0,1].forEach(function(g){var v;V(e,a.gradient_colorSE,g,v=o.gradient_colorSE[g])&&(Se?(v=nt(v),e.efc_gradient_stopSE[g].style.stopColor=v[1],e.efc_gradient_stopSE[g].style.stopOpacity=v[0]):e.efc_gradient_stopSE[g].style.stopColor=v),["x","y"].forEach(function(l){(v=o.gradient_pointSE[g][l])!==a.gradient_pointSE[g][l]&&(e.efc_gradient_gradient[l+(g+1)].baseVal.value=a.gradient_pointSE[g][l]=v)})})}},dropShadow:{stats:{dropShadow_dx:{},dropShadow_dy:{},dropShadow_blur:{},dropShadow_color:{},dropShadow_opacity:{},dropShadow_x:{},dropShadow_y:{}},optionsConf:[["type","dx",null,null,null,2],["type","dy",null,null,null,4],["type","blur",null,null,null,3,function(e){return 0<=e}],["type","color",null,null,null,"#000",null,!0],["type","opacity",null,null,null,.8,function(e){return 0<=e&&e<=1}]],init:function(e){var n,i,o,a,s,g=e.defs,v=ge+"-"+e._id+"-dropShadow",l=(n=e.baseWindow.document,i=v,s={},"boolean"!=typeof yt&&(yt=!!window.SVGFEDropShadowElement&&!Se),s.elmsAppend=[s.elmFilter=o=n.createElementNS(J,"filter")],o.filterUnits.baseVal=SVGUnitTypes.SVG_UNIT_TYPE_USERSPACEONUSE,o.x.baseVal.newValueSpecifiedUnits(SVGLength.SVG_LENGTHTYPE_PX,0),o.y.baseVal.newValueSpecifiedUnits(SVGLength.SVG_LENGTHTYPE_PX,0),o.width.baseVal.newValueSpecifiedUnits(SVGLength.SVG_LENGTHTYPE_PERCENTAGE,100),o.height.baseVal.newValueSpecifiedUnits(SVGLength.SVG_LENGTHTYPE_PERCENTAGE,100),o.id=i,yt?(s.elmOffset=s.elmBlur=a=o.appendChild(n.createElementNS(J,"feDropShadow")),s.styleFlood=a.style):(s.elmBlur=o.appendChild(n.createElementNS(J,"feGaussianBlur")),s.elmOffset=a=o.appendChild(n.createElementNS(J,"feOffset")),a.result.baseVal="offsetblur",a=o.appendChild(n.createElementNS(J,"feFlood")),s.styleFlood=a.style,(a=o.appendChild(n.createElementNS(J,"feComposite"))).in2.baseVal="offsetblur",a.operator.baseVal=SVGFECompositeElement.SVG_FECOMPOSITE_OPERATOR_IN,(a=o.appendChild(n.createElementNS(J,"feMerge"))).appendChild(n.createElementNS(J,"feMergeNode")),a.appendChild(n.createElementNS(J,"feMergeNode")).in1.baseVal="SourceGraphic"),s);["elmFilter","elmOffset","elmBlur","styleFlood","elmsAppend"].forEach(function(h){e["efc_dropShadow_"+h]=l[h]}),l.elmsAppend.forEach(function(h){g.appendChild(h)}),e.face.setAttribute("filter","url(#"+v+")"),me(e,"new_edge4viewBox",oe.dropShadow.adjustEdge),oe.dropShadow.update(e)},remove:function(e){var n=e.defs;e.efc_dropShadow_elmsAppend&&(e.efc_dropShadow_elmsAppend.forEach(function(i){n.removeChild(i)}),e.efc_dropShadow_elmFilter=e.efc_dropShadow_elmOffset=e.efc_dropShadow_elmBlur=e.efc_dropShadow_styleFlood=e.efc_dropShadow_elmsAppend=null),xe(e,"new_edge4viewBox",oe.dropShadow.adjustEdge),Ve(e,{}),e.face.removeAttribute("filter"),Oe(e.aplStats,oe.dropShadow.stats)},update:function(e){var n,i,o=e.curStats,a=e.aplStats,s=a.dropShadow_options;o.dropShadow_dx=n=s.dx,V(e,a,"dropShadow_dx",n)&&(e.efc_dropShadow_elmOffset.dx.baseVal=n,i=!0),o.dropShadow_dy=n=s.dy,V(e,a,"dropShadow_dy",n)&&(e.efc_dropShadow_elmOffset.dy.baseVal=n,i=!0),o.dropShadow_blur=n=s.blur,V(e,a,"dropShadow_blur",n)&&(e.efc_dropShadow_elmBlur.setStdDeviation(n,n),i=!0),i&&Ve(e,{}),o.dropShadow_color=n=s.color,V(e,a,"dropShadow_color",n)&&(e.efc_dropShadow_styleFlood.floodColor=n),o.dropShadow_opacity=n=s.opacity,V(e,a,"dropShadow_opacity",n)&&(e.efc_dropShadow_styleFlood.floodOpacity=n)},adjustEdge:function(e,n){var i,o,a=e.curStats,s=e.aplStats;null!=a.dropShadow_dx&&((o={x1:n.x1-(i=3*a.dropShadow_blur)+a.dropShadow_dx,y1:n.y1-i+a.dropShadow_dy,x2:n.x2+i+a.dropShadow_dx,y2:n.y2+i+a.dropShadow_dy}).x1<n.x1&&(n.x1=o.x1),o.y1<n.y1&&(n.y1=o.y1),o.x2>n.x2&&(n.x2=o.x2),o.y2>n.y2&&(n.y2=o.y2),["x","y"].forEach(function(S){var g,v="dropShadow_"+S;a[v]=g=n[S+"1"],V(e,s,v,g)&&(e.efc_dropShadow_elmFilter[S].baseVal.value=g)}))}}},Object.keys(oe).forEach(function(e){var n=oe[e],i=n.stats;i[e+"_enabled"]={iniValue:!1},i[e+"_options"]={hasProps:!0},n.anim&&(i[e+"_animOptions"]={},i[e+"_animId"]={})}),X={none:{defaultAnimOptions:{},init:function(e,n){var i=e.curStats;i.show_animId&&(Ee.remove(i.show_animId),i.show_animId=null),X.none.start(e,n)},start:function(e,n){X.none.stop(e,!0)},stop:function(e,n,i){return i=null!=i?i:e.aplStats.show_on,e.curStats.show_inAnim=!1,n&&gt(e,i),i?1:0}},fade:{defaultAnimOptions:{duration:300,timing:"linear"},init:function(e,n){var i=e.curStats,o=e.aplStats;i.show_animId&&Ee.remove(i.show_animId),i.show_animId=Ee.add(function(a){return a},function(a,s){s?X.fade.stop(e,!0):(e.svg.style.opacity=a+"",Te&&(ye(e,e.svg),Kt(e)))},o.show_animOptions.duration,1,o.show_animOptions.timing,null,!1),X.fade.start(e,n)},start:function(e,n){var i,o=e.curStats;o.show_inAnim&&(i=Ee.stop(o.show_animId)),gt(e,1),o.show_inAnim=!0,Ee.start(o.show_animId,!e.aplStats.show_on,null!=n?n:i)},stop:function(e,n,i){var o,a=e.curStats;return i=null!=i?i:e.aplStats.show_on,o=a.show_inAnim?Ee.stop(a.show_animId):i?1:0,a.show_inAnim=!1,n&&(e.svg.style.opacity=i?"":"0",gt(e,i)),o}},draw:{defaultAnimOptions:{duration:500,timing:[.58,0,.42,1]},init:function(e,n){var i=e.curStats,o=e.aplStats,a=e.pathList.baseVal,s=G(a),S=s.segsLen,g=s.lenAll;i.show_animId&&Ee.remove(i.show_animId),i.show_animId=Ee.add(function(v){var l,h,k,d,p=-1;if(0===v)h=[[a[0][0],a[0][0]]];else if(1===v)h=a;else{for(l=g*v,h=[];l>=S[++p];)h.push(a[p]),l-=S[p];l&&(2===(k=a[p]).length?h.push([k[0],at(k[0],k[1],l/S[p])]):(d=P(k[0],k[1],k[2],k[3],x(k[0],k[1],k[2],k[3],l)),h.push([k[0],d.fromP1,d.fromP2,d])))}return h},function(v,l){l?X.draw.stop(e,!0):(e.pathList.animVal=v,Ve(e,{path:!0}))},o.show_animOptions.duration,1,o.show_animOptions.timing,null,!1),X.draw.start(e,n)},start:function(e,n){var i,o=e.curStats;o.show_inAnim&&(i=Ee.stop(o.show_animId)),gt(e,1),o.show_inAnim=!0,me(e,"apl_position",X.draw.update),Ee.start(o.show_animId,!e.aplStats.show_on,null!=n?n:i)},stop:function(e,n,i){var o,a=e.curStats;return i=null!=i?i:e.aplStats.show_on,o=a.show_inAnim?Ee.stop(a.show_animId):i?1:0,a.show_inAnim=!1,n&&(e.pathList.animVal=i?null:[[e.pathList.baseVal[0][0],e.pathList.baseVal[0][0]]],Ve(e,{path:!0}),gt(e,i)),o},update:function(e){xe(e,"apl_position",X.draw.update),e.curStats.show_inAnim?X.draw.init(e,X.draw.stop(e)):e.aplStats.show_animOptions={}}}},function(){function e(n){return function(i){var o={};o[n]=i,this.setOptions(o)}}[["start","anchorSE",0],["end","anchorSE",1],["color","lineColor"],["size","lineSize"],["startSocketGravity","socketGravitySE",0],["endSocketGravity","socketGravitySE",1],["startPlugColor","plugColorSE",0],["endPlugColor","plugColorSE",1],["startPlugSize","plugSizeSE",0],["endPlugSize","plugSizeSE",1],["outline","lineOutlineEnabled"],["outlineColor","lineOutlineColor"],["outlineSize","lineOutlineSize"],["startPlugOutline","plugOutlineEnabledSE",0],["endPlugOutline","plugOutlineEnabledSE",1],["startPlugOutlineColor","plugOutlineColorSE",0],["endPlugOutlineColor","plugOutlineColorSE",1],["startPlugOutlineSize","plugOutlineSizeSE",0],["endPlugOutlineSize","plugOutlineSizeSE",1]].forEach(function(n){var i=n[0],o=n[1],a=n[2];Object.defineProperty(Fe.prototype,i,{get:function(){var s=null!=a?ke[this._id].options[o][a]:o?ke[this._id].options[o]:ke[this._id].options[i];return null==s?Je:Ce(s)},set:e(i),enumerable:!0})}),[["path",Ot],["startSocket",Ue,"socketSE",0],["endSocket",Ue,"socketSE",1],["startPlug",xt,"plugSE",0],["endPlug",xt,"plugSE",1]].forEach(function(n){var i=n[0],o=n[1],a=n[2],s=n[3];Object.defineProperty(Fe.prototype,i,{get:function(){var S,g=null!=s?ke[this._id].options[a][s]:a?ke[this._id].options[a]:ke[this._id].options[i];return g?Object.keys(o).some(function(v){return o[v]===g&&(S=v,!0)})?S:new Error("It's broken"):Je},set:e(i),enumerable:!0})}),Object.keys(oe).forEach(function(n){var i=oe[n];Object.defineProperty(Fe.prototype,n,{get:function(){var o,a,s=ke[this._id].options[n];return Be(s)?(o=s,a=i.optionsConf.reduce(function(S,g){var v,h=g[1],k=g[2],d=g[3],p=g[4],c=null!=p?o[d][p]:d?o[d]:o[h];return S[h]="id"===g[0]?c?Object.keys(k).some(function(y){return k[y]===c&&(v=y,!0)})?v:new Error("It's broken"):Je:null==c?Je:Ce(c),S},{}),i.anim&&(a.animation=Ce(o.animation)),a):s},set:e(n),enumerable:!0})}),["startLabel","endLabel","middleLabel"].forEach(function(n,i){Object.defineProperty(Fe.prototype,n,{get:function(){var o=ke[this._id],a=o.options;return a.labelSEM[i]&&!o.optionIsAttach.labelSEM[i]?we[a.labelSEM[i]._id].text:a.labelSEM[i]||""},set:e(n),enumerable:!0})})}(),Fe.prototype.setOptions=function(e){return Vt(ke[this._id],e),this},Fe.prototype.position=function(){return Ve(ke[this._id],{position:!0}),this},Fe.prototype.remove=function(){var e=ke[this._id],n=e.curStats;Object.keys(oe).forEach(function(i){var o=i+"_animId";n[o]&&Ee.remove(n[o])}),n.show_animId&&Ee.remove(n.show_animId),e.attachments.slice().forEach(function(i){Nt(e,i)}),e.baseWindow&&e.svg&&e.baseWindow.document.body.removeChild(e.svg),delete ke[this._id]},Fe.prototype.show=function(e,n){return Lt(ke[this._id],!0,e,n),this},Fe.prototype.hide=function(e,n){return Lt(ke[this._id],!1,e,n),this},_t=function(e){e&&we[e._id]&&(e.boundTargets.slice().forEach(function(n){Nt(n.props,e,!0)}),e.conf.remove&&e.conf.remove(e),delete we[e._id])},Me=function(){function e(n,i){var o,a={conf:n,curStats:{},aplStats:{},boundTargets:[]},s={};n.argOptions.every(function(S){return!(!i.length||("string"==typeof S.type?typeof i[0]!==S.type:"function"!=typeof S.type||!S.type(i[0]))||(s[S.optionName]=i.shift(),0))}),o=i.length&&Be(i[0])?Ce(i[0]):{},Object.keys(s).forEach(function(S){o[S]=s[S]}),n.stats&&(Oe(a.curStats,n.stats),Oe(a.aplStats,n.stats)),Object.defineProperty(this,"_id",{value:++Qt}),Object.defineProperty(this,"isRemoved",{get:function(){return!we[this._id]}}),a._id=this._id,n.init&&!n.init(a,o)||(we[this._id]=a)}return e.prototype.remove=function(){var n=this,i=we[n._id];i&&(i.boundTargets.slice().forEach(function(o){i.conf.removeOption(i,o)}),ft(function(){var o=we[n._id];o&&(console.error("LeaderLineAttachment was not removed by removeOption"),_t(o))}))},e}(),window.LeaderLineAttachment=Me,He=function(e,n){return e instanceof Me&&(!(e.isRemoved||n&&we[e._id].conf.type!==n)||null)},B={pointAnchor:{type:"anchor",argOptions:[{optionName:"element",type:it}],init:function(e,n){return e.element=B.pointAnchor.checkElement(n.element),e.x=B.pointAnchor.parsePercent(n.x,!0)||[.5,!0],e.y=B.pointAnchor.parsePercent(n.y,!0)||[.5,!0],!0},removeOption:function(e,n){var i=n.props,o={},a=e.element,s=i.options.anchorSE["start"===n.optionName?1:0];a===s&&(a=s===document.body?new Me(B.pointAnchor,[a]):document.body),o[n.optionName]=a,Vt(i,o)},getBBoxNest:function(e,n){var i=ot(e.element,n.baseWindow),o=i.width,a=i.height;return i.width=i.height=0,i.left=i.right=i.left+e.x[0]*(e.x[1]?o:1),i.top=i.bottom=i.top+e.y[0]*(e.y[1]?a:1),i},parsePercent:function(e,n){var i,o,a=!1;return Ae(e)?o=e:"string"==typeof e&&(i=Le.exec(e))&&i[2]&&(a=0!=(o=parseFloat(i[1])/100)),null!=o&&(n||0<=o)?[o,a]:null},checkElement:function(e){if(null==e)e=document.body;else if(!it(e))throw new Error("`element` must be Element");return e}},areaAnchor:{type:"anchor",argOptions:[{optionName:"element",type:it},{optionName:"shape",type:"string"}],stats:{color:{},strokeWidth:{},elementWidth:{},elementHeight:{},elementLeft:{},elementTop:{},pathListRel:{},bBoxRel:{},pathData:{},viewBoxBBox:{hasProps:!0},dashLen:{},dashGap:{}},init:function(e,n){var i,o,a,s=[];return e.element=B.pointAnchor.checkElement(n.element),"string"==typeof n.color&&(e.color=n.color.trim()),"string"==typeof n.fillColor&&(e.fill=n.fillColor.trim()),Ae(n.size)&&0<=n.size&&(e.size=n.size),n.dash&&(e.dash=!0,Ae(n.dash.len)&&0<n.dash.len&&(e.dashLen=n.dash.len),Ae(n.dash.gap)&&0<n.dash.gap&&(e.dashGap=n.dash.gap)),"circle"===n.shape?e.shape=n.shape:"polygon"===n.shape&&Array.isArray(n.points)&&3<=n.points.length&&n.points.every(function(S){var g={};return!(!(g.x=B.pointAnchor.parsePercent(S[0],!0))||!(g.y=B.pointAnchor.parsePercent(S[1],!0))||(s.push(g),(g.x[1]||g.y[1])&&(e.hasRatio=!0),0))})?(e.shape=n.shape,e.points=s):(e.shape="rect",e.radius=Ae(n.radius)&&0<=n.radius?n.radius:0),"rect"!==e.shape&&"circle"!==e.shape||(e.x=B.pointAnchor.parsePercent(n.x,!0)||[-.05,!0],e.y=B.pointAnchor.parsePercent(n.y,!0)||[-.05,!0],e.width=B.pointAnchor.parsePercent(n.width)||[1.1,!0],e.height=B.pointAnchor.parsePercent(n.height)||[1.1,!0],(e.x[1]||e.y[1]||e.width[1]||e.height[1])&&(e.hasRatio=!0)),e.svg=o=(i=e.element.ownerDocument).createElementNS(J,"svg"),o.className.baseVal=ge+"-areaAnchor",o.viewBox.baseVal||o.setAttribute("viewBox","0 0 0 0"),e.path=o.appendChild(i.createElementNS(J,"path")),e.path.style.fill=e.fill||"none",e.isShown=!1,o.style.visibility="hidden",i.body.appendChild(o),nn(a=i.defaultView),e.bodyOffset=tn(a),e.updateColor=function(){var S,v=e.aplStats,l=e.boundTargets.length?e.boundTargets[0].props.curStats:null;e.curStats.color=S=e.color||(l?l.line_color:_e.lineColor),V(e,v,"color",S)&&(e.path.style.stroke=S)},e.updateShow=function(){gt(e,e.boundTargets.some(function(S){return!0===S.props.isShown}))},!0},bind:function(e,n){var i=n.props;return e.color||me(i,"cur_line_color",e.updateColor),me(i,"svgShow",e.updateShow),ft(function(){e.updateColor(),e.updateShow()}),!0},unbind:function(e,n){var i=n.props;e.color||xe(i,"cur_line_color",e.updateColor),xe(i,"svgShow",e.updateShow),1<e.boundTargets.length&&ft(function(){e.updateColor(),e.updateShow(),B.areaAnchor.update(e)&&e.boundTargets.forEach(function(o){Ve(o.props,{position:!0})})})},removeOption:function(e,n){B.pointAnchor.removeOption(e,n)},remove:function(e){e.boundTargets.length&&(console.error("LeaderLineAttachment was not unbound by remove"),e.boundTargets.forEach(function(n){B.areaAnchor.unbind(e,n)})),e.svg.parentNode.removeChild(e.svg)},getStrokeWidth:function(e,n){return B.areaAnchor.update(e)&&1<e.boundTargets.length&&ft(function(){e.boundTargets.forEach(function(i){i.props!==n&&Ve(i.props,{position:!0})})}),e.curStats.strokeWidth},getPathData:function(e,n){var i=ot(e.element,n.baseWindow);return C(e.curStats.pathListRel,function(o){o.x+=i.left,o.y+=i.top})},getBBoxNest:function(e,n){var i=ot(e.element,n.baseWindow),o=e.curStats.bBoxRel;return{left:o.left+i.left,top:o.top+i.top,right:o.right+i.left,bottom:o.bottom+i.top,width:o.width,height:o.height}},update:function(e){var n,i,o,a,s,S,g,v,l,h,k,d,p,c,y,w,I,Z,T,E,f,_,m,N,q,L,u,A,D,U,H,F,b=e.curStats,Q=e.aplStats,se=e.boundTargets.length?e.boundTargets[0].props.curStats:null,z={};if(z.strokeWidth=V(e,b,"strokeWidth",null!=e.size?e.size:se?se.line_strokeWidth:_e.lineSize),n=ht(e.element),z.elementWidth=V(e,b,"elementWidth",n.width),z.elementHeight=V(e,b,"elementHeight",n.height),z.elementLeft=V(e,b,"elementLeft",n.left),z.elementTop=V(e,b,"elementTop",n.top),z.strokeWidth||e.hasRatio&&(z.elementWidth||z.elementHeight)){switch(e.shape){case"rect":(E={left:e.x[0]*(e.x[1]?n.width:1),top:e.y[0]*(e.y[1]?n.height:1),width:e.width[0]*(e.width[1]?n.width:1),height:e.height[0]*(e.height[1]?n.height:1)}).right=E.left+E.width,E.bottom=E.top+E.height,N=b.strokeWidth/2,_=(m=Math.min(E.width,E.height))?m/2*Math.SQRT2+N:0,(f=e.radius?e.radius<=_?e.radius:_:0)?(L=f-(q=(f-N)/Math.SQRT2),b.pathListRel=[[(u=[{x:E.left-L,y:E.top+q},{x:E.left+q,y:E.top-L},{x:E.right-q,y:E.top-L},{x:E.right+L,y:E.top+q},{x:E.right+L,y:E.bottom-q},{x:E.right-q,y:E.bottom+L},{x:E.left+q,y:E.bottom+L},{x:E.left-L,y:E.bottom-q}])[0],{x:u[0].x,y:u[0].y-(A=f*dt)},{x:u[1].x-A,y:u[1].y},u[1]]],u[1].x!==u[2].x&&b.pathListRel.push([u[1],u[2]]),b.pathListRel.push([u[2],{x:u[2].x+A,y:u[2].y},{x:u[3].x,y:u[3].y-A},u[3]]),u[3].y!==u[4].y&&b.pathListRel.push([u[3],u[4]]),b.pathListRel.push([u[4],{x:u[4].x,y:u[4].y+A},{x:u[5].x+A,y:u[5].y},u[5]]),u[5].x!==u[6].x&&b.pathListRel.push([u[5],u[6]]),b.pathListRel.push([u[6],{x:u[6].x-A,y:u[6].y},{x:u[7].x,y:u[7].y+A},u[7]]),u[7].y!==u[0].y&&b.pathListRel.push([u[7],u[0]]),b.pathListRel.push([]),u=[{x:E.left-(L=f-q+b.strokeWidth/2),y:E.top-L},{x:E.right+L,y:E.bottom+L}]):(b.pathListRel=[[(u=[{x:E.left-(L=b.strokeWidth/2),y:E.top-L},{x:E.right+L,y:E.bottom+L}])[0],{x:u[1].x,y:u[0].y}],[{x:u[1].x,y:u[0].y},u[1]],[u[1],{x:u[0].x,y:u[1].y}],[]],u=[{x:E.left-b.strokeWidth,y:E.top-b.strokeWidth},{x:E.right+b.strokeWidth,y:E.bottom+b.strokeWidth}]),b.bBoxRel={left:u[0].x,top:u[0].y,right:u[1].x,bottom:u[1].y,width:u[1].x-u[0].x,height:u[1].y-u[0].y};break;case"circle":(g={left:e.x[0]*(e.x[1]?n.width:1),top:e.y[0]*(e.y[1]?n.height:1),width:e.width[0]*(e.width[1]?n.width:1),height:e.height[0]*(e.height[1]?n.height:1)}).width||g.height||(g.width=g.height=10),g.width||(g.width=g.height),g.height||(g.height=g.width),g.right=g.left+g.width,g.bottom=g.top+g.height,v=g.left+g.width/2,l=g.top+g.height/2,c=b.strokeWidth/2,w=g.height/2,h=(y=g.width/2)*Math.SQRT2+c,k=w*Math.SQRT2+c,b.pathListRel=[[(T=[{x:v-h,y:l},{x:v,y:l-k},{x:v+h,y:l},{x:v,y:l+k}])[0],{x:T[0].x,y:T[0].y-(p=k*dt)},{x:T[1].x-(d=h*dt),y:T[1].y},T[1]],[T[1],{x:T[1].x+d,y:T[1].y},{x:T[2].x,y:T[2].y-p},T[2]],[T[2],{x:T[2].x,y:T[2].y+p},{x:T[3].x+d,y:T[3].y},T[3]],[T[3],{x:T[3].x-d,y:T[3].y},{x:T[0].x,y:T[0].y+p},T[0]],[]],b.bBoxRel={left:(T=[{x:g.left-(I=h-y+b.strokeWidth/2),y:g.top-(Z=k-w+b.strokeWidth/2)},{x:g.right+I,y:g.bottom+Z}])[0].x,top:T[0].y,right:T[1].x,bottom:T[1].y,width:T[1].x-T[0].x,height:T[1].y-T[0].y};break;case"polygon":e.points.forEach(function(K){var he=K.x[0]*(K.x[1]?n.width:1),fe=K.y[0]*(K.y[1]?n.height:1);o?(he<o.left&&(o.left=he),he>o.right&&(o.right=he),fe<o.top&&(o.top=fe),fe>o.bottom&&(o.bottom=fe)):o={left:he,right:he,top:fe,bottom:fe},a?b.pathListRel.push([a,{x:he,y:fe}]):b.pathListRel=[],a={x:he,y:fe}}),b.pathListRel.push([]),b.bBoxRel={left:(S=[{x:o.left-(s=b.strokeWidth/2),y:o.top-s},{x:o.right+s,y:o.bottom+s}])[0].x,top:S[0].y,right:S[1].x,bottom:S[1].y,width:S[1].x-S[0].x,height:S[1].y-S[0].y}}z.pathListRel=z.bBoxRel=!0}return(z.pathListRel||z.elementLeft||z.elementTop)&&(b.pathData=C(b.pathListRel,function(K){K.x+=n.left,K.y+=n.top})),V(e,Q,"strokeWidth",i=b.strokeWidth)&&(e.path.style.strokeWidth=i+"px"),ne(i=b.pathData,Q.pathData)&&(e.path.setPathData(i),Q.pathData=i,z.pathData=!0),e.dash&&(!z.pathData&&(!z.strokeWidth||e.dashLen&&e.dashGap)||(b.dashLen=e.dashLen||2*b.strokeWidth,b.dashGap=e.dashGap||b.strokeWidth),z.dash=V(e,Q,"dashLen",b.dashLen)||z.dash,z.dash=V(e,Q,"dashGap",b.dashGap)||z.dash,z.dash&&(e.path.style.strokeDasharray=Q.dashLen+","+Q.dashGap)),U=Q.viewBoxBBox,H=e.svg.viewBox.baseVal,F=e.svg.style,(D=b.viewBoxBBox).x=b.bBoxRel.left+n.left,D.y=b.bBoxRel.top+n.top,D.width=b.bBoxRel.width,D.height=b.bBoxRel.height,["x","y","width","height"].forEach(function(K){(i=D[K])!==U[K]&&(H[K]=U[K]=i,F[Mt[K]]=i+("x"===K||"y"===K?e.bodyOffset[K]:0)+"px")}),z.strokeWidth||z.pathListRel||z.bBoxRel}},mouseHoverAnchor:{type:"anchor",argOptions:[{optionName:"element",type:it},{optionName:"showEffectName",type:"string"}],style:{backgroundImage:"url('data:image/svg+xml;charset=utf-8;base64,PHN2ZyB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgd2lkdGg9IjI0IiBoZWlnaHQ9IjI0Ij48cG9seWdvbiBwb2ludHM9IjI0LDAgMCw4IDgsMTEgMCwxOSA1LDI0IDEzLDE2IDE2LDI0IiBmaWxsPSJjb3JhbCIvPjwvc3ZnPg==')",backgroundSize:"",backgroundRepeat:"no-repeat",backgroundColor:"#f8f881",cursor:"default"},hoverStyle:{backgroundImage:"none",backgroundColor:"#fadf8f"},padding:{top:1,right:15,bottom:1,left:2},minHeight:15,backgroundPosition:{right:2,top:2},backgroundSize:{width:12,height:12},dirKeys:[["top","Top"],["right","Right"],["bottom","Bottom"],["left","Left"]],init:function(e,n){var i,o,a,s,S,g,v,l,h,k,d,p=B.mouseHoverAnchor,c={};if(e.element=B.pointAnchor.checkElement(n.element),!((k=(l=e.element).ownerDocument)&&(h=k.defaultView)&&h.HTMLElement&&l instanceof h.HTMLElement))throw new Error("`element` must be HTML element");return p.style.backgroundSize=p.backgroundSize.width+"px "+p.backgroundSize.height+"px",["style","hoverStyle"].forEach(function(y){var w=p[y];e[y]=Object.keys(w).reduce(function(I,Z){return I[Z]=w[Z],I},{})}),"inline"===(i=e.element.ownerDocument.defaultView.getComputedStyle(e.element,"")).display?e.style.display="inline-block":"none"===i.display&&(e.style.display="block"),B.mouseHoverAnchor.dirKeys.forEach(function(y){var w=y[0],I="padding"+y[1];parseFloat(i[I])<p.padding[w]&&(e.style[I]=p.padding[w]+"px")}),e.style.display&&(s=e.element.style.display,e.element.style.display=e.style.display),B.mouseHoverAnchor.dirKeys.forEach(function(y){var w="padding"+y[1];e.style[w]&&(c[w]=e.element.style[w],e.element.style[w]=e.style[w])}),(a=e.element.getBoundingClientRect()).height<p.minHeight&&(Te?(d=p.minHeight,"content-box"===i.boxSizing?d-=parseFloat(i.borderTopWidth)+parseFloat(i.borderBottomWidth)+parseFloat(i.paddingTop)+parseFloat(i.paddingBottom):"padding-box"===i.boxSizing&&(d-=parseFloat(i.borderTopWidth)+parseFloat(i.borderBottomWidth)),e.style.height=d+"px"):e.style.height=parseFloat(i.height)+(p.minHeight-a.height)+"px"),e.style.backgroundPosition=Se?a.width-p.backgroundSize.width-p.backgroundPosition.right+"px "+p.backgroundPosition.top+"px":"right "+p.backgroundPosition.right+"px top "+p.backgroundPosition.top+"px",e.style.display&&(e.element.style.display=s),B.mouseHoverAnchor.dirKeys.forEach(function(y){var w="padding"+y[1];e.style[w]&&(e.element.style[w]=c[w])}),["style","hoverStyle"].forEach(function(y){var w=e[y],I=n[y];Be(I)&&Object.keys(I).forEach(function(Z){"string"==typeof I[Z]||Ae(I[Z])?w[Z]=I[Z]:null==I[Z]&&delete w[Z]})}),"function"==typeof n.onSwitch&&(v=n.onSwitch),n.showEffectName&&X[n.showEffectName]&&(e.showEffectName=S=n.showEffectName),g=n.animOptions,e.elmStyle=o=e.element.style,e.mouseenter=function(y){e.hoverStyleSave=p.getStyles(o,Object.keys(e.hoverStyle)),p.setStyles(o,e.hoverStyle),e.boundTargets.forEach(function(w){Lt(w.props,!0,S,g)}),v&&v(y)},e.mouseleave=function(y){p.setStyles(o,e.hoverStyleSave),e.boundTargets.forEach(function(w){Lt(w.props,!1,S,g)}),v&&v(y)},!0},bind:function(e,n){var i,o,a,s,S;return n.props.svg?B.mouseHoverAnchor.llShow(n.props,!1,e.showEffectName):ft(function(){B.mouseHoverAnchor.llShow(n.props,!1,e.showEffectName)}),e.enabled||(e.styleSave=B.mouseHoverAnchor.getStyles(e.elmStyle,Object.keys(e.style)),B.mouseHoverAnchor.setStyles(e.elmStyle,e.style),e.removeEventListener=(o=e.mouseenter,a=e.mouseleave,"onmouseenter"in(i=e.element)&&"onmouseleave"in i?(i.addEventListener("mouseenter",o,!1),i.addEventListener("mouseleave",a,!1),function(){i.removeEventListener("mouseenter",o,!1),i.removeEventListener("mouseleave",a,!1)}):(console.warn("mouseenter and mouseleave events polyfill is enabled."),i.addEventListener("mouseover",s=function(g){g.relatedTarget&&(g.relatedTarget===this||this.compareDocumentPosition(g.relatedTarget)&Node.DOCUMENT_POSITION_CONTAINED_BY)||o.apply(this,arguments)}),i.addEventListener("mouseout",S=function(g){g.relatedTarget&&(g.relatedTarget===this||this.compareDocumentPosition(g.relatedTarget)&Node.DOCUMENT_POSITION_CONTAINED_BY)||a.apply(this,arguments)}),function(){i.removeEventListener("mouseover",s,!1),i.removeEventListener("mouseout",S,!1)})),e.enabled=!0),!0},unbind:function(e,n){e.enabled&&e.boundTargets.length<=1&&(e.removeEventListener(),B.mouseHoverAnchor.setStyles(e.elmStyle,e.styleSave),e.enabled=!1),B.mouseHoverAnchor.llShow(n.props,!0,e.showEffectName)},removeOption:function(e,n){B.pointAnchor.removeOption(e,n)},remove:function(e){e.boundTargets.length&&(console.error("LeaderLineAttachment was not unbound by remove"),e.boundTargets.forEach(function(n){B.mouseHoverAnchor.unbind(e,n)}))},getBBoxNest:function(e,n){return ot(e.element,n.baseWindow)},llShow:function(e,n,i){X[i||e.curStats.show_effect].stop(e,!0,n),e.aplStats.show_on=n},getStyles:function(e,n){return n.reduce(function(i,o){return i[o]=e[o],i},{})},setStyles:function(e,n){Object.keys(n).forEach(function(i){e[i]=n[i]})}},captionLabel:{type:"label",argOptions:[{optionName:"text",type:"string"}],stats:{color:{},x:{},y:{}},textStyleProps:["fontFamily","fontStyle","fontVariant","fontWeight","fontStretch","fontSize","fontSizeAdjust","kerning","letterSpacing","wordSpacing","textDecoration"],init:function(e,n){return"string"==typeof n.text&&(e.text=n.text.trim()),!!e.text&&("string"==typeof n.color&&(e.color=n.color.trim()),e.outlineColor="string"==typeof n.outlineColor?n.outlineColor.trim():"#fff",Array.isArray(n.offset)&&Ae(n.offset[0])&&Ae(n.offset[1])&&(e.offset={x:n.offset[0],y:n.offset[1]}),Ae(n.lineOffset)&&(e.lineOffset=n.lineOffset),B.captionLabel.textStyleProps.forEach(function(i){null!=n[i]&&(e[i]=n[i])}),e.updateColor=function(i){B.captionLabel.updateColor(e,i)},e.updateSocketXY=function(i){var o,a,s,S,g=e.curStats,v=e.aplStats,l=i.curStats,h=l.position_socketXYSE[e.socketIndex];null!=h.x&&(e.offset?(g.x=h.x+e.offset.x,g.y=h.y+e.offset.y):(o=e.height/2,a=Math.max(l.attach_plugSideLenSE[e.socketIndex]||0,l.line_strokeWidth/2),s=l.position_socketXYSE[e.socketIndex?0:1],4===h.socketId||2===h.socketId?(g.x=4===h.socketId?h.x-o-e.width:h.x+o,g.y=s.y<h.y?h.y+a+o:h.y-a-o-e.height):(g.x=s.x<h.x?h.x+a+o:h.x-a-o-e.width,g.y=1===h.socketId?h.y-o-e.height:h.y+o)),V(e,v,"x",S=g.x)&&(e.elmPosition.x.baseVal.getItem(0).value=S),V(e,v,"y",S=g.y)&&(e.elmPosition.y.baseVal.getItem(0).value=S+e.height))},e.updatePath=function(i){var o,a,s=e.curStats,S=e.aplStats,g=i.pathList.animVal||i.pathList.baseVal;g&&(o=B.captionLabel.getMidPoint(g,e.lineOffset),s.x=o.x-e.width/2,s.y=o.y-e.height/2,V(e,S,"x",a=s.x)&&(e.elmPosition.x.baseVal.getItem(0).value=a),V(e,S,"y",a=s.y)&&(e.elmPosition.y.baseVal.getItem(0).value=a+e.height))},e.updateShow=function(i){B.captionLabel.updateShow(e,i)},Se&&(e.adjustEdge=function(i,o){var a=e.curStats;null!=a.x&&B.captionLabel.adjustEdge(o,{x:a.x,y:a.y,width:e.width,height:e.height},e.strokeWidth/2)}),!0)},updateColor:function(e,n){var i,a=e.aplStats;e.curStats.color=i=e.color||n.curStats.line_color,V(e,a,"color",i)&&(e.styleFill.fill=i)},updateShow:function(e,n){var i=!0===n.isShown;i!==e.isShown&&(e.styleShow.visibility=i?"":"hidden",e.isShown=i)},adjustEdge:function(e,n,i){var o={x1:n.x-i,y1:n.y-i,x2:n.x+n.width+i,y2:n.y+n.height+i};o.x1<e.x1&&(e.x1=o.x1),o.y1<e.y1&&(e.y1=o.y1),o.x2>e.x2&&(e.x2=o.x2),o.y2>e.y2&&(e.y2=o.y2)},newText:function(e,n,i,o,a){var s,S,g,v,l,h;return(s=n.createElementNS(J,"text")).textContent=e,[s.x,s.y].forEach(function(k){var d=i.createSVGLength();d.newValueSpecifiedUnits(SVGLength.SVG_LENGTHTYPE_PX,0),k.baseVal.initialize(d)}),"boolean"!=typeof Xe&&(Xe="paintOrder"in s.style),a&&!Xe?(g=n.createElementNS(J,"defs"),s.id=o,g.appendChild(s),(l=(S=n.createElementNS(J,"g")).appendChild(n.createElementNS(J,"use"))).href.baseVal="#"+o,(v=S.appendChild(n.createElementNS(J,"use"))).href.baseVal="#"+o,(h=l.style).strokeLinejoin="round",{elmPosition:s,styleText:s.style,styleFill:v.style,styleStroke:h,styleShow:S.style,elmsAppend:[g,S]}):(h=s.style,a&&(h.strokeLinejoin="round",h.paintOrder="stroke"),{elmPosition:s,styleText:h,styleFill:h,styleStroke:a?h:null,styleShow:h,elmsAppend:[s]})},getMidPoint:function(e,n){var i,o,a,s=G(e),S=s.segsLen,g=s.lenAll,v=-1;if((i=g/2+(n||0))<=0)return 2===(o=e[0]).length?at(o[0],o[1],0):P(o[0],o[1],o[2],o[3],0);if(g<=i)return 2===(o=e[e.length-1]).length?at(o[0],o[1],1):P(o[0],o[1],o[2],o[3],1);for(a=[];i>S[++v];)a.push(e[v]),i-=S[v];return 2===(o=e[v]).length?at(o[0],o[1],i/S[v]):P(o[0],o[1],o[2],o[3],x(o[0],o[1],o[2],o[3],i))},initSvg:function(e,n){var i,o,a=B.captionLabel.newText(e.text,n.baseWindow.document,n.svg,ge+"-captionLabel-"+e._id,e.outlineColor);["elmPosition","styleFill","styleShow","elmsAppend"].forEach(function(s){e[s]=a[s]}),e.isShown=!1,e.styleShow.visibility="hidden",B.captionLabel.textStyleProps.forEach(function(s){null!=e[s]&&(a.styleText[s]=e[s])}),a.elmsAppend.forEach(function(s){n.svg.appendChild(s)}),i=a.elmPosition.getBBox(),e.width=i.width,e.height=i.height,e.outlineColor&&(o=10<(o=i.height/9)?10:o<2?2:o,a.styleStroke.strokeWidth=o+"px",a.styleStroke.stroke=e.outlineColor),e.strokeWidth=o||0,Oe(e.aplStats,B.captionLabel.stats),e.updateColor(n),e.refSocketXY?e.updateSocketXY(n):e.updatePath(n),Se&&Ve(n,{}),e.updateShow(n)},bind:function(e,n){var i=n.props;return e.color||me(i,"cur_line_color",e.updateColor),(e.refSocketXY="startLabel"===n.optionName||"endLabel"===n.optionName)?(e.socketIndex="startLabel"===n.optionName?0:1,me(i,"apl_position",e.updateSocketXY),e.offset||(me(i,"cur_attach_plugSideLenSE",e.updateSocketXY),me(i,"cur_line_strokeWidth",e.updateSocketXY))):me(i,"apl_path",e.updatePath),me(i,"svgShow",e.updateShow),Se&&me(i,"new_edge4viewBox",e.adjustEdge),B.captionLabel.initSvg(e,i),!0},unbind:function(e,n){var i=n.props;e.elmsAppend&&(e.elmsAppend.forEach(function(o){i.svg.removeChild(o)}),e.elmPosition=e.styleFill=e.styleShow=e.elmsAppend=null),Oe(e.curStats,B.captionLabel.stats),Oe(e.aplStats,B.captionLabel.stats),e.color||xe(i,"cur_line_color",e.updateColor),e.refSocketXY?(xe(i,"apl_position",e.updateSocketXY),e.offset||(xe(i,"cur_attach_plugSideLenSE",e.updateSocketXY),xe(i,"cur_line_strokeWidth",e.updateSocketXY))):xe(i,"apl_path",e.updatePath),xe(i,"svgShow",e.updateShow),Se&&(xe(i,"new_edge4viewBox",e.adjustEdge),Ve(i,{}))},removeOption:function(e,n){var i=n.props,o={};o[n.optionName]="",Vt(i,o)},remove:function(e){e.boundTargets.length&&(console.error("LeaderLineAttachment was not unbound by remove"),e.boundTargets.forEach(function(n){B.captionLabel.unbind(e,n)}))}},pathLabel:{type:"label",argOptions:[{optionName:"text",type:"string"}],stats:{color:{},startOffset:{},pathData:{}},init:function(e,n){return"string"==typeof n.text&&(e.text=n.text.trim()),!!e.text&&("string"==typeof n.color&&(e.color=n.color.trim()),e.outlineColor="string"==typeof n.outlineColor?n.outlineColor.trim():"#fff",Ae(n.lineOffset)&&(e.lineOffset=n.lineOffset),B.captionLabel.textStyleProps.forEach(function(i){null!=n[i]&&(e[i]=n[i])}),e.updateColor=function(i){B.captionLabel.updateColor(e,i)},e.updatePath=function(i){var o,s=e.aplStats,g=i.pathList.animVal||i.pathList.baseVal;g&&(e.curStats.pathData=o=B.pathLabel.getOffsetPathData(g,i.curStats.line_strokeWidth/2+e.strokeWidth/2+e.height/4,1.25*e.height),ne(o,s.pathData)&&(e.elmPath.setPathData(o),s.pathData=o,e.bBox=e.elmPosition.getBBox(),e.updateStartOffset(i)))},e.updateStartOffset=function(i){var o,a,s,S,g=e.curStats,v=e.aplStats,l=i.curStats;g.pathData&&(2!==e.semIndex||e.lineOffset)&&(o=g.pathData.reduce(function(h,k){var d,p=k.values;switch(k.type){case"M":S={x:p[0],y:p[1]};break;case"L":d={x:p[0],y:p[1]},S&&(h+=Ne(S,d)),S=d;break;case"C":d={x:p[4],y:p[5]},S&&(h+=r(S,{x:p[0],y:p[1]},{x:p[2],y:p[3]},d)),S=d}return h},0),s=0===e.semIndex?0:1===e.semIndex?o:o/2,2!==e.semIndex&&(a=Math.max(l.attach_plugBackLenSE[e.semIndex]||0,l.line_strokeWidth/2)+e.strokeWidth/2+e.height/4,s=(s+=0===e.semIndex?a:-a)<0?0:o<s?o:s),e.lineOffset&&(s=(s+=e.lineOffset)<0?0:o<s?o:s),g.startOffset=s,V(e,v,"startOffset",s)&&(e.elmOffset.startOffset.baseVal.value=s))},e.updateShow=function(i){B.captionLabel.updateShow(e,i)},Se&&(e.adjustEdge=function(i,o){e.bBox&&B.captionLabel.adjustEdge(o,e.bBox,e.strokeWidth/2)}),!0)},getOffsetPathData:function(e,n,i){var o,a,S=[];function g(v,l){return Math.abs(v.x-l.x)<3&&Math.abs(v.y-l.y)<3}return e.forEach(function(v){var l,h,k,d,p,c,y,w,I,Z,T,E,f,_,m,N,q,L,u,A,D;2===v.length?(L=v[0],u=v[1],A=n,D=Math.atan2(L.y-u.y,u.x-L.x)+.5*Math.PI,l=[{x:L.x+Math.cos(D)*A,y:L.y+Math.sin(D)*A*-1},{x:u.x+Math.cos(D)*A,y:u.y+Math.sin(D)*A*-1}],o?(k=o.points,0<=(d=Math.atan2(k[1].y-k[0].y,k[0].x-k[1].x)-Math.atan2(v[0].y-v[1].y,v[1].x-v[0].x))&&d<=Math.PI?h={type:"line",points:l,inside:!0}:(c=O(k[0],k[1],n),p=O(l[1],l[0],n),E=(I=c).x-(w=k[0]).x,q=((_=(T=l[1]).x-(Z=p).x)*(w.y-Z.y)-(m=T.y-Z.y)*(w.x-Z.x))/(-_*(f=I.y-w.y)+E*m),(y=0<=(N=(-f*(w.x-Z.x)+E*(w.y-Z.y))/(-_*f+E*m))&&N<=1&&0<=q&&q<=1?{x:w.x+q*E,y:w.y+q*f}:null)?h={type:"line",points:[k[1]=y,l[1]]}:(k[1]=g(p,c)?p:c,h={type:"line",points:[p,l[1]]}),o.len=Ne(k[0],k[1]))):h={type:"line",points:l},h.len=Ne(h.points[0],h.points[1]),S.push(o=h)):(S.push({type:"cubic",points:function(U,H,F,b,Q,se){for(var z,K,he=r(U,H,F,b)/16,fe=1/(16<Q?he*(Q/16):he),le=[],Ie=0;K=(90-(z=P(U,H,F,b,Ie)).angle)*(Math.PI/180),le.push({x:z.x+Math.cos(K)*Q,y:z.y+Math.sin(K)*Q*-1}),!(1<=Ie);)1<(Ie+=fe)&&(Ie=1);return le}(v[0],v[1],v[2],v[3],n)}),o=null)}),o=null,S.forEach(function(v){var l;"line"===v.type?(v.inside&&(o.len>n?((l=o.points)[1]=O(l[0],l[1],-n),o.len=Ne(l[0],l[1])):(o.points=null,o.len=0),v.len>n+i?((l=v.points)[0]=O(l[1],l[0],-(n+i)),v.len=Ne(l[0],l[1])):(v.points=null,v.len=0)),o=v):o=null}),S.reduce(function(v,l){var h=l.points;return h&&(a&&g(h[0],a)||v.push({type:"M",values:[h[0].x,h[0].y]}),"line"===l.type?v.push({type:"L",values:[h[1].x,h[1].y]}):(h.shift(),h.forEach(function(k){v.push({type:"L",values:[k.x,k.y]})})),a=h[h.length-1]),v},[])},newText:function(e,n,i,o){var a,s,S,g,v,l,h,k,d,p;return(g=(S=n.createElementNS(J,"defs")).appendChild(n.createElementNS(J,"path"))).id=a=i+"-path",(l=(v=n.createElementNS(J,"text")).appendChild(n.createElementNS(J,"textPath"))).href.baseVal="#"+a,l.startOffset.baseVal.newValueSpecifiedUnits(SVGLength.SVG_LENGTHTYPE_PX,0),l.textContent=e,"boolean"!=typeof Xe&&(Xe="paintOrder"in v.style),o&&!Xe?(v.id=s=i+"-text",S.appendChild(v),(d=(h=n.createElementNS(J,"g")).appendChild(n.createElementNS(J,"use"))).href.baseVal="#"+s,(k=h.appendChild(n.createElementNS(J,"use"))).href.baseVal="#"+s,(p=d.style).strokeLinejoin="round",{elmPosition:v,elmPath:g,elmOffset:l,styleText:v.style,styleFill:k.style,styleStroke:p,styleShow:h.style,elmsAppend:[S,h]}):(p=v.style,o&&(p.strokeLinejoin="round",p.paintOrder="stroke"),{elmPosition:v,elmPath:g,elmOffset:l,styleText:p,styleFill:p,styleStroke:o?p:null,styleShow:p,elmsAppend:[S,v]})},initSvg:function(e,n){var i,o,a=B.pathLabel.newText(e.text,n.baseWindow.document,ge+"-pathLabel-"+e._id,e.outlineColor);["elmPosition","elmPath","elmOffset","styleFill","styleShow","elmsAppend"].forEach(function(s){e[s]=a[s]}),e.isShown=!1,e.styleShow.visibility="hidden",B.captionLabel.textStyleProps.forEach(function(s){null!=e[s]&&(a.styleText[s]=e[s])}),a.elmsAppend.forEach(function(s){n.svg.appendChild(s)}),a.elmPath.setPathData([{type:"M",values:[0,100]},{type:"h",values:[100]}]),i=a.elmPosition.getBBox(),a.styleText.textAnchor=["start","end","middle"][e.semIndex],2!==e.semIndex||e.lineOffset||a.elmOffset.startOffset.baseVal.newValueSpecifiedUnits(SVGLength.SVG_LENGTHTYPE_PERCENTAGE,50),e.height=i.height,e.outlineColor&&(o=10<(o=i.height/9)?10:o<2?2:o,a.styleStroke.strokeWidth=o+"px",a.styleStroke.stroke=e.outlineColor),e.strokeWidth=o||0,Oe(e.aplStats,B.pathLabel.stats),e.updateColor(n),e.updatePath(n),e.updateStartOffset(n),Se&&Ve(n,{}),e.updateShow(n)},bind:function(e,n){var i=n.props;return e.color||me(i,"cur_line_color",e.updateColor),me(i,"cur_line_strokeWidth",e.updatePath),me(i,"apl_path",e.updatePath),e.semIndex="startLabel"===n.optionName?0:"endLabel"===n.optionName?1:2,(2!==e.semIndex||e.lineOffset)&&me(i,"cur_attach_plugBackLenSE",e.updateStartOffset),me(i,"svgShow",e.updateShow),Se&&me(i,"new_edge4viewBox",e.adjustEdge),B.pathLabel.initSvg(e,i),!0},unbind:function(e,n){var i=n.props;e.elmsAppend&&(e.elmsAppend.forEach(function(o){i.svg.removeChild(o)}),e.elmPosition=e.elmPath=e.elmOffset=e.styleFill=e.styleShow=e.elmsAppend=null),Oe(e.curStats,B.pathLabel.stats),Oe(e.aplStats,B.pathLabel.stats),e.color||xe(i,"cur_line_color",e.updateColor),xe(i,"cur_line_strokeWidth",e.updatePath),xe(i,"apl_path",e.updatePath),(2!==e.semIndex||e.lineOffset)&&xe(i,"cur_attach_plugBackLenSE",e.updateStartOffset),xe(i,"svgShow",e.updateShow),Se&&(xe(i,"new_edge4viewBox",e.adjustEdge),Ve(i,{}))},removeOption:function(e,n){var i=n.props,o={};o[n.optionName]="",Vt(i,o)},remove:function(e){e.boundTargets.length&&(console.error("LeaderLineAttachment was not unbound by remove"),e.boundTargets.forEach(function(n){B.pathLabel.unbind(e,n)}))}}},Object.keys(B).forEach(function(e){Fe[e]=function(){return new Me(B[e],Array.prototype.slice.call(arguments))}}),Fe.positionByWindowResize=!0,window.addEventListener("resize",zt.add(function(){Fe.positionByWindowResize&&Object.keys(ke).forEach(function(e){Ve(ke[e],{position:!0})})}),!1)}()},6618:(an,oe,X)=>{"use strict";X.r(oe),X.d(oe,{PipelineModule:()=>at});var B=X(8583),Me=X(3461),He=X(9765),_t=X(2298),ie=(()=>{return(O=ie||(ie={})).datasetInput="dataset_input",O.datasetOutput="dataset_output",O.select="select",O.filter="filter",O.sort="sort",O.join="join",O.aggregate="aggregate",ie;var O})();const Ge={[ie.datasetInput]:{type:ie.datasetInput,title:"\u062f\u06cc\u062a\u0627\u0633\u062a \u0648\u0631\u0648\u062f\u06cc",altTitle:"",numInputs:0,hasOutput:!0,iconName:"file_download",iconMirrored:!1},[ie.datasetOutput]:{type:ie.datasetOutput,title:"\u062f\u06cc\u062a\u0627\u0633\u062a \u062e\u0631\u0648\u062c\u06cc",altTitle:"",numInputs:1,hasOutput:!1,iconName:"publish",iconMirrored:!1},[ie.select]:{type:ie.select,title:"\u0627\u0646\u062a\u062e\u0627\u0628",altTitle:"Select",numInputs:1,hasOutput:!0,iconName:"edit",iconMirrored:!1},[ie.sort]:{type:ie.sort,title:"\u0645\u0631\u062a\u0628\u200c\u0633\u0627\u0632\u06cc",altTitle:"Sort",numInputs:1,hasOutput:!0,iconName:"sort_by_alpha",iconMirrored:!1},[ie.filter]:{type:ie.filter,title:"\u0641\u06cc\u0644\u062a\u0631",altTitle:"Filter",numInputs:1,hasOutput:!0,iconName:"filter_alt",iconMirrored:!1},[ie.join]:{type:ie.join,title:"\u0627\u0644\u062d\u0627\u0642",altTitle:"Join",numInputs:1,hasOutput:!0,iconName:"merge_type",iconMirrored:!1},[ie.aggregate]:{type:ie.aggregate,title:"\u062a\u062c\u0645\u06cc\u0639",altTitle:"Aggregate",numInputs:1,hasOutput:!0,iconName:"stacked_bar_chart",iconMirrored:!0}};function Xe(O){switch(O){case ie.datasetInput:case ie.datasetOutput:return{datasetId:null};case ie.select:return{};case ie.filter:return{condition:""};case ie.sort:return{orders:[]};case ie.join:case ie.aggregate:return{}}}class yt{constructor(P){this.name=P,this.nodes=[],this.nodeAdded=new He.xQ,this.nodeEdited=new He.xQ,this.nodeRemoved=new He.xQ,this.loaded=new _t.t(1)}addNode(P){if(this.nodes.some(r=>r.id===P.id))throw new Error("a node with the same id already exists in the pipeline");this.nodes.push(P),this.nodeAdded.next(P)}createNode(P,r,x={x:0,y:0},C){if(void 0!==C){if(C.length!==Ge[r].numInputs)throw new Error("invalid number of inputs")}else C=new Array(Ge[r].numInputs).fill(null);const G={id:this.nextId,name:P,type:r,inputs:C,position:x,config:Xe(r)};return this.addNode(G),G.id}get nextId(){return Math.max(-1,...this.nodes.map(P=>P.id))+1}editNode(P){const r=this.nodes.findIndex(x=>x.id===P.id);if(r<0)throw new Error("a node with the given id does not exist in the pipeline");this.nodes[r]=P,this.nodeEdited.next(P)}markNodeAsEdited(P){const r=this.nodes.find(x=>x.id===P);if(void 0===r)throw new Error("a node with the given id does not exist in the pipeline");this.nodeEdited.next(r)}removeNode(P){const r=this.nodes.findIndex(C=>C.id===P);if(r<0)throw new Error("a node with the given id does not exist in the pipeline");this.nodes.forEach(C=>{let G=!1;for(let ne=0;ne<C.inputs.length;ne++)C.inputs[ne]===P&&(C.inputs[ne]=null,G=!0);G&&this.nodeEdited.next(C)});const x=this.nodes.splice(r,1)[0];this.nodeRemoved.next(x)}reorder(){const P=[];for(let r=0;r<this.nodes.length;r++){let x=!1,C=r;for(;C<this.nodes.length;C++)if(this.nodes[C].inputs.every(ne=>null===ne||P.includes(ne))){x=!0;break}if(!x)throw new Error("the pipeline is cyclic!");P.push(this.nodes[C].id),(0,Me.bA)(this.nodes,r,C)}}export(){const r=this.nodes.filter(C=>C.type===ie.datasetInput);if(1!==r.length)throw new Error("only one input node is currently supported");const x=this.nodes.filter(C=>C.type===ie.datasetOutput);if(r.length>1)throw new Error("at most one output node is currently supported");return{name:this.name,inputDatasetId:r[0].config.datasetId||null,inputDataset:{id:r[0].id,name:r[0].name,inputs:r[0].inputs,position:r[0].position},outputDatasetId:x.length>0&&x[0].config.datasetId||null,outputDataset:x.length>0?{id:x[0].id,name:x[0].name,inputs:x[0].inputs,position:x[0].position}:null,processes:this.nodes.filter(C=>C.type!==ie.datasetInput&&C.type!==ie.datasetOutput).map(C=>({id:C.id,name:C.name,type:C.type,inputs:C.inputs,position:C.position,instruction:JSON.stringify(C.config)}))}}}var t=X(7716),vt=X(2522),St=X(4655),ge=X(1095),Ze=X(6627),de=X(8295),De=X(9983),re=X(3679),Ue=X(5384),ze=X(3017);X(70);let tt=(()=>{class O{constructor(r){this.document=r}onContainer(r){return(x,C,G)=>{let ne;ne=void 0===G?new LeaderLine(x,C):new LeaderLine(x,C,G);const me=this.document.querySelector("body > .leader-line:last-of-type");if(!me)return console.error("element of line was not found:",ne),ne;r.appendChild(me);const xe=ne.remove;return ne.remove=()=>{this.document.body.appendChild(me),xe.bind(ne)()},ne}}}return O.\u0275fac=function(r){return new(r||O)(t.LFG(B.K0))},O.\u0275prov=t.Yz7({token:O,factory:O.\u0275fac}),O})();var Ke=X(3738),st=X(2458);let Ot=(()=>{class O{constructor(r){this.hostRef=r,this.onInit=new t.vpe,this.afterViewInit=new t.vpe,this.onDestroy=new t.vpe}ngOnInit(){this.onInit.emit(this.hostRef.nativeElement)}ngAfterViewInit(){this.afterViewInit.emit(this.hostRef.nativeElement)}ngOnDestroy(){this.onDestroy.emit(this.hostRef.nativeElement)}}return O.\u0275fac=function(r){return new(r||O)(t.Y36(t.SBq))},O.\u0275dir=t.lG2({type:O,selectors:[["","spy-element",""]],outputs:{onInit:"onInit",afterViewInit:"afterViewInit",onDestroy:"onDestroy"}}),O})();const We=["connectionEnd"],qt=["connectionEndPreview"],Rt=["*"];let lt=(()=>{class O{constructor(r,x){this.lineService=r,this.document=x,this.connectionRestVisibility=!0}tryToInitializeLine(){var r,x;if(void 0===this.line&&void 0!==this.lineContainer&&void 0!==this.connectionBegin&&void 0!==this.connectionEndRef){const C=this.lineService.onContainer(this.lineContainer);this.line=C(this.connectionBegin,null===(r=this.connectionEndRef)||void 0===r?void 0:r.nativeElement,{color:"var(--arrow-color)",startSocket:"left",endSocket:"right",path:"fluid",hide:!this.connectionRestVisibility,startSocketGravity:100,endSocketGravity:100}),this.subscription=null===(x=this.reposition)||void 0===x?void 0:x.subscribe(()=>{var G;null===(G=this.line)||void 0===G||G.position()}),this.line.position()}}updateLineVisibility(){void 0!==this.line&&(this.connectionRestVisibility?this.line.show():this.line.hide("none"))}ngOnInit(){}ngAfterViewInit(){this.tryToInitializeLine(),this.updateLineVisibility()}ngOnChanges(r){this.tryToInitializeLine(),"visibilityOnRest"in r&&this.updateLineVisibility()}ngOnDestroy(){var r,x;null===(r=this.subscription)||void 0===r||r.unsubscribe(),null===(x=this.line)||void 0===x||x.remove()}previewDragStarted(r){this.line.end=this.document.getElementsByClassName("cdk-drag-preview")[0],this.line.show()}previewDragMoved(r){var x;null===(x=this.line)||void 0===x||x.position()}previewDragEnded(){var r;this.line.end=null===(r=this.connectionEndRef)||void 0===r?void 0:r.nativeElement,this.updateLineVisibility()}}return O.\u0275fac=function(r){return new(r||O)(t.Y36(tt),t.Y36(B.K0))},O.\u0275cmp=t.Xpm({type:O,selectors:[["app-anchor"]],viewQuery:function(r,x){if(1&r&&(t.Gf(We,5),t.Gf(qt,5)),2&r){let C;t.iGM(C=t.CRH())&&(x.connectionEndRef=C.first),t.iGM(C=t.CRH())&&(x.connectionEndPreviewRef=C.first)}},inputs:{lineContainer:"lineContainer",connectionBegin:"connectionBegin",connectionRestVisibility:"connectionRestVisibility",reposition:"reposition",dragData:"dragData"},features:[t.TTD],ngContentSelectors:Rt,decls:3,vars:1,consts:[["cdkDrag","",3,"cdkDragData","cdkDragMoved","cdkDragStarted","cdkDragEnded"],["connectionEnd",""]],template:function(r,x){1&r&&(t.F$t(),t.TgZ(0,"div",0,1),t.NdJ("cdkDragMoved",function(G){return x.previewDragMoved(G)})("cdkDragStarted",function(G){return x.previewDragStarted(G)})("cdkDragEnded",function(){return x.previewDragEnded()}),t.Hsn(2),t.qZA()),2&r&&t.Q6J("cdkDragData",x.dragData)},directives:[Me.Zt],styles:["[_nghost-%COMP%] > *[_ngcontent-%COMP%]{position:absolute}"]}),O})();const xt=["lineContainer"],ut=["cardContainer"];function bt(O,P){if(1&O){const r=t.EpF();t.TgZ(0,"app-anchor",29),t.NdJ("shouldReposition",function(){return t.CHM(r),t.oxw(3).shouldReposition=!0}),t._UZ(1,"div",30),t.qZA()}if(2&O){const r=t.oxw().$implicit,x=t.oxw(2),C=t.MAs(9);t.Q6J("lineContainer",C)("connectionBegin",r.outputPlaceholderElement)("reposition",x.reposition)("dragData",r)}}const Je=function(O,P){return{type:"input",card:O,index:P}};function Mt(O,P){if(1&O){const r=t.EpF();t.TgZ(0,"div",27),t.NdJ("cdkDropListDropped",function(C){return t.CHM(r),t.oxw(2).buttonDrop(C)}),t.YNc(1,bt,2,4,"app-anchor",28),t.qZA()}if(2&O){const r=P.$implicit,x=P.index,C=t.oxw().$implicit,G=t.oxw();t.Q6J("cdkDropListData",t.WLB(3,Je,C,x))("cdkDropListEnterPredicate",G.inputDropEnterPredicate),t.xp6(1),t.Q6J("ngIf",null!==r)}}const Wt=function(O){return{card:O,type:"output"}};function At(O,P){if(1&O){const r=t.EpF();t.TgZ(0,"div",31),t.NdJ("cdkDropListDropped",function(C){return t.CHM(r),t.oxw(2).buttonDrop(C)}),t.TgZ(1,"app-anchor",32),t._UZ(2,"div",30),t.qZA(),t.qZA()}if(2&O){const r=t.oxw().$implicit,x=t.MAs(23),C=t.oxw(),G=t.MAs(9);t.Q6J("cdkDropListData",t.VKq(6,Wt,r)),t.xp6(1),t.Q6J("lineContainer",G)("connectionBegin",x)("connectionRestVisibility",!1)("reposition",C.reposition)("dragData",r)}}function Bt(O,P){if(1&O){const r=t.EpF();t.TgZ(0,"mat-card",17),t.NdJ("click",function(){const G=t.CHM(r).$implicit;return t.oxw().updateSelectedCard(G)})("cdkDragStarted",function(C){return t.CHM(r),t.oxw().cardDragStarted(C)})("cdkDragEnded",function(C){return t.CHM(r),t.oxw().cardDragEnded(C)})("cdkDragMoved",function(){return t.CHM(r),t.oxw().shouldReposition=!0})("transitionend",function(){return t.CHM(r),t.oxw().shouldReposition=!0}),t.TgZ(1,"mat-card-header"),t.TgZ(2,"mat-card-title"),t._uU(3),t.qZA(),t.TgZ(4,"mat-card-subtitle"),t.TgZ(5,"mat-icon"),t._uU(6),t.qZA(),t.TgZ(7,"span"),t._uU(8),t.qZA(),t.qZA(),t.qZA(),t.TgZ(9,"div",18),t.TgZ(10,"button",19),t.TgZ(11,"mat-icon"),t._uU(12,"more_vert"),t.qZA(),t.qZA(),t.TgZ(13,"mat-menu",null,20),t.TgZ(15,"button",21),t.NdJ("click",function(){const G=t.CHM(r).$implicit;return t.oxw().removeNode(G.node.id)}),t.TgZ(16,"mat-icon"),t._uU(17,"delete"),t.qZA(),t.TgZ(18,"span"),t._uU(19,"\u062d\u0630\u0641"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(20,"div",22),t.YNc(21,Mt,2,6,"div",23),t.qZA(),t.TgZ(22,"div",24,25),t.NdJ("onInit",function(){const G=t.CHM(r).$implicit,ne=t.MAs(23);return G.outputPlaceholderElement=ne}),t.YNc(24,At,3,8,"div",26),t.qZA(),t.qZA()}if(2&O){const r=P.$implicit,x=t.MAs(14),C=t.oxw();t.ekj("selected",(null==C.selectedCard||null==C.selectedCard.node?null:C.selectedCard.node.id)===r.node.id),t.Q6J("cdkDragData",r)("cdkDragFreeDragPosition",r.position),t.xp6(3),t.Oqu(r.title),t.xp6(2),t.ekj("mat-icon-rtl-mirror",r.typeInfo.iconMirrored),t.xp6(1),t.hij(" ",r.typeInfo.iconName," "),t.xp6(2),t.Oqu(r.subtitle),t.xp6(2),t.Q6J("matMenuTriggerFor",x),t.xp6(11),t.Q6J("ngForOf",r.inputs),t.xp6(3),t.Q6J("ngIf",r.hasOutput)}}function Gt(O,P){1&O&&t._UZ(0,"div",40)}function It(O,P){1&O&&t._UZ(0,"div",41)}const Ut=function(){return[]};function $e(O,P){if(1&O&&(t.TgZ(0,"div"),t.TgZ(1,"mat-card",36),t.TgZ(2,"mat-card-header"),t.TgZ(3,"mat-card-title"),t._uU(4),t.qZA(),t.TgZ(5,"mat-card-subtitle"),t.TgZ(6,"mat-icon"),t._uU(7),t.qZA(),t.TgZ(8,"span"),t._uU(9),t.qZA(),t.qZA(),t.qZA(),t.TgZ(10,"div",22),t.YNc(11,Gt,1,0,"div",37),t.qZA(),t.TgZ(12,"div",38),t.YNc(13,It,1,0,"div",39),t.qZA(),t.qZA(),t.qZA()),2&O){const r=t.oxw().$implicit;t.xp6(4),t.hij(" ",r.title," "),t.xp6(2),t.ekj("mat-icon-rtl-mirror",r.iconMirrored),t.xp6(1),t.hij(" ",r.iconName," "),t.xp6(2),t.Oqu(r.title),t.xp6(2),t.Q6J("ngForOf",t.DdM(7,Ut).constructor(r.numInputs)),t.xp6(2),t.Q6J("ngIf",r.hasOutput)}}function Pe(O,P){if(1&O){const r=t.EpF();t.TgZ(0,"div",33),t.TgZ(1,"mat-card",34),t.NdJ("cdkDragEnded",function(C){return t.CHM(r),t.oxw().addNode(C)}),t.TgZ(2,"mat-icon"),t._uU(3),t.qZA(),t.TgZ(4,"span"),t._uU(5),t.qZA(),t.YNc(6,$e,14,8,"div",35),t.qZA(),t.qZA()}if(2&O){const r=P.$implicit;t.xp6(1),t.Q6J("cdkDragData",r),t.xp6(1),t.ekj("mat-icon-rtl-mirror",r.iconMirrored),t.xp6(1),t.hij(" ",r.iconName," "),t.xp6(2),t.Oqu(r.title)}}const dt=function(){return{type:"remove"}},Le=4*parseFloat(getComputedStyle(document.documentElement).fontSize);class J{constructor(P){this.node=P,this.inputs=Array(P.inputs.length).fill(null),this.hasOutput=this.typeInfo.hasOutput,this.updatePosition()}get title(){return this.node.name}get subtitle(){return Ge[this.node.type].title}get typeInfo(){return Ge[this.node.type]}updatePosition(){this.position={x:-this.node.position.x*Le,y:this.node.position.y*Le}}}let pt=(()=>{class O{constructor(r){this.lineService=r,this.selectedNodeEvent=new t.vpe,this.lines=[],this.baseOffset={x:0,y:0},this.dragOffset={x:0,y:0},this.cards=[],this.reposition=new He.xQ,this.shouldReposition=!1,this.Card=J,this.nodeTypes=Object.values(Ge),this.log=console.log}ngOnInit(){this.pipeline.nodes.forEach(r=>{this.cards.push(new J(r))}),this.pipeline.nodes.forEach(r=>{this.updateCardInputs(r)}),this.pipeline.nodeAdded.subscribe(r=>{this.cards.push(new J(r)),this.updateCardInputs(r)}),this.pipeline.nodeEdited.subscribe(r=>{this.updateCardInputs(r)}),this.pipeline.nodeRemoved.subscribe(r=>{const x=this.cards.findIndex(C=>C.node.id===r.id);this.cards.splice(x,1)}),this.pipeline.loaded.subscribe(()=>{this.autoView()})}ngAfterViewInit(){this.Line=this.lineService.onContainer(this.lineContainer.nativeElement),window.addEventListener("load",()=>{this.reposition.next()})}ngAfterViewChecked(){this.reposition.next(),this.shouldReposition=!1}updateSelectedCard(r){this.selectedCard=r,this.selectedNodeEvent.emit(null==r?void 0:r.node)}autoView(){if(this.pipeline.nodes.length>0){const r=this.pipeline.nodes.reduce((x,C)=>({x:Math.min(x.x,C.position.x),y:Math.min(x.y,C.position.y)}),{x:Number.POSITIVE_INFINITY,y:Number.POSITIVE_INFINITY});this.baseOffset={x:(r.x-2)*Le,y:-(r.y-2)*Le}}}updateCardInputs(r){const x=this.findCard(r.id);for(let C=0;C<x.inputs.length;C++)x.inputs[C]=null===r.inputs[C]?null:this.findCard(r.inputs[C])}findCard(r){return this.cards.find(x=>x.node.id===r)}inputDropEnterPredicate(r,x){return r.data!==x.data.card}buttonDrop(r){if(r.previousContainer===r.container)return;const x=r.previousContainer.data,C=r.container.data;"output"===C.type||"remove"===C.type?"input"===x.type&&(x.card.node.inputs[x.index]=null,this.pipeline.markNodeAsEdited(x.card.node.id)):"input"===C.type&&("input"===x.type?(C.card.node.inputs[C.index]=x.card.node.inputs[x.index],x.card.node.inputs[x.index]=null,this.pipeline.markNodeAsEdited(x.card.node.id),this.pipeline.markNodeAsEdited(C.card.node.id)):"output"===x.type&&(C.card.node.inputs[C.index]=x.card.node.id,this.pipeline.markNodeAsEdited(C.card.node.id)))}updateDragOffset(r){this.dragOffset=r.distance}updateOffset(r){this.baseOffset={x:this.baseOffset.x+r.distance.x,y:this.baseOffset.y+r.distance.y},this.dragOffset={x:0,y:0},r.source.reset()}cardDragStarted(r){r.source.element.nativeElement.classList.remove("snap-animation")}cardDragEnded(r){r.source.element.nativeElement.classList.add("snap-animation"),r.source.data.node.position={x:Math.round(-r.source.getFreeDragPosition().x/Le),y:Math.round(r.source.getFreeDragPosition().y/Le)},r.source.data.updatePosition()}addNode(r){const x=this.cardContainer.nativeElement.getBoundingClientRect();if(r.dropPoint.x<x.left||r.dropPoint.x>x.right||r.dropPoint.y<x.top||r.dropPoint.y>x.bottom)return;const C_y=r.dropPoint.y-x.top-Le-this.baseOffset.y,G={x:Math.round((x.right-r.dropPoint.x-2.5*Le+this.baseOffset.x)/Le),y:Math.round(C_y/Le)};this.pipeline.createNode(r.source.data.title,r.source.data.type,G)}removeNode(r){var x,C;this.pipeline.removeNode(r),(null===(C=null===(x=this.selectedCard)||void 0===x?void 0:x.node)||void 0===C?void 0:C.id)===r&&this.updateSelectedCard(void 0)}}return O.\u0275fac=function(r){return new(r||O)(t.Y36(tt))},O.\u0275cmp=t.Xpm({type:O,selectors:[["app-diagram"]],viewQuery:function(r,x){if(1&r&&(t.Gf(xt,5),t.Gf(ut,5)),2&r){let C;t.iGM(C=t.CRH())&&(x.lineContainer=C.first),t.iGM(C=t.CRH())&&(x.cardContainer=C.first)}},inputs:{pipeline:"pipeline"},outputs:{selectedNodeEvent:"selectedNode"},decls:24,vars:10,consts:[["hasBackdrop","false"],[1,"diagram-container"],["cdkDropListGroup","","cdkDrag","",1,"card-container",3,"cdkDragEnded","cdkDragMoved"],["cardContainer",""],["cdkDropList","",1,"remove-connection-container",3,"cdkDropListData","cdkDropListDropped"],[1,"offset-container"],["class","diagram-card","cdkDrag","",3,"selected","cdkDragData","cdkDragFreeDragPosition","click","cdkDragStarted","cdkDragEnded","cdkDragMoved","transitionend",4,"ngFor","ngForOf"],[1,"line-container"],["lineContainer",""],[1,"add-node-button-container"],["mat-raised-button","","color","primary",3,"click"],["position","end","mode","side"],["addSidePane",""],[1,"add-node-pane"],["mat-icon-button","",3,"click"],[1,"add-node-list"],["cdkDropList","",4,"ngFor","ngForOf"],["cdkDrag","",1,"diagram-card",3,"cdkDragData","cdkDragFreeDragPosition","click","cdkDragStarted","cdkDragEnded","cdkDragMoved","transitionend"],[1,"more-menu-container"],["mat-icon-button","",3,"matMenuTriggerFor"],["moreMenu","matMenu"],["mat-menu-item","","disableRipple","","matRipple","","matRippleColor","rgba(255, 0, 0, 0.2)",1,"remove-menu-item",3,"click"],[1,"drop-placeholder","input-drop-placeholder"],["class","empty-button-placeholder","cdkDropList","",3,"cdkDropListData","cdkDropListEnterPredicate","cdkDropListDropped",4,"ngFor","ngForOf"],["spy-element","",1,"drop-placeholder","output-drop-placeholder",3,"onInit"],["connectionBegin",""],["class","full-button-placeholder","cdkDropList","",3,"cdkDropListData","cdkDropListDropped",4,"ngIf"],["cdkDropList","",1,"empty-button-placeholder",3,"cdkDropListData","cdkDropListEnterPredicate","cdkDropListDropped"],[3,"lineContainer","connectionBegin","reposition","dragData","shouldReposition",4,"ngIf"],[3,"lineContainer","connectionBegin","reposition","dragData","shouldReposition"],[1,"drag-button"],["cdkDropList","",1,"full-button-placeholder",3,"cdkDropListData","cdkDropListDropped"],[3,"lineContainer","connectionBegin","connectionRestVisibility","reposition","dragData"],["cdkDropList",""],["cdkDrag","",1,"add-node-card",3,"cdkDragData","cdkDragEnded"],[4,"cdkDragPreview"],[1,"diagram-card","preview-diagram-card"],["class","empty-button-placeholder",4,"ngFor","ngForOf"],[1,"drop-placeholder","output-drop-placeholder"],["class","full-button-placeholder",4,"ngIf"],[1,"empty-button-placeholder"],[1,"full-button-placeholder"]],template:function(r,x){if(1&r){const C=t.EpF();t.TgZ(0,"mat-sidenav-container",0),t.TgZ(1,"mat-sidenav-content"),t.TgZ(2,"div",1),t.TgZ(3,"div",2,3),t.NdJ("cdkDragEnded",function(ne){return x.updateOffset(ne)})("cdkDragMoved",function(ne){return x.shouldReposition=!0,x.updateDragOffset(ne)}),t.TgZ(5,"div",4),t.NdJ("cdkDropListDropped",function(ne){return x.buttonDrop(ne)}),t.qZA(),t.TgZ(6,"div",5),t.YNc(7,Bt,25,12,"mat-card",6),t.qZA(),t.qZA(),t._UZ(8,"div",7,8),t.TgZ(10,"div",9),t.TgZ(11,"button",10),t.NdJ("click",function(){return t.CHM(C),t.MAs(15).open()}),t.TgZ(12,"mat-icon"),t._uU(13,"add"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(14,"mat-sidenav",11,12),t.TgZ(16,"div",13),t.TgZ(17,"h3"),t._uU(18," \u067e\u0631\u062f\u0627\u0632\u0634 \u062c\u062f\u06cc\u062f "),t.TgZ(19,"button",14),t.NdJ("click",function(){return t.CHM(C),t.MAs(15).close()}),t.TgZ(20,"mat-icon"),t._uU(21,"chevron_left"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(22,"div",15),t.YNc(23,Pe,7,5,"div",16),t.qZA(),t.qZA(),t.qZA(),t.qZA()}if(2&r){const C=t.MAs(15);t.xp6(2),t.Udp("background-position","right "+(-x.baseOffset.x-x.dragOffset.x)+"px top "+(x.baseOffset.y+x.dragOffset.y)+"px"),t.xp6(3),t.Q6J("cdkDropListData",t.DdM(9,dt)),t.xp6(1),t.Udp("transform","translate("+x.baseOffset.x+"px, "+x.baseOffset.y+"px)"),t.xp6(1),t.Q6J("ngForOf",x.cards),t.xp6(3),t.ekj("invisible",C.opened),t.xp6(13),t.Q6J("ngForOf",x.nodeTypes)}},directives:[ze.TM,ze.Rh,Me.Fd,Me.Zt,Me.Wj,B.sg,ge.lW,Ze.Hw,ze.JX,Ke.a8,Ke.dk,Ke.n5,Ke.$j,Ue.p6,Ue.VK,Ue.OP,st.wG,Ot,B.O5,lt,Me.pV],styles:[":root{--arrow-color: #673ab7}.mat-sidenav-container[_ngcontent-%COMP%]{width:100%;height:100%}.diagram-container[_ngcontent-%COMP%]{width:100%;height:100%;overflow:hidden;background-size:4rem 4rem;background-image:linear-gradient(to right,#eee .1rem,transparent .1rem),linear-gradient(to bottom,#eee .1rem,transparent .1rem)}.card-container[_ngcontent-%COMP%]{width:100%;height:100%}.card-container.cdk-drag-dragging[_ngcontent-%COMP%]{cursor:grab}.card-container[_ngcontent-%COMP%]   .diagram-card[_ngcontent-%COMP%]{position:absolute}.offset-container[_ngcontent-%COMP%]{width:0;height:0;overflow:visible}.diagram-card[_ngcontent-%COMP%]{width:20rem;height:8rem;display:flex;flex-direction:row;justify-content:center;-webkit-user-select:none;user-select:none;cursor:pointer;transition:box-shadow .28s cubic-bezier(.4,0,.2,1);box-shadow:0 3px 1px -2px #0003,0 2px 2px #00000024,0 1px 5px #0000001f}.diagram-card.snap-animation[_ngcontent-%COMP%]{transition:transform .2s ease-in-out,box-shadow .28s cubic-bezier(.4,0,.2,1)}.diagram-card.selected[_ngcontent-%COMP%]{box-shadow:0 2px 4px -1px #673ab799,0 4px 5px #673ab76b,0 1px 10px #673ab75c}.diagram-card.cdk-drag-dragging[_ngcontent-%COMP%]{box-shadow:0 3px 5px -1px #673ab799,0 6px 10px #673ab76b,0 1px 18px #673ab75c;cursor:move}.diagram-card[_ngcontent-%COMP%]   .mat-card-title[_ngcontent-%COMP%], .diagram-card[_ngcontent-%COMP%]   .mat-card-subtitle[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:center;grid-gap:var(--density-smaller);gap:var(--density-smaller)}.more-menu-container[_ngcontent-%COMP%]{position:absolute;top:0;left:0;margin:var(--density-small)}.remove-menu-item[_ngcontent-%COMP%]{color:#f44336}.remove-menu-item[_ngcontent-%COMP%] > .mat-icon[_ngcontent-%COMP%]{color:#f44336}.drop-placeholder[_ngcontent-%COMP%]{position:absolute;width:0;height:8rem;display:flex;flex-direction:column;justify-content:space-evenly;align-items:center}.input-drop-placeholder[_ngcontent-%COMP%]{top:0;right:0}.output-drop-placeholder[_ngcontent-%COMP%]{top:0;left:0}.empty-button-placeholder[_ngcontent-%COMP%]{width:2rem;height:2rem;border-radius:100%;background-color:#d1c4e9}.empty-button-placeholder[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{position:absolute}.full-button-placeholder[_ngcontent-%COMP%]{width:2rem;height:2rem;border-radius:100%;background-color:#673ab7}.full-button-placeholder[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{position:absolute}.drag-button[_ngcontent-%COMP%]{width:2rem;height:2rem;border-radius:100%;background-color:#673ab7}.line-container[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:0;height:0}.remove-connection-container[_ngcontent-%COMP%]{position:absolute;top:0;right:0;width:100%;height:100%}.remove-connection-container[_ngcontent-%COMP%]   .drag-button[_ngcontent-%COMP%]{display:none}.add-node-button-container[_ngcontent-%COMP%]{position:absolute;top:0;left:0;margin:var(--density-large);transition:opacity .2s ease-in;opacity:1}.add-node-button-container.invisible[_ngcontent-%COMP%]{visibility:hidden;opacity:0}.mat-sidenav[_ngcontent-%COMP%]{width:20rem}.add-node-pane[_ngcontent-%COMP%]{min-height:100%;padding:var(--density-large);background-color:#fafafa}.add-node-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;grid-gap:var(--density-large);gap:var(--density-large)}.add-node-card[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;grid-gap:var(--density-small);gap:var(--density-small);-webkit-user-select:none;user-select:none;cursor:move}.preview-diagram-card[_ngcontent-%COMP%]{position:absolute;transform:translate(50%,-50%)}"]}),O})();var Te=X(7441);function et(O,P){if(1&O){const r=t.EpF();t.TgZ(0,"div"),t.TgZ(1,"h3"),t._uU(2,"\u0627\u0637\u0644\u0627\u0639\u0627\u062a \u062f\u06cc\u062a\u0627\u0633\u062a"),t.qZA(),t.TgZ(3,"mat-form-field",1),t.TgZ(4,"mat-label"),t._uU(5,"\u0646\u0627\u0645 \u062f\u06cc\u062a\u0627\u0633\u062a"),t.qZA(),t.TgZ(6,"mat-select",2),t.NdJ("ngModelChange",function(C){return t.CHM(r),t.oxw().config.datasetId=C}),t._UZ(7,"mat-option"),t.TgZ(8,"mat-option",3),t._uU(9," \u0627\u0637\u0644\u0627\u0639\u0627\u062a \u06a9\u0627\u0631\u0628\u0631\u06cc "),t.qZA(),t.TgZ(10,"mat-option",3),t._uU(11," \u0627\u0637\u0644\u0627\u0639\u0627\u062a \u0628\u0627\u0646\u06a9\u06cc "),t.qZA(),t.TgZ(12,"mat-option",3),t._uU(13," \u0627\u0637\u0644\u0627\u0639\u0627\u062a \u0622\u0628\u0627\u0627\u062c\u062f\u0627\u062f\u06cc "),t.qZA(),t.qZA(),t.TgZ(14,"mat-error"),t._uU(15,"\u0644\u0637\u0641\u0627\u064b \u06cc\u06a9 \u062f\u06cc\u062a\u0627\u0633\u062a \u0627\u0646\u062a\u062e\u0627\u0628 \u06a9\u0646\u06cc\u062f"),t.qZA(),t.qZA(),t.qZA()}if(2&O){const r=t.oxw();t.xp6(6),t.Q6J("ngModel",r.config.datasetId),t.xp6(2),t.Q6J("value",1),t.xp6(2),t.Q6J("value",2),t.xp6(2),t.Q6J("value",3)}}let ct=(()=>{class O{constructor(){}ngOnInit(){}}return O.\u0275fac=function(r){return new(r||O)},O.\u0275cmp=t.Xpm({type:O,selectors:[["app-input-config"]],inputs:{config:"config"},decls:1,vars:1,consts:[[4,"ngIf"],[1,"wide-field"],["required","",3,"ngModel","ngModelChange"],[3,"value"]],template:function(r,x){1&r&&t.YNc(0,et,16,4,"div",0),2&r&&t.Q6J("ngIf",void 0!==x.config)},directives:[B.O5,de.KE,de.hX,Te.gD,re.Q7,re.JJ,re.On,st.ey,de.TO],styles:[""]}),O})();function Se(O,P){if(1&O){const r=t.EpF();t.TgZ(0,"div"),t.TgZ(1,"h3"),t._uU(2,"\u0627\u0637\u0644\u0627\u0639\u0627\u062a \u062f\u06cc\u062a\u0627\u0633\u062a"),t.qZA(),t.TgZ(3,"mat-form-field",1),t.TgZ(4,"mat-label"),t._uU(5,"\u0646\u0627\u0645 \u062f\u06cc\u062a\u0627\u0633\u062a"),t.qZA(),t.TgZ(6,"mat-select",2),t.NdJ("ngModelChange",function(C){return t.CHM(r),t.oxw().config.datasetId=C}),t._UZ(7,"mat-option",3),t.TgZ(8,"mat-option",3),t._uU(9," \u0627\u0637\u0644\u0627\u0639\u0627\u062a \u06a9\u0627\u0631\u0628\u0631\u06cc "),t.qZA(),t.TgZ(10,"mat-option",3),t._uU(11," \u0627\u0637\u0644\u0627\u0639\u0627\u062a \u0628\u0627\u0646\u06a9\u06cc "),t.qZA(),t.TgZ(12,"mat-option",3),t._uU(13," \u0627\u0637\u0644\u0627\u0639\u0627\u062a \u0622\u0628\u0627\u0627\u062c\u062f\u0627\u062f\u06cc "),t.qZA(),t.qZA(),t.TgZ(14,"mat-error"),t._uU(15,"\u0644\u0637\u0641\u0627\u064b \u06cc\u06a9 \u062f\u06cc\u062a\u0627\u0633\u062a \u0627\u0646\u062a\u062e\u0627\u0628 \u06a9\u0646\u06cc\u062f"),t.qZA(),t.qZA(),t.qZA()}if(2&O){const r=t.oxw();t.xp6(6),t.Q6J("ngModel",r.config.datasetId),t.xp6(1),t.Q6J("value",null),t.xp6(1),t.Q6J("value",1),t.xp6(2),t.Q6J("value",2),t.xp6(2),t.Q6J("value",3)}}let Tt=(()=>{class O{constructor(){}ngOnInit(){}}return O.\u0275fac=function(r){return new(r||O)},O.\u0275cmp=t.Xpm({type:O,selectors:[["app-output-config"]],inputs:{config:"config"},decls:1,vars:1,consts:[[4,"ngIf"],[1,"wide-field"],["required","",3,"ngModel","ngModelChange"],[3,"value"]],template:function(r,x){1&r&&t.YNc(0,Se,16,5,"div",0),2&r&&t.Q6J("ngIf",void 0!==x.config)},directives:[B.O5,de.KE,de.hX,Te.gD,re.Q7,re.JJ,re.On,st.ey,de.TO],styles:[""]}),O})();var _e=X(171),Be=X(946),Ae=X(7539);const Ee=["firstExpansionPanel"];function Ht(O,P){if(1&O){const r=t.EpF();t.TgZ(0,"mat-expansion-panel",6,7),t.TgZ(2,"mat-expansion-panel-header"),t.TgZ(3,"mat-panel-title"),t.TgZ(4,"mat-icon",8),t._uU(5," drag_handle "),t.qZA(),t.TgZ(6,"span"),t.TgZ(7,"bdo",9),t._uU(8),t.qZA(),t.qZA(),t.TgZ(9,"mat-icon",10),t._uU(10),t.qZA(),t.qZA(),t.qZA(),t.TgZ(11,"mat-form-field",11),t.TgZ(12,"mat-label"),t._uU(13,"\u0646\u0627\u0645 \u0645\u062a\u063a\u06cc\u0631"),t.qZA(),t.TgZ(14,"input",12),t.NdJ("ngModelChange",function(C){return t.CHM(r).$implicit.name=C}),t.qZA(),t.qZA(),t.TgZ(15,"div",13),t.TgZ(16,"mat-checkbox",14),t.NdJ("ngModelChange",function(C){return t.CHM(r).$implicit.descending=C}),t._uU(17," \u0646\u0632\u0648\u0644\u06cc "),t.qZA(),t.TgZ(18,"button",15),t.NdJ("click",function(){const G=t.CHM(r).index;return t.oxw(3).removeOrder(G)}),t.TgZ(19,"mat-icon"),t._uU(20,"delete"),t.qZA(),t._uU(21," \u062d\u0630\u0641 "),t.qZA(),t.qZA(),t.qZA()}if(2&O){const r=P.$implicit;t.xp6(8),t.Oqu(r.name),t.xp6(2),t.hij(" ",r.descending?"south":"north"," "),t.xp6(4),t.Q6J("ngModel",r.name),t.xp6(2),t.Q6J("ngModel",r.descending)}}function zt(O,P){if(1&O){const r=t.EpF();t.TgZ(0,"mat-accordion",4),t.NdJ("cdkDropListDropped",function(C){return t.CHM(r),t.oxw(2).dropOrder(C)}),t.YNc(1,Ht,22,4,"mat-expansion-panel",5),t.qZA()}if(2&O){const r=t.oxw(2);t.xp6(1),t.Q6J("ngForOf",r.config.orders)}}function Et(O,P){if(1&O){const r=t.EpF();t.TgZ(0,"div"),t.TgZ(1,"div",1),t.TgZ(2,"h3"),t._uU(3,"\u0645\u0631\u062a\u0628\u200c\u0633\u0627\u0632\u06cc \u0628\u0631\u0627\u0633\u0627\u0633"),t.qZA(),t.TgZ(4,"button",2),t.NdJ("click",function(){return t.CHM(r),t.oxw().addOrder()}),t.TgZ(5,"mat-icon"),t._uU(6,"add"),t.qZA(),t.qZA(),t.qZA(),t.YNc(7,zt,2,1,"mat-accordion",3),t.qZA()}if(2&O){const r=t.oxw();t.xp6(7),t.Q6J("ngIf",void 0!==r.config.orders)}}let Zt=(()=>{class O{constructor(r){this.cdref=r,this.expandNewOrder=!1}ngOnInit(){void 0!==this.config&&void 0===this.config.orders&&(this.config.orders=[])}ngAfterViewChecked(){var r;this.expandNewOrder&&(this.expandNewOrder=!1,null===(r=this.firstExpansionPanel)||void 0===r||r.open(),this.cdref.detectChanges())}addOrder(){var r,x;null===(x=null===(r=this.config)||void 0===r?void 0:r.orders)||void 0===x||x.unshift({name:"",descending:!1}),this.expandNewOrder=!0}removeOrder(r){var x,C;null===(C=null===(x=this.config)||void 0===x?void 0:x.orders)||void 0===C||C.splice(r,1)}dropOrder(r){(0,Me.bA)(this.config.orders,r.previousIndex,r.currentIndex)}}return O.\u0275fac=function(r){return new(r||O)(t.Y36(t.sBO))},O.\u0275cmp=t.Xpm({type:O,selectors:[["app-sort-config"]],viewQuery:function(r,x){if(1&r&&t.Gf(Ee,5),2&r){let C;t.iGM(C=t.CRH())&&(x.firstExpansionPanel=C.first)}},inputs:{config:"config"},decls:1,vars:1,consts:[[4,"ngIf"],[1,"config-title-add"],["mat-icon-button","","color","primary",3,"click"],["cdkDropList","",3,"cdkDropListDropped",4,"ngIf"],["cdkDropList","",3,"cdkDropListDropped"],["cdkDrag","",4,"ngFor","ngForOf"],["cdkDrag",""],["firstExpansionPanel",""],["cdkDragHandle","",1,"drag-handle"],["dir","ltr"],[1,"sort-icon"],[1,"wide-field"],["matInput","","type","text","required","",1,"propery-input",3,"ngModel","ngModelChange"],[1,"inline-row"],[3,"ngModel","ngModelChange"],["mat-raised-button","","color","warn",1,"delete-button",3,"click"]],template:function(r,x){1&r&&t.YNc(0,Et,8,1,"div",0),2&r&&t.Q6J("ngIf",void 0!==x.config)},directives:[B.O5,ge.lW,Ze.Hw,_e.pp,Me.Wj,B.sg,_e.ib,Me.Zt,_e.yz,_e.yK,Me.Bh,Be.Lv,de.KE,de.hX,De.Nt,re.Fj,re.Q7,re.JJ,re.On,Ae.oG],styles:["mat-panel-title[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;-webkit-user-select:none;user-select:none}.drag-handle[_ngcontent-%COMP%]{color:#0000008a;margin-left:var(--density-small);cursor:move}.sort-icon[_ngcontent-%COMP%]{transform:scale(.7)}.inline-row[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:space-between}"]}),O})();function Dt(O,P){if(1&O){const r=t.EpF();t.TgZ(0,"div"),t.TgZ(1,"h3"),t._uU(2,"\u0627\u0637\u0644\u0627\u0639\u0627\u062a \u0641\u06cc\u0644\u062a\u0631"),t.qZA(),t.TgZ(3,"mat-form-field",1),t.TgZ(4,"mat-label"),t._uU(5,"\u0634\u0631\u0637 \u062e\u0627\u0645"),t.qZA(),t.TgZ(6,"input",2),t.NdJ("ngModelChange",function(C){return t.CHM(r),t.oxw().config.condition=C}),t.qZA(),t.qZA(),t.TgZ(7,"button",3),t.TgZ(8,"mat-icon",4),t._uU(9,"launch"),t.qZA(),t._uU(10," \u0637\u0631\u0627\u062d\u06cc "),t.qZA(),t.qZA()}if(2&O){const r=t.oxw();t.xp6(6),t.Q6J("ngModel",r.config.condition)}}let wt=(()=>{class O{constructor(){}ngOnInit(){}}return O.\u0275fac=function(r){return new(r||O)},O.\u0275cmp=t.Xpm({type:O,selectors:[["app-filter-config"]],inputs:{config:"config"},decls:1,vars:1,consts:[[4,"ngIf"],[1,"wide-field"],["matInput","","type","text","required","",1,"propery-input",3,"ngModel","ngModelChange"],["mat-raised-button","","color","accent"],[1,"mat-icon-rtl-mirror"]],template:function(r,x){1&r&&t.YNc(0,Dt,11,1,"div",0),2&r&&t.Q6J("ngIf",void 0!==x.config)},directives:[B.O5,de.KE,de.hX,De.Nt,re.Fj,re.Q7,re.JJ,re.On,ge.lW,Ze.Hw],styles:[""]}),O})(),ke=(()=>{class O{constructor(){}ngOnInit(){}}return O.\u0275fac=function(r){return new(r||O)},O.\u0275cmp=t.Xpm({type:O,selectors:[["app-aggregate-config"]],decls:45,vars:0,consts:[["dir","ltr"],["matInput","","type","text","value",".Op",1,"propery-input"],["matInput","","type","text","value",".Position",1,"propery-input"],["matInput","","type","text","value",".Price",1,"propery-input"],["matInput","","type","text","value","\u0628\u06cc\u0634\u06cc\u0646\u0647"],["matInput","","type","text","value","Total",1,"propery-input"]],template:function(r,x){1&r&&(t.TgZ(0,"h3"),t._uU(1,"\u06af\u0631\u0648\u0647\u200c\u0628\u0646\u062f\u06cc \u0628\u0631 \u0627\u0633\u0627\u0633"),t.qZA(),t.TgZ(2,"mat-accordion"),t.TgZ(3,"mat-expansion-panel"),t.TgZ(4,"mat-expansion-panel-header"),t.TgZ(5,"mat-panel-title"),t.TgZ(6,"bdo",0),t._uU(7,".Op"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(8,"mat-form-field"),t.TgZ(9,"mat-label"),t._uU(10,"\u0646\u0627\u0645 \u0645\u062a\u063a\u06cc\u0631"),t.qZA(),t._UZ(11,"input",1),t.qZA(),t.qZA(),t.TgZ(12,"mat-expansion-panel"),t.TgZ(13,"mat-expansion-panel-header"),t.TgZ(14,"mat-panel-title"),t.TgZ(15,"bdo",0),t._uU(16,".Position"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(17,"mat-form-field"),t.TgZ(18,"mat-label"),t._uU(19,"\u0646\u0627\u0645 \u0645\u062a\u063a\u06cc\u0631"),t.qZA(),t._UZ(20,"input",2),t.qZA(),t.qZA(),t.qZA(),t._UZ(21,"br"),t.TgZ(22,"h3"),t._uU(23,"\u0639\u0645\u0644\u06cc\u0627\u062a"),t.qZA(),t.TgZ(24,"mat-accordion"),t.TgZ(25,"mat-expansion-panel"),t.TgZ(26,"mat-expansion-panel-header"),t.TgZ(27,"mat-panel-title"),t.TgZ(28,"span"),t._uU(29," \u0628\u06cc\u0634\u06cc\u0646\u0647 "),t.TgZ(30,"bdo",0),t._uU(31,".Price"),t.qZA(),t._uU(32," \u0628\u0647 \u0639\u0646\u0648\u0627\u0646 Total "),t.qZA(),t.qZA(),t.qZA(),t.TgZ(33,"mat-form-field"),t.TgZ(34,"mat-label"),t._uU(35,"\u0646\u0627\u0645 \u0645\u062a\u063a\u06cc\u0631"),t.qZA(),t._UZ(36,"input",3),t.qZA(),t.TgZ(37,"mat-form-field"),t.TgZ(38,"mat-label"),t._uU(39,"\u0646\u0648\u0639 \u0639\u0645\u0644\u06cc\u062a"),t.qZA(),t._UZ(40,"input",4),t.qZA(),t.TgZ(41,"mat-form-field"),t.TgZ(42,"mat-label"),t._uU(43,"\u0646\u0627\u0645 \u0645\u062a\u063a\u06cc\u0631 \u062e\u0631\u0648\u062c\u06cc"),t.qZA(),t._UZ(44,"input",5),t.qZA(),t.qZA(),t.qZA())},directives:[_e.pp,_e.ib,_e.yz,_e.yK,Be.Lv,de.KE,de.hX,De.Nt],styles:[""]}),O})();const Jt=["diagram"];function we(O,P){1&O&&(t.TgZ(0,"h2",19),t.TgZ(1,"mat-icon"),t._uU(2,"info"),t.qZA(),t._uU(3," \u067e\u0631\u062f\u0627\u0632\u0634\u06cc \u0627\u0646\u062a\u062e\u0627\u0628 \u0646\u0634\u062f\u0647 "),t.qZA())}function Qt(O,P){if(1&O&&t._UZ(0,"app-input-config",27),2&O){const r=t.oxw(2);t.Q6J("config",r.selectedNode.config)}}function Qe(O,P){if(1&O&&t._UZ(0,"app-output-config",27),2&O){const r=t.oxw(2);t.Q6J("config",r.selectedNode.config)}}function Ce(O,P){if(1&O&&t._UZ(0,"app-sort-config",27),2&O){const r=t.oxw(2);t.Q6J("config",r.selectedNode.config)}}function nt(O,P){if(1&O&&t._UZ(0,"app-filter-config",27),2&O){const r=t.oxw(2);t.Q6J("config",r.selectedNode.config)}}function it(O,P){1&O&&t._UZ(0,"app-aggregate-config")}function ht(O,P){if(1&O){const r=t.EpF();t.TgZ(0,"div",20),t.TgZ(1,"mat-form-field",21),t.TgZ(2,"input",7,22),t.NdJ("ngModelChange",function(C){return t.CHM(r),t.oxw().selectedNode.name=C}),t.qZA(),t.TgZ(4,"button",9),t.TgZ(5,"mat-icon"),t._uU(6,"edit"),t.qZA(),t.qZA(),t.TgZ(7,"mat-hint",23),t.TgZ(8,"mat-icon"),t._uU(9),t.qZA(),t.TgZ(10,"span"),t._uU(11),t.qZA(),t.qZA(),t.qZA(),t.TgZ(12,"div",24),t.YNc(13,Qt,1,1,"app-input-config",25),t.YNc(14,Qe,1,1,"app-output-config",25),t.YNc(15,Ce,1,1,"app-sort-config",25),t.YNc(16,nt,1,1,"app-filter-config",25),t.YNc(17,it,1,0,"app-aggregate-config",26),t.qZA(),t.qZA()}if(2&O){const r=t.MAs(3),x=t.oxw();t.xp6(2),t.Q6J("ngModel",x.selectedNode.name),t.xp6(2),t.Udp("visibility",r.focused?"":"hidden"),t.xp6(4),t.ekj("mat-icon-rtl-mirror",x.pipelineNodeInfo[x.selectedNode.type].iconMirrored),t.xp6(1),t.hij(" ",x.pipelineNodeInfo[x.selectedNode.type].iconName," "),t.xp6(2),t.Oqu(x.pipelineNodeInfo[x.selectedNode.type].title),t.xp6(1),t.Q6J("ngSwitch",x.selectedNode.type),t.xp6(1),t.Q6J("ngSwitchCase",x.PipelineNodeType.datasetInput),t.xp6(1),t.Q6J("ngSwitchCase",x.PipelineNodeType.datasetOutput),t.xp6(1),t.Q6J("ngSwitchCase",x.PipelineNodeType.sort),t.xp6(1),t.Q6J("ngSwitchCase",x.PipelineNodeType.filter),t.xp6(1),t.Q6J("ngSwitchCase",x.PipelineNodeType.aggregate)}}let kt=(()=>{class O{constructor(){this.pipeline=new yt("\u0633\u0646\u0627\u0631\u06cc\u0648 \u062c\u062f\u06cc\u062f"),this.pipelineNodeInfo=Ge,this.PipelineNodeType=ie}ngOnInit(){}ngAfterContentInit(){const r=this.pipeline.createNode("\u062b\u0628\u062a \u0627\u062d\u0648\u0627\u0644",ie.datasetInput,{x:3,y:5}),x=this.pipeline.createNode("\u0627\u0634\u062e\u0627\u0635 \u0645\u0647\u0645",ie.filter,{x:10,y:4},[r]);this.pipeline.createNode("CIA",ie.datasetOutput,{x:20,y:5},[x]),this.pipeline.loaded.next()}ngAfterViewInit(){}exportPipeline(){this.pipeline.reorder(),console.log(JSON.stringify(this.pipeline.export(),null,4))}}return O.\u0275fac=function(r){return new(r||O)},O.\u0275cmp=t.Xpm({type:O,selectors:[["app-pipeline"]],viewQuery:function(r,x){if(1&r&&t.Gf(Jt,5),2&r){let C;t.iGM(C=t.CRH())&&(x.diagram=C.first)}},decls:42,vars:7,consts:[["color","primary"],["routerLink","/","mat-flat-button","","disableRipple","","color","primary"],[1,"logo-name"],[1,"pipeline-info"],["title","\u0627\u062c\u0631\u0627","mat-icon-button","","mat-raised-button","","mat-tip",""],["color","primary",1,"mat-icon-rtl-mirror"],["floatLabel","never"],["matInput","","type","text",3,"ngModel","ngModelChange"],["pipelineNameInput","matInput"],["matSuffix","","mat-icon-button","","disabled","",2,"color","inherit"],["title","\u062f\u0627\u0646\u0644\u0648\u062f","mat-icon-button","",3,"click"],["mat-button","",3,"matMenuTriggerFor"],["accountMenu","matMenu"],["mat-menu-item",""],["mode","side","opened","","disableClose",""],["class","no-selected-node",4,"ngIf"],["class","config-pane",4,"ngIf"],[3,"pipeline","selectedNode"],["diagram",""],[1,"no-selected-node"],[1,"config-pane"],[1,"node-name-input"],["nodeNameInput","matInput"],[1,"node-type-info"],[3,"ngSwitch"],[3,"config",4,"ngSwitchCase"],[4,"ngSwitchCase"],[3,"config"]],template:function(r,x){if(1&r&&(t.TgZ(0,"mat-toolbar",0),t.TgZ(1,"a",1),t.TgZ(2,"mat-icon"),t._uU(3,"call_split"),t.qZA(),t.TgZ(4,"span",2),t._uU(5," \u0633\u0646\u0627\u0631\u06cc\u0648\u0686\u06cc"),t.qZA(),t.qZA(),t.TgZ(6,"span",3),t.TgZ(7,"button",4),t.TgZ(8,"mat-icon",5),t._uU(9," play_arrow "),t.qZA(),t.qZA(),t.TgZ(10,"mat-form-field",6),t.TgZ(11,"mat-label"),t._uU(12,"\u0646\u0627\u0645 \u0633\u0646\u0627\u0631\u06cc\u0648"),t.qZA(),t.TgZ(13,"input",7,8),t.NdJ("ngModelChange",function(G){return x.pipeline.name=G}),t.qZA(),t.TgZ(15,"button",9),t.TgZ(16,"mat-icon"),t._uU(17,"edit"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(18,"nav"),t.TgZ(19,"button",10),t.NdJ("click",function(){return x.exportPipeline()}),t.TgZ(20,"mat-icon"),t._uU(21,"file_upload"),t.qZA(),t.qZA(),t.TgZ(22,"button",11),t.TgZ(23,"mat-icon"),t._uU(24,"person"),t.qZA(),t.qZA(),t.TgZ(25,"mat-menu",null,12),t.TgZ(27,"button",13),t.TgZ(28,"mat-icon"),t._uU(29,"manage_accounts"),t.qZA(),t._uU(30," \u0645\u062f\u06cc\u0631\u06cc\u062a \u062d\u0633\u0627\u0628 "),t.qZA(),t.TgZ(31,"button",13),t.TgZ(32,"mat-icon"),t._uU(33,"exit_to_app"),t.qZA(),t._uU(34," \u062e\u0631\u0648\u062c "),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(35,"mat-sidenav-container"),t.TgZ(36,"mat-sidenav",14),t.YNc(37,we,4,0,"h2",15),t.YNc(38,ht,18,13,"div",16),t.qZA(),t.TgZ(39,"mat-sidenav-content"),t.TgZ(40,"app-diagram",17,18),t.NdJ("selectedNode",function(G){return x.selectedNode=G}),t.qZA(),t.qZA(),t.qZA()),2&r){const C=t.MAs(14),G=t.MAs(26);t.xp6(13),t.Q6J("ngModel",x.pipeline.name),t.xp6(2),t.Udp("visibility",C.focused?"":"hidden"),t.xp6(7),t.Q6J("matMenuTriggerFor",G),t.xp6(15),t.Q6J("ngIf",void 0===x.selectedNode),t.xp6(1),t.Q6J("ngIf",void 0!==x.selectedNode),t.xp6(2),t.Q6J("pipeline",x.pipeline)}},directives:[vt.Ye,St.yS,ge.zs,Ze.Hw,ge.lW,de.KE,de.hX,De.Nt,re.Fj,re.JJ,re.On,de.R9,Ue.p6,Ue.VK,Ue.OP,ze.TM,ze.JX,B.O5,ze.Rh,pt,de.bx,B.RF,B.n9,ct,Tt,Zt,wt,ke],styles:["[_nghost-%COMP%]{display:grid;grid-template-rows:auto 1fr;height:100%}.mat-toolbar[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between;z-index:2}.logo-name[_ngcontent-%COMP%]{font-size:20px}.pipeline-info[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:baseline;grid-gap:var(--density-large);gap:var(--density-large);font-size:16px}.pipeline-info[_ngcontent-%COMP%]     .mat-form-field-underline{background-color:transparent}nav[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;grid-gap:var(--density-large);gap:var(--density-large)}.mat-sidenav[_ngcontent-%COMP%]{width:30rem}.no-selected-node[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:center;grid-gap:var(--density-normal);gap:var(--density-normal);padding:var(--density-larger);color:#0000008a}.config-pane[_ngcontent-%COMP%]{display:flex;flex-direction:column;min-height:100%;padding:var(--density-large);padding-top:0;grid-gap:var(--density-larger);gap:var(--density-larger)}.config-pane[_ngcontent-%COMP%]     .wide-field{width:100%}.config-pane[_ngcontent-%COMP%]     .propery-input{direction:ltr;text-align:left}.config-pane[_ngcontent-%COMP%]     .config-title-add{display:flex;flex-direction:row;align-items:baseline;justify-content:space-between}.node-name-input[_ngcontent-%COMP%]{font-size:20px}.node-name-input[_ngcontent-%COMP%]     .mat-form-field-underline{background-color:transparent}.node-type-info[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;grid-gap:var(--density-small);gap:var(--density-small)}"]}),O})();var ot=X(3448);const Ne=[{path:"",component:kt}];let at=(()=>{class O{}return O.\u0275fac=function(r){return new(r||O)},O.\u0275mod=t.oAB({type:O}),O.\u0275inj=t.cJS({providers:[tt],imports:[[B.ez,St.Bz.forChild(Ne),ot.q,re.u5]]}),O})()}}]);