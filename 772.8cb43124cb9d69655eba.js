(self.webpackChunketl=self.webpackChunketl||[]).push([[772],{70:()=>{!function(){"use strict";var oe,X,B,Me,Ye,kt,Le,gt,Oe,Mt,ie,je,Lt,be="leader-line",He={top:1,right:2,bottom:3,left:4},Ht={straight:1,arc:2,fluid:3,magnet:4,grid:5},Pe="behind",_t={disc:{elmId:"leader-line-disc",noRotate:!0,bBox:{left:-5,top:-5,width:10,height:10,right:5,bottom:5},widthR:2.5,heightR:2.5,bCircle:5,sideLen:5,backLen:5,overhead:0,outlineBase:1,outlineMax:4},square:{elmId:"leader-line-square",noRotate:!0,bBox:{left:-5,top:-5,width:10,height:10,right:5,bottom:5},widthR:2.5,heightR:2.5,bCircle:5,sideLen:5,backLen:5,overhead:0,outlineBase:1,outlineMax:4},arrow1:{elmId:"leader-line-arrow1",bBox:{left:-8,top:-8,width:16,height:16,right:8,bottom:8},widthR:4,heightR:4,bCircle:8,sideLen:8,backLen:8,overhead:8,outlineBase:2,outlineMax:1.5},arrow2:{elmId:"leader-line-arrow2",bBox:{left:-7,top:-8,width:11,height:16,right:4,bottom:8},widthR:2.75,heightR:4,bCircle:8,sideLen:8,backLen:7,overhead:4,outlineBase:1,outlineMax:1.75},arrow3:{elmId:"leader-line-arrow3",bBox:{left:-4,top:-5,width:12,height:10,right:8,bottom:5},widthR:3,heightR:2.5,bCircle:8,sideLen:5,backLen:4,overhead:8,outlineBase:1,outlineMax:2.5},hand:{elmId:"leader-line-hand",bBox:{left:-3,top:-12,width:40,height:24,right:37,bottom:12},widthR:10,heightR:6,bCircle:37,sideLen:12,backLen:3,overhead:37},crosshair:{elmId:"leader-line-crosshair",noRotate:!0,bBox:{left:-96,top:-96,width:192,height:192,right:96,bottom:96},widthR:48,heightR:48,bCircle:96,sideLen:96,backLen:96,overhead:0}},Ot={behind:Pe,disc:"disc",square:"square",arrow1:"arrow1",arrow2:"arrow2",arrow3:"arrow3",hand:"hand",crosshair:"crosshair"},yt={disc:"disc",square:"square",arrow1:"arrow1",arrow2:"arrow2",arrow3:"arrow3",hand:"hand",crosshair:"crosshair"},At=[1,2,3,4],Ke="auto",Vt={x:"left",y:"top",width:"width",height:"height"},vt=.5522847,Kt=.25*Math.PI,Bt=/^\s*(\-?[\d\.]+)\s*(\%)?\s*$/,Q="http://www.w3.org/2000/svg",xt="-ms-scroll-limit"in document.documentElement.style&&"-ms-ime-align"in document.documentElement.style&&!window.navigator.msPointerEnabled,De=!xt&&!!document.uniqueID,Ae="MozAppearance"in document.documentElement.style,it=!(xt||Ae||!window.chrome||!window.CSS),_e=!(xt||De||Ae||it||window.chrome||!("WebkitAppearance"in document.documentElement.style)),st=De||xt?.2:.1,Ne={path:3,lineColor:"coral",lineSize:4,plugSE:[Pe,"arrow1"],plugSizeSE:[1,1],lineOutlineEnabled:!1,lineOutlineColor:"indianred",lineOutlineSize:.25,plugOutlineEnabledSE:[!1,!1],plugOutlineSizeSE:[1,1]},Ge=(ie={}.toString,Lt=(je={}.hasOwnProperty.toString).call(Object),function(t){var n,i;return t&&"[object Object]"===ie.call(t)&&(!(n=Object.getPrototypeOf(t))||(i=n.hasOwnProperty("constructor")&&n.constructor)&&"function"==typeof i&&je.call(i)===Lt)}),Te=Number.isFinite||function(t){return"number"==typeof t&&window.isFinite(t)},Se=function(){var t,n={ease:[.25,.1,.25,1],linear:[0,0,1,1],"ease-in":[.42,0,1,1],"ease-out":[0,0,.58,1],"ease-in-out":[.42,0,.58,1]},i=1e3/60/2,o=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame||function(f){setTimeout(f,i)},r=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.msCancelAnimationFrame||function(f){clearTimeout(f)},l=Number.isFinite||function(f){return"number"==typeof f&&window.isFinite(f)},C=[],m=0;function b(){var f=Date.now(),M=!1;t&&(r.call(window,t),t=null),C.forEach(function(d){var p,h,S;if(d.framesStart){if((p=f-d.framesStart)>=d.duration&&d.count&&d.loopsLeft<=1)return S=d.frames[d.lastFrame=d.reverse?0:d.frames.length-1],d.frameCallback(S.value,!0,S.timeRatio,S.outputRatio),void(d.framesStart=null);if(p>d.duration){if(h=Math.floor(p/d.duration),d.count){if(h>=d.loopsLeft)return S=d.frames[d.lastFrame=d.reverse?0:d.frames.length-1],d.frameCallback(S.value,!0,S.timeRatio,S.outputRatio),void(d.framesStart=null);d.loopsLeft-=h}d.framesStart+=d.duration*h,p=f-d.framesStart}d.reverse&&(p=d.duration-p),S=d.frames[d.lastFrame=Math.round(p/i)],!1!==d.frameCallback(S.value,!1,S.timeRatio,S.outputRatio)?M=!0:d.framesStart=null}}),M&&(t=o.call(window,b))}function s(f,M){f.framesStart=Date.now(),null!=M&&(f.framesStart-=f.duration*(f.reverse?1-M:M)),f.loopsLeft=f.count,f.lastFrame=null,b()}return{add:function(f,M,d,p,h,S,k){var T,N,Z,w,g,x,y,V,R,P,u,A,D,J=++m;function j(q,E){return{value:f(E),timeRatio:q,outputRatio:E}}if("string"==typeof h&&(h=n[h]),f=f||function(){},d<i)N=[j(0,0),j(1,1)];else{if(Z=i/d,N=[j(0,0)],0===h[0]&&0===h[1]&&1===h[2]&&1===h[3])for(g=Z;g<=1;g+=Z)N.push(j(g,g));else for(x=w=(g=Z)/10;x<=1;x+=w)P=(R=(V=x)*V)*V,D=3*(u=1-V)*R,g<=(y={x:(A=u*u*3*V)*h[0]+D*h[2]+P,y:A*h[1]+D*h[3]+P}).x&&(N.push(j(y.x,y.y)),g+=Z);N.push(j(1,1))}return C.push(T={animId:J,frameCallback:M,duration:d,count:p,frames:N,reverse:!!S}),!1!==k&&s(T,k),J},remove:function(f){var M;C.some(function(d,p){return d.animId===f&&(M=p,!(d.framesStart=null))})&&C.splice(M,1)},start:function(f,M,d){C.some(function(p){return p.animId===f&&(p.reverse=!!M,s(p,d),!0)})},stop:function(f,M){var d;return C.some(function(p){return p.animId===f&&(M?null!=p.lastFrame&&(d=p.frames[p.lastFrame].timeRatio):(d=(Date.now()-p.framesStart)/p.duration,p.reverse&&(d=1-d),d<0?d=0:1<d&&(d=1)),!(p.framesStart=null))}),d},validTiming:function(f){return"string"==typeof f?n[f]:Array.isArray(f)&&[0,1,2,3].every(function(M){return l(f[M])&&0<=f[M]&&f[M]<=1})?[f[0],f[1],f[2],f[3]]:null}}}(),en=function(t){var n={};function i(o){if(n[o])return n[o].exports;var r=n[o]={i:o,l:!1,exports:{}};return t[o].call(r.exports,r,r.exports,i),r.l=!0,r.exports}return i.m=t,i.c=n,i.d=function(o,r,l){i.o(o,r)||Object.defineProperty(o,r,{configurable:!1,enumerable:!0,get:l})},i.r=function(o){Object.defineProperty(o,"__esModule",{value:!0})},i.n=function(o){var r=o&&o.__esModule?function(){return o.default}:function(){return o};return i.d(r,"a",r),r},i.o=function(o,r){return Object.prototype.hasOwnProperty.call(o,r)},i.p="",i(i.s=0)}([function(t,n,i){i.r(n);var r=[],l=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame||function(d){return setTimeout(d,1e3/60)},C=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.msCancelAnimationFrame||function(d){return clearTimeout(d)},m=void 0,b=Date.now();function s(){var d=void 0,p=void 0;m&&(C.call(window,m),m=null),r.forEach(function(h){h.event&&(h.listener(h.event),h.event=null,d=!0)}),d?(b=Date.now(),p=!0):Date.now()-b<500&&(p=!0),p&&(m=l.call(window,s))}function f(d){var p=-1;return r.some(function(h,S){return h.listener===d&&(p=S,!0)}),p}n.default={add:function(d){var p=void 0;return-1===f(d)?(r.push(p={listener:d}),function(h){p.event=h,m||s()}):null},remove:function(d){var p;-1<(p=f(d))&&(r.splice(p,1),!r.length&&m&&(C.call(window,m),m=null))}}}]).default,Je={line_altColor:{iniValue:!1},line_color:{},line_colorTra:{iniValue:!1},line_strokeWidth:{},plug_enabled:{iniValue:!1},plug_enabledSE:{hasSE:!0,iniValue:!1},plug_plugSE:{hasSE:!0,iniValue:Pe},plug_colorSE:{hasSE:!0},plug_colorTraSE:{hasSE:!0,iniValue:!1},plug_markerWidthSE:{hasSE:!0},plug_markerHeightSE:{hasSE:!0},lineOutline_enabled:{iniValue:!1},lineOutline_color:{},lineOutline_colorTra:{iniValue:!1},lineOutline_strokeWidth:{},lineOutline_inStrokeWidth:{},plugOutline_enabledSE:{hasSE:!0,iniValue:!1},plugOutline_plugSE:{hasSE:!0,iniValue:Pe},plugOutline_colorSE:{hasSE:!0},plugOutline_colorTraSE:{hasSE:!0,iniValue:!1},plugOutline_strokeWidthSE:{hasSE:!0},plugOutline_inStrokeWidthSE:{hasSE:!0},position_socketXYSE:{hasSE:!0,hasProps:!0},position_plugOverheadSE:{hasSE:!0},position_path:{},position_lineStrokeWidth:{},position_socketGravitySE:{hasSE:!0},path_pathData:{},path_edge:{hasProps:!0},viewBox_bBox:{hasProps:!0},viewBox_plugBCircleSE:{hasSE:!0},lineMask_enabled:{iniValue:!1},lineMask_outlineMode:{iniValue:!1},lineMask_x:{},lineMask_y:{},lineOutlineMask_x:{},lineOutlineMask_y:{},maskBGRect_x:{},maskBGRect_y:{},capsMaskAnchor_enabledSE:{hasSE:!0,iniValue:!1},capsMaskAnchor_pathDataSE:{hasSE:!0},capsMaskAnchor_strokeWidthSE:{hasSE:!0},capsMaskMarker_enabled:{iniValue:!1},capsMaskMarker_enabledSE:{hasSE:!0,iniValue:!1},capsMaskMarker_plugSE:{hasSE:!0,iniValue:Pe},capsMaskMarker_markerWidthSE:{hasSE:!0},capsMaskMarker_markerHeightSE:{hasSE:!0},caps_enabled:{iniValue:!1},attach_plugSideLenSE:{hasSE:!0},attach_plugBackLenSE:{hasSE:!0}},Tt={show_on:{},show_effect:{},show_animOptions:{},show_animId:{},show_inAnim:{}},Rt="fade",Zt=[],we={},tn=0,Ce={},nn=0;function $e(t,n){var i,o;return typeof t!=typeof n||(i=Ge(t)?"obj":Array.isArray(t)?"array":"")!=(Ge(n)?"obj":Array.isArray(n)?"array":"")||("obj"===i?$e(o=Object.keys(t).sort(),Object.keys(n).sort())||o.some(function(r){return $e(t[r],n[r])}):"array"===i?t.length!==n.length||t.some(function(r,l){return $e(r,n[l])}):t!==n)}function ke(t){return t&&(Ge(t)?Object.keys(t).reduce(function(n,i){return n[i]=ke(t[i]),n},{}):Array.isArray(t)?t.map(ke):t)}function ut(t){var n,i,o,r=1,l=t=(t+"").trim();function C(m){var b=1,s=Bt.exec(m);return s&&(b=parseFloat(s[1]),s[2]?b=0<=b&&b<=100?b/100:1:(b<0||1<b)&&(b=1)),b}return(n=/^(rgba|hsla|hwb|gray|device\-cmyk)\s*\(([\s\S]+)\)$/i.exec(t))?(i=n[1].toLowerCase(),o=n[2].trim().split(/\s*,\s*/),"rgba"===i&&4===o.length?(r=C(o[3]),l="rgb("+o.slice(0,3).join(", ")+")"):"hsla"===i&&4===o.length?(r=C(o[3]),l="hsl("+o.slice(0,3).join(", ")+")"):"hwb"===i&&4===o.length?(r=C(o[3]),l="hwb("+o.slice(0,3).join(", ")+")"):"gray"===i&&2===o.length?(r=C(o[1]),l="gray("+o[0]+")"):"device-cmyk"===i&&5<=o.length&&(r=C(o[4]),l="device-cmyk("+o.slice(0,4).join(", ")+")")):(n=/^\#(?:([\da-f]{6})([\da-f]{2})|([\da-f]{3})([\da-f]))$/i.exec(t))?n[1]?(r=parseInt(n[2],16)/255,l="#"+n[1]):(r=parseInt(n[4]+n[4],16)/255,l="#"+n[3]):"transparent"===t.toLocaleLowerCase()&&(r=0),[r,l]}function dt(t){return!(!t||t.nodeType!==Node.ELEMENT_NODE||"function"!=typeof t.getBoundingClientRect)}function St(t,n){var i,o,r,l,C={};if(!(r=t.ownerDocument))return console.error("Cannot get document that contains the element."),null;if(t.compareDocumentPosition(r)&Node.DOCUMENT_POSITION_DISCONNECTED)return console.error("A disconnected element was passed."),null;for(o in i=t.getBoundingClientRect())C[o]=i[o];if(!n){if(!(l=r.defaultView))return console.error("Cannot get window that contains the element."),null;C.left+=l.pageXOffset,C.right+=l.pageXOffset,C.top+=l.pageYOffset,C.bottom+=l.pageYOffset}return C}function It(t,n){var i,o,r=[],l=t;for(n=n||window;;){if(!(i=l.ownerDocument))return console.error("Cannot get document that contains the element."),null;if(!(o=i.defaultView))return console.error("Cannot get window that contains the element."),null;if(o===n)break;if(!(l=o.frameElement))return console.error("`baseWindow` was not found."),null;r.unshift(l)}return r}function ct(t,n){var i,o,r=0,l=0;return(o=It(t,n=n||window))?o.length?(o.forEach(function(C,m){var b,s,f=St(C,0<m);r+=f.left,l+=f.top,s=(b=C).ownerDocument.defaultView.getComputedStyle(b,""),f={left:b.clientLeft+parseFloat(s.paddingLeft),top:b.clientTop+parseFloat(s.paddingTop)},r+=f.left,l+=f.top}),(i=St(t,!0)).left+=r,i.right+=r,i.top+=l,i.bottom+=l,i):St(t):null}function Fe(t,n){var i=t.x-n.x,o=t.y-n.y;return Math.sqrt(i*i+o*o)}function pt(t,n,i){var o=n.x-t.x,r=n.y-t.y;return{x:t.x+o*i,y:t.y+r*i,angle:Math.atan2(r,o)/(Math.PI/180)}}function bt(t,n,i){var o=Math.atan2(t.y-n.y,n.x-t.x);return{x:n.x+Math.cos(o)*i,y:n.y+Math.sin(o)*i*-1}}function ot(t,n,i,o,r){var l=r*r,C=l*r,m=1-r,b=m*m,s=b*m,f=s*t.x+3*b*r*n.x+3*m*l*i.x+C*o.x,M=s*t.y+3*b*r*n.y+3*m*l*i.y+C*o.y,d=t.x+2*r*(n.x-t.x)+l*(i.x-2*n.x+t.x),p=t.y+2*r*(n.y-t.y)+l*(i.y-2*n.y+t.y),h=n.x+2*r*(i.x-n.x)+l*(o.x-2*i.x+n.x),S=n.y+2*r*(i.y-n.y)+l*(o.y-2*i.y+n.y),k=m*t.x+r*n.x,T=m*t.y+r*n.y,N=m*i.x+r*o.x,Z=m*i.y+r*o.y,w=90-180*Math.atan2(d-h,p-S)/Math.PI;return{x:f,y:M,fromP2:{x:d,y:p},toP1:{x:h,y:S},fromP1:{x:k,y:T},toP2:{x:N,y:Z},angle:w+=180<w?-180:180}}function ht(t,n,i,o,r){function l(p,h,S,k,T){return p*(p*(-3*h+9*S-9*k+3*T)+6*h-12*S+6*k)-3*h+3*S}var C,m,b,s,M=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],d=0;return C=(r=null==r||1<r?1:r<0?0:r)/2,[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816].forEach(function(p,h){b=l(m=C*p+C,t.x,n.x,i.x,o.x),s=l(m,t.y,n.y,i.y,o.y),d+=M[h]*Math.sqrt(b*b+s*s)}),C*d}function Nt(t,n,i,o,r){for(var l,C=.5,m=1-C;l=ht(t,n,i,o,m),!(Math.abs(l-r)<=.01);)m+=(l<r?1:-1)*(C/=2);return m}function Dt(t,n){var i;return t.forEach(function(o){var r=n?o.map(function(l){var C={x:l.x,y:l.y};return n(C),C}):o;i||(i=[{type:"M",values:[r[0].x,r[0].y]}]),i.push(r.length?2===r.length?{type:"L",values:[r[1].x,r[1].y]}:{type:"C",values:[r[1].x,r[1].y,r[2].x,r[2].y,r[3].x,r[3].y]}:{type:"Z",values:[]})}),i}function Wt(t){var n=[],i=0;return t.forEach(function(o){var r=(2===o.length?Fe:ht).apply(null,o);n.push(r),i+=r}),{segsLen:n,lenAll:i}}function Ct(t,n){return null==t||null==n||t.length!==n.length||t.some(function(i,o){var r=n[o];return i.type!==r.type||i.values.some(function(l,C){return l!==r.values[C]})})}function ye(t,n,i){t.events[n]?t.events[n].indexOf(i)<0&&t.events[n].push(i):t.events[n]=[i]}function ve(t,n,i){var o;t.events[n]&&-1<(o=t.events[n].indexOf(i))&&t.events[n].splice(o,1)}function at(t){Le&&clearTimeout(Le),Zt.push(t),Le=setTimeout(function(){Zt.forEach(function(n){n()}),Zt=[]},0)}function pe(t,n){t.reflowTargets.indexOf(n)<0&&t.reflowTargets.push(n)}function Ut(t){t.reflowTargets.forEach(function(n){var i;i=n,setTimeout(function(){var o=i.parentNode,r=i.nextSibling;o.insertBefore(o.removeChild(i),r)},0)}),t.reflowTargets=[]}function Jt(t,n,i,o,r,l,C){var m,b,s;"auto-start-reverse"===i?("boolean"!=typeof gt&&(n.setAttribute("orient","auto-start-reverse"),gt=n.orientType.baseVal===SVGMarkerElement.SVG_MARKER_ORIENT_UNKNOWN),gt?n.setAttribute("orient",i):((m=r.createSVGTransform()).setRotate(180,0,0),l.transform.baseVal.appendItem(m),n.setAttribute("orient","auto"),s=!0)):(n.setAttribute("orient",i),!1===gt&&l.transform.baseVal.clear()),b=n.viewBox.baseVal,s?(b.x=-o.right,b.y=-o.bottom):(b.x=o.left,b.y=o.top),b.width=o.width,b.height=o.height,De&&pe(t,C)}function Gt(t,n){return{prop:t?"markerEnd":"markerStart",orient:n?n.noRotate?"0":t?"auto":"auto-start-reverse":null}}function Ee(t,n){Object.keys(n).forEach(function(i){var o=n[i];t[i]=null!=o.iniValue?o.hasSE?[o.iniValue,o.iniValue]:o.iniValue:o.hasSE?o.hasProps?[{},{}]:[]:o.hasProps?{}:null})}function F(t,n,i,o,r){return o!==n[i]&&(n[i]=o,r&&r.forEach(function(l){l(t,o,i)}),!0)}function _(t){function n(C,m){return C+parseFloat(m)}var i=t.document,o=t.getComputedStyle(i.documentElement,""),r=t.getComputedStyle(i.body,""),l={x:0,y:0};return"static"!==r.position?(l.x-=[o.marginLeft,o.borderLeftWidth,o.paddingLeft,r.marginLeft,r.borderLeftWidth].reduce(n,0),l.y-=[o.marginTop,o.borderTopWidth,o.paddingTop,r.marginTop,r.borderTopWidth].reduce(n,0)):"static"!==o.position&&(l.x-=[o.marginLeft,o.borderLeftWidth].reduce(n,0),l.y-=[o.marginTop,o.borderTopWidth].reduce(n,0)),l}function I(t){var n,i=t.document;i.getElementById("leader-line-defs")||(n=(new t.DOMParser).parseFromString('<svg xmlns="http://www.w3.org/2000/svg" version="1.1" id="leader-line-defs"><style><![CDATA[.leader-line{position:absolute;overflow:visible!important;pointer-events:none!important;font-size:16px}#leader-line-defs{width:0;height:0;position:absolute;left:0;top:0}.leader-line-line-path{fill:none}.leader-line-mask-bg-rect{fill:#fff}.leader-line-caps-mask-anchor,.leader-line-caps-mask-marker-shape{fill:#000}.leader-line-caps-mask-anchor{stroke:#000}.leader-line-caps-mask-line,.leader-line-plugs-face{stroke:transparent}.leader-line-line-mask-shape{stroke:#fff}.leader-line-line-outline-mask-shape{stroke:#000}.leader-line-plug-mask-shape{fill:#fff;stroke:#000}.leader-line-plug-outline-mask-shape{fill:#000;stroke:#fff}.leader-line-areaAnchor{position:absolute;overflow:visible!important}]]></style><defs><circle id="leader-line-disc" cx="0" cy="0" r="5"/><rect id="leader-line-square" x="-5" y="-5" width="10" height="10"/><polygon id="leader-line-arrow1" points="-8,-8 8,0 -8,8 -5,0"/><polygon id="leader-line-arrow2" points="-4,-8 4,0 -4,8 -7,5 -2,0 -7,-5"/><polygon id="leader-line-arrow3" points="-4,-5 8,0 -4,5"/><g id="leader-line-hand"><path style="fill: #fcfcfc" d="M9.19 11.14h4.75c1.38 0 2.49-1.11 2.49-2.49 0-.51-.15-.98-.41-1.37h1.3c1.38 0 2.49-1.11 2.49-2.49s-1.11-2.53-2.49-2.53h1.02c1.38 0 2.49-1.11 2.49-2.49s-1.11-2.49-2.49-2.49h14.96c1.37 0 2.49-1.11 2.49-2.49s-1.11-2.49-2.49-2.49H16.58C16-9.86 14.28-11.14 9.7-11.14c-4.79 0-6.55 3.42-7.87 4.73H-2.14v13.23h3.68C3.29 9.97 5.47 11.14 9.19 11.14L9.19 11.14Z"/><path style="fill: black" d="M13.95 12c1.85 0 3.35-1.5 3.35-3.35 0-.17-.02-.34-.04-.51h.07c1.85 0 3.35-1.5 3.35-3.35 0-.79-.27-1.51-.72-2.08 1.03-.57 1.74-1.67 1.74-2.93 0-.59-.16-1.15-.43-1.63h12.04c1.85 0 3.35-1.5 3.35-3.35 0-1.85-1.5-3.35-3.35-3.35H17.2C16.26-10.93 13.91-12 9.7-12 5.36-12 3.22-9.4 1.94-7.84c0 0-.29.33-.5.57-.63 0-3.58 0-3.58 0C-2.61-7.27-3-6.88-3-6.41v13.23c0 .47.39.86.86.86 0 0 2.48 0 3.2 0C2.9 10.73 5.29 12 9.19 12L13.95 12ZM9.19 10.28c-3.46 0-5.33-1.05-6.9-3.87-.15-.27-.44-.44-.75-.44 0 0-1.81 0-2.82 0V-5.55c1.06 0 3.11 0 3.11 0 .25 0 .44-.06.61-.25l.83-.95c1.23-1.49 2.91-3.53 6.43-3.53 3.45 0 4.9.74 5.57 1.72h-4.3c-.48 0-.86.38-.86.86s.39.86.86.86h22.34c.9 0 1.63.73 1.63 1.63 0 .9-.73 1.63-1.63 1.63H15.83c-.48 0-.86.38-.86.86 0 .47.39.86.86.86h2.52c.9 0 1.63.73 1.63 1.63s-.73 1.63-1.63 1.63h-3.12c-.48 0-.86.38-.86.86 0 .47.39.86.86.86h2.11c.88 0 1.63.76 1.63 1.67 0 .9-.73 1.63-1.63 1.63h-3.2c-.48 0-.86.39-.86.86 0 .47.39.86.86.86h1.36c.05.16.09.34.09.51 0 .9-.73 1.63-1.63 1.63C13.95 10.28 9.19 10.28 9.19 10.28Z"/></g><g id="leader-line-crosshair"><path d="M0-78.97c-43.54 0-78.97 35.43-78.97 78.97 0 43.54 35.43 78.97 78.97 78.97s78.97-35.43 78.97-78.97C78.97-43.54 43.55-78.97 0-78.97ZM76.51-1.21h-9.91v-9.11h-2.43v9.11h-11.45c-.64-28.12-23.38-50.86-51.5-51.5V-64.17h9.11V-66.6h-9.11v-9.91C42.46-75.86 75.86-42.45 76.51-1.21ZM-1.21-30.76h-9.11v2.43h9.11V-4.2c-1.44.42-2.57 1.54-2.98 2.98H-28.33v-9.11h-2.43v9.11H-50.29C-49.65-28-27.99-49.65-1.21-50.29V-30.76ZM-30.76 1.21v9.11h2.43v-9.11H-4.2c.42 1.44 1.54 2.57 2.98 2.98v24.13h-9.11v2.43h9.11v19.53C-27.99 49.65-49.65 28-50.29 1.21H-30.76ZM1.22 30.75h9.11v-2.43h-9.11V4.2c1.44-.42 2.56-1.54 2.98-2.98h24.13v9.11h2.43v-9.11h19.53C49.65 28 28 49.65 1.22 50.29V30.75ZM30.76-1.21v-9.11h-2.43v9.11H4.2c-.42-1.44-1.54-2.56-2.98-2.98V-28.33h9.11v-2.43h-9.11V-50.29C28-49.65 49.65-28 50.29-1.21H30.76ZM-1.21-76.51v9.91h-9.11v2.43h9.11v11.45c-28.12.64-50.86 23.38-51.5 51.5H-64.17v-9.11H-66.6v9.11h-9.91C-75.86-42.45-42.45-75.86-1.21-76.51ZM-76.51 1.21h9.91v9.11h2.43v-9.11h11.45c.64 28.12 23.38 50.86 51.5 51.5v11.45h-9.11v2.43h9.11v9.91C-42.45 75.86-75.86 42.45-76.51 1.21ZM1.22 76.51v-9.91h9.11v-2.43h-9.11v-11.45c28.12-.64 50.86-23.38 51.5-51.5h11.45v9.11h2.43v-9.11h9.91C75.86 42.45 42.45 75.86 1.22 76.51Z"/><path d="M0 83.58-7.1 96 7.1 96Z"/><path d="M0-83.58 7.1-96-7.1-96"/><path d="M83.58 0 96 7.1 96-7.1Z"/><path d="M-83.58 0-96-7.1-96 7.1Z"/></g></defs></svg>',"image/svg+xml"),i.body.appendChild(n.documentElement),function(t){t.SVGPathElement.prototype.getPathData&&t.SVGPathElement.prototype.setPathData||function(){var n={Z:"Z",M:"M",L:"L",C:"C",Q:"Q",A:"A",H:"H",V:"V",S:"S",T:"T",z:"Z",m:"m",l:"l",c:"c",q:"q",a:"a",h:"h",v:"v",s:"s",t:"t"},i=function(d){this._string=d,this._currentIndex=0,this._endIndex=this._string.length,this._prevCommand=null,this._skipOptionalSpaces()},o=-1!==t.navigator.userAgent.indexOf("MSIE ");i.prototype={parseSegment:function(){var d=this._string[this._currentIndex],p=n[d]?n[d]:null;if(null===p){if(null===this._prevCommand||null===(p=("+"===d||"-"===d||"."===d||"0"<=d&&d<="9")&&"Z"!==this._prevCommand?"M"===this._prevCommand?"L":"m"===this._prevCommand?"l":this._prevCommand:null))return null}else this._currentIndex+=1;var h=null,S=(this._prevCommand=p).toUpperCase();return"H"===S||"V"===S?h=[this._parseNumber()]:"M"===S||"L"===S||"T"===S?h=[this._parseNumber(),this._parseNumber()]:"S"===S||"Q"===S?h=[this._parseNumber(),this._parseNumber(),this._parseNumber(),this._parseNumber()]:"C"===S?h=[this._parseNumber(),this._parseNumber(),this._parseNumber(),this._parseNumber(),this._parseNumber(),this._parseNumber()]:"A"===S?h=[this._parseNumber(),this._parseNumber(),this._parseNumber(),this._parseArcFlag(),this._parseArcFlag(),this._parseNumber(),this._parseNumber()]:"Z"===S&&(this._skipOptionalSpaces(),h=[]),null===h||0<=h.indexOf(null)?null:{type:p,values:h}},hasMoreData:function(){return this._currentIndex<this._endIndex},peekSegmentType:function(){var d=this._string[this._currentIndex];return n[d]?n[d]:null},initialCommandIsMoveTo:function(){if(!this.hasMoreData())return!0;var d=this.peekSegmentType();return"M"===d||"m"===d},_isCurrentSpace:function(){var d=this._string[this._currentIndex];return d<=" "&&(" "===d||"\n"===d||"\t"===d||"\r"===d||"\f"===d)},_skipOptionalSpaces:function(){for(;this._currentIndex<this._endIndex&&this._isCurrentSpace();)this._currentIndex+=1;return this._currentIndex<this._endIndex},_skipOptionalSpacesOrDelimiter:function(){return!(this._currentIndex<this._endIndex&&!this._isCurrentSpace()&&","!==this._string[this._currentIndex])&&(this._skipOptionalSpaces()&&this._currentIndex<this._endIndex&&","===this._string[this._currentIndex]&&(this._currentIndex+=1,this._skipOptionalSpaces()),this._currentIndex<this._endIndex)},_parseNumber:function(){var d=0,p=0,h=1,S=0,k=1,T=1,N=this._currentIndex;if(this._skipOptionalSpaces(),this._currentIndex<this._endIndex&&"+"===this._string[this._currentIndex]?this._currentIndex+=1:this._currentIndex<this._endIndex&&"-"===this._string[this._currentIndex]&&(this._currentIndex+=1,k=-1),this._currentIndex===this._endIndex||(this._string[this._currentIndex]<"0"||"9"<this._string[this._currentIndex])&&"."!==this._string[this._currentIndex])return null;for(var Z=this._currentIndex;this._currentIndex<this._endIndex&&"0"<=this._string[this._currentIndex]&&this._string[this._currentIndex]<="9";)this._currentIndex+=1;if(this._currentIndex!==Z)for(var w=this._currentIndex-1,g=1;Z<=w;)p+=g*(this._string[w]-"0"),w-=1,g*=10;if(this._currentIndex<this._endIndex&&"."===this._string[this._currentIndex]){if(this._currentIndex+=1,this._currentIndex>=this._endIndex||this._string[this._currentIndex]<"0"||"9"<this._string[this._currentIndex])return null;for(;this._currentIndex<this._endIndex&&"0"<=this._string[this._currentIndex]&&this._string[this._currentIndex]<="9";)h*=10,S+=(this._string.charAt(this._currentIndex)-"0")/h,this._currentIndex+=1}if(this._currentIndex!==N&&this._currentIndex+1<this._endIndex&&("e"===this._string[this._currentIndex]||"E"===this._string[this._currentIndex])&&"x"!==this._string[this._currentIndex+1]&&"m"!==this._string[this._currentIndex+1]){if(this._currentIndex+=1,"+"===this._string[this._currentIndex]?this._currentIndex+=1:"-"===this._string[this._currentIndex]&&(this._currentIndex+=1,T=-1),this._currentIndex>=this._endIndex||this._string[this._currentIndex]<"0"||"9"<this._string[this._currentIndex])return null;for(;this._currentIndex<this._endIndex&&"0"<=this._string[this._currentIndex]&&this._string[this._currentIndex]<="9";)d*=10,d+=this._string[this._currentIndex]-"0",this._currentIndex+=1}var x=p+S;return x*=k,d&&(x*=Math.pow(10,T*d)),N===this._currentIndex?null:(this._skipOptionalSpacesOrDelimiter(),x)},_parseArcFlag:function(){if(this._currentIndex>=this._endIndex)return null;var d=null,p=this._string[this._currentIndex];if(this._currentIndex+=1,"0"===p)d=0;else{if("1"!==p)return null;d=1}return this._skipOptionalSpacesOrDelimiter(),d}};var r=function(d){if(!d||0===d.length)return[];var p=new i(d),h=[];if(p.initialCommandIsMoveTo())for(;p.hasMoreData();){var S=p.parseSegment();if(null===S)break;h.push(S)}return h},l=t.SVGPathElement.prototype.setAttribute,C=t.SVGPathElement.prototype.removeAttribute,m=t.Symbol?t.Symbol():"__cachedPathData",b=t.Symbol?t.Symbol():"__cachedNormalizedPathData",s=function(d,p,h,S,k,T,N,Z,w,g){var y,V,R,P,u=function(ce,re,ge){return{x:ce*Math.cos(ge)-re*Math.sin(ge),y:ce*Math.sin(ge)+re*Math.cos(ge)}},A=Math.PI*N/180,D=[];if(g)y=g[0],V=g[1],R=g[2],P=g[3];else{var J=u(d,p,-A);d=J.x,p=J.y;var j=u(h,S,-A),q=(d-(h=j.x))/2,E=(p-(S=j.y))/2,z=q*q/(k*k)+E*E/(T*T);1<z&&(k*=z=Math.sqrt(z),T*=z);var le=k*k,H=T*T,fe=(Z===w?-1:1)*Math.sqrt(Math.abs((le*H-le*E*E-H*q*q)/(le*E*E+H*q*q)));R=fe*k*E/T+(d+h)/2,P=fe*-T*q/k+(p+S)/2,y=Math.asin(parseFloat(((p-P)/T).toFixed(9))),V=Math.asin(parseFloat(((S-P)/T).toFixed(9))),d<R&&(y=Math.PI-y),h<R&&(V=Math.PI-V),y<0&&(y=2*Math.PI+y),V<0&&(V=2*Math.PI+V),w&&V<y&&(y-=2*Math.PI),!w&&y<V&&(V-=2*Math.PI)}var se=V-y;if(Math.abs(se)>120*Math.PI/180){var Ze=V,wt=h,ee=S;V=w&&y<V?y+120*Math.PI/180*1:y+120*Math.PI/180*-1,h=R+k*Math.cos(V),S=P+T*Math.sin(V),D=s(h,S,wt,ee,k,T,N,0,w,[V,Ze,R,P])}se=V-y;var G=Math.cos(y),W=Math.sin(y),te=Math.cos(V),U=Math.sin(V),ne=Math.tan(se/4),xe=4/3*k*ne,de=4/3*T*ne,Be=[d,p],Re=[d+xe*W,p-de*G],et=[h+xe*U,S-de*te],ue=[h,S];if(Re[0]=2*Be[0]-Re[0],Re[1]=2*Be[1]-Re[1],g)return[Re,et,ue].concat(D);D=[Re,et,ue].concat(D).join().split(",");var O=[],Y=[];return D.forEach(function(ce,re){Y.push(re%2?u(D[re-1],D[re],A).y:u(D[re],D[re+1],A).x),6===Y.length&&(O.push(Y),Y=[])}),O},f=function(d){return d.map(function(p){return{type:p.type,values:Array.prototype.slice.call(p.values)}})},M=function(d){var p=[],h=null,S=null,k=null,T=null,N=null,Z=null,w=null;return d.forEach(function(g){if("M"===g.type){var x=g.values[0],y=g.values[1];p.push({type:"M",values:[x,y]}),T=Z=x,N=w=y}else if("C"===g.type){var V=g.values[0],R=g.values[1],P=g.values[2],u=g.values[3];p.push({type:"C",values:[V,R,P,u,x=g.values[4],y=g.values[5]]}),S=P,k=u,T=x,N=y}else if("L"===g.type)p.push({type:"L",values:[x=g.values[0],y=g.values[1]]}),T=x,N=y;else if("H"===g.type)p.push({type:"L",values:[x=g.values[0],N]}),T=x;else if("V"===g.type)p.push({type:"L",values:[T,y=g.values[0]]}),N=y;else if("S"===g.type)"C"===h||"S"===h?(A=T+(T-S),D=N+(N-k)):(A=T,D=N),p.push({type:"C",values:[A,D,P=g.values[0],u=g.values[1],x=g.values[2],y=g.values[3]]}),S=P,k=u,T=x,N=y;else if("T"===g.type){"Q"===h||"T"===h?(V=T+(T-S),R=N+(N-k)):(V=T,R=N);var A=T+2*(V-T)/3,D=N+2*(R-N)/3,J=(x=g.values[0])+2*(V-x)/3,j=(y=g.values[1])+2*(R-y)/3;p.push({type:"C",values:[A,D,J,j,x,y]}),S=V,k=R,T=x,N=y}else if("Q"===g.type)p.push({type:"C",values:[A=T+2*((V=g.values[0])-T)/3,D=N+2*((R=g.values[1])-N)/3,J=(x=g.values[2])+2*(V-x)/3,j=(y=g.values[3])+2*(R-y)/3,x,y]}),S=V,k=R,T=x,N=y;else if("A"===g.type){var q=g.values[0],E=g.values[1],z=g.values[2],le=g.values[3],H=g.values[4];x=g.values[5],y=g.values[6],0===q||0===E?(p.push({type:"C",values:[T,N,x,y,x,y]}),T=x,N=y):(T!==x||N!==y)&&s(T,N,x,y,q,E,z,le,H).forEach(function($){p.push({type:"C",values:$}),T=x,N=y})}else"Z"===g.type&&(p.push(g),T=Z,N=w);h=g.type}),p};t.SVGPathElement.prototype.setAttribute=function(d,p){"d"===d&&(this[m]=null,this[b]=null),l.call(this,d,p)},t.SVGPathElement.prototype.removeAttribute=function(d,p){"d"===d&&(this[m]=null,this[b]=null),C.call(this,d)},t.SVGPathElement.prototype.getPathData=function(d){if(d&&d.normalize){if(this[b])return f(this[b]);this[m]?Z=f(this[m]):(Z=r(this.getAttribute("d")||""),this[m]=f(Z));var p=M((h=[],N=T=k=S=null,Z.forEach(function(w){var g=w.type;if("M"===g){var x=w.values[0],y=w.values[1];h.push({type:"M",values:[x,y]}),S=T=x,k=N=y}else if("m"===g)h.push({type:"M",values:[x=S+w.values[0],y=k+w.values[1]]}),S=T=x,k=N=y;else if("L"===g)h.push({type:"L",values:[x=w.values[0],y=w.values[1]]}),S=x,k=y;else if("l"===g)h.push({type:"L",values:[x=S+w.values[0],y=k+w.values[1]]}),S=x,k=y;else if("C"===g){var V=w.values[0],R=w.values[1],P=w.values[2],u=w.values[3];h.push({type:"C",values:[V,R,P,u,x=w.values[4],y=w.values[5]]}),S=x,k=y}else"c"===g?(h.push({type:"C",values:[V=S+w.values[0],R=k+w.values[1],P=S+w.values[2],u=k+w.values[3],x=S+w.values[4],y=k+w.values[5]]}),S=x,k=y):"Q"===g?(h.push({type:"Q",values:[V=w.values[0],R=w.values[1],x=w.values[2],y=w.values[3]]}),S=x,k=y):"q"===g?(h.push({type:"Q",values:[V=S+w.values[0],R=k+w.values[1],x=S+w.values[2],y=k+w.values[3]]}),S=x,k=y):"A"===g?(h.push({type:"A",values:[w.values[0],w.values[1],w.values[2],w.values[3],w.values[4],x=w.values[5],y=w.values[6]]}),S=x,k=y):"a"===g?(h.push({type:"A",values:[w.values[0],w.values[1],w.values[2],w.values[3],w.values[4],x=S+w.values[5],y=k+w.values[6]]}),S=x,k=y):"H"===g?(h.push({type:"H",values:[x=w.values[0]]}),S=x):"h"===g?(h.push({type:"H",values:[x=S+w.values[0]]}),S=x):"V"===g?(h.push({type:"V",values:[y=w.values[0]]}),k=y):"v"===g?(h.push({type:"V",values:[y=k+w.values[0]]}),k=y):"S"===g?(h.push({type:"S",values:[P=w.values[0],u=w.values[1],x=w.values[2],y=w.values[3]]}),S=x,k=y):"s"===g?(h.push({type:"S",values:[P=S+w.values[0],u=k+w.values[1],x=S+w.values[2],y=k+w.values[3]]}),S=x,k=y):"T"===g?(h.push({type:"T",values:[x=w.values[0],y=w.values[1]]}),S=x,k=y):"t"===g?(h.push({type:"T",values:[x=S+w.values[0],y=k+w.values[1]]}),S=x,k=y):"Z"!==g&&"z"!==g||(h.push({type:"Z",values:[]}),S=T,k=N)}),h));return this[b]=f(p),p}if(this[m])return f(this[m]);var h,S,k,T,N,Z=r(this.getAttribute("d")||"");return this[m]=f(Z),Z},t.SVGPathElement.prototype.setPathData=function(d){if(0===d.length)o?this.setAttribute("d",""):this.removeAttribute("d");else{for(var p="",h=0,S=d.length;h<S;h+=1){var k=d[h];0<h&&(p+=" "),p+=k.type,k.values&&0<k.values.length&&(p+=" "+k.values.join(" "))}this.setAttribute("d",p)}},t.SVGRectElement.prototype.getPathData=function(d){var p=this.x.baseVal.value,h=this.y.baseVal.value,S=this.width.baseVal.value,k=this.height.baseVal.value,T=this.hasAttribute("rx")?this.rx.baseVal.value:this.ry.baseVal.value,N=this.hasAttribute("ry")?this.ry.baseVal.value:this.rx.baseVal.value;S/2<T&&(T=S/2),k/2<N&&(N=k/2);var Z=[{type:"M",values:[p+T,h]},{type:"H",values:[p+S-T]},{type:"A",values:[T,N,0,0,1,p+S,h+N]},{type:"V",values:[h+k-N]},{type:"A",values:[T,N,0,0,1,p+S-T,h+k]},{type:"H",values:[p+T]},{type:"A",values:[T,N,0,0,1,p,h+k-N]},{type:"V",values:[h+N]},{type:"A",values:[T,N,0,0,1,p+T,h]},{type:"Z",values:[]}];return Z=Z.filter(function(w){return"A"!==w.type||0!==w.values[0]&&0!==w.values[1]}),d&&!0===d.normalize&&(Z=M(Z)),Z},t.SVGCircleElement.prototype.getPathData=function(d){var p=this.cx.baseVal.value,h=this.cy.baseVal.value,S=this.r.baseVal.value,k=[{type:"M",values:[p+S,h]},{type:"A",values:[S,S,0,0,1,p,h+S]},{type:"A",values:[S,S,0,0,1,p-S,h]},{type:"A",values:[S,S,0,0,1,p,h-S]},{type:"A",values:[S,S,0,0,1,p+S,h]},{type:"Z",values:[]}];return d&&!0===d.normalize&&(k=M(k)),k},t.SVGEllipseElement.prototype.getPathData=function(d){var p=this.cx.baseVal.value,h=this.cy.baseVal.value,S=this.rx.baseVal.value,k=this.ry.baseVal.value,T=[{type:"M",values:[p+S,h]},{type:"A",values:[S,k,0,0,1,p,h+k]},{type:"A",values:[S,k,0,0,1,p-S,h]},{type:"A",values:[S,k,0,0,1,p,h-k]},{type:"A",values:[S,k,0,0,1,p+S,h]},{type:"Z",values:[]}];return d&&!0===d.normalize&&(T=M(T)),T},t.SVGLineElement.prototype.getPathData=function(){return[{type:"M",values:[this.x1.baseVal.value,this.y1.baseVal.value]},{type:"L",values:[this.x2.baseVal.value,this.y2.baseVal.value]}]},t.SVGPolylineElement.prototype.getPathData=function(){for(var d=[],p=0;p<this.points.numberOfItems;p+=1){var h=this.points.getItem(p);d.push({type:0===p?"M":"L",values:[h.x,h.y]})}return d},t.SVGPolygonElement.prototype.getPathData=function(){for(var d=[],p=0;p<this.points.numberOfItems;p+=1){var h=this.points.getItem(p);d.push({type:0===p?"M":"L",values:[h.x,h.y]})}return d.push({type:"Z",values:[]}),d}}()}(t))}function c(t,n){n!==t.isShown&&(!!n!=!!t.isShown&&(t.svg.style.visibility=n?"":"hidden"),t.isShown=n,t.events&&t.events.svgShow&&t.events.svgShow.forEach(function(i){i(t,n)}))}function v(t,n){var i,o,r,l,C,m,b,s,f,M,d,p,h,S,k,T,N,Z,w,g,x,y,V,R,P,u,A,D,J,j,q,E,z,le,H,$,fe,se,Ze,wt,ee,G,W,te,U,ne,xe,de,Be,Re,et,ue={};n.line&&(ue.line=(o=(i=t).options,C=!1,C=F(i,r=i.curStats,"line_color",o.lineColor,(l=i.events).cur_line_color)||C,C=F(i,r,"line_colorTra",ut(r.line_color)[0]<1)||C,C=F(i,r,"line_strokeWidth",o.lineSize,l.cur_line_strokeWidth)||C)),(n.plug||ue.line)&&(ue.plug=(b=(m=t).options,s=m.curStats,f=m.events,M=!1,[0,1].forEach(function(O){var Y,ce,re,ge,ze,on,an,ft,Pt=b.plugSE[O];M=F(m,s.plug_enabledSE,O,Pt!==Pe)||M,M=F(m,s.plug_plugSE,O,Pt)||M,M=F(m,s.plug_colorSE,O,ft=b.plugColorSE[O]||s.line_color,f.cur_plug_colorSE)||M,M=F(m,s.plug_colorTraSE,O,ut(ft)[0]<1)||M,Pt!==Pe&&(ge=ce=(Y=_t[yt[Pt]]).widthR*b.plugSizeSE[O],ze=re=Y.heightR*b.plugSizeSE[O],_e&&(ge*=s.line_strokeWidth,ze*=s.line_strokeWidth),M=F(m,s.plug_markerWidthSE,O,ge)||M,M=F(m,s.plug_markerHeightSE,O,ze)||M,s.capsMaskMarker_markerWidthSE[O]=ce,s.capsMaskMarker_markerHeightSE[O]=re),s.plugOutline_plugSE[O]=s.capsMaskMarker_plugSE[O]=Pt,s.plug_enabledSE[O]?(s.position_plugOverheadSE[O]=Y.overhead*(ft=s.line_strokeWidth/Ne.lineSize*b.plugSizeSE[O]),s.viewBox_plugBCircleSE[O]=Y.bCircle*ft,on=Y.sideLen*ft,an=Y.backLen*ft):(s.position_plugOverheadSE[O]=-s.line_strokeWidth/2,s.viewBox_plugBCircleSE[O]=on=an=0),F(m,s.attach_plugSideLenSE,O,on,f.cur_attach_plugSideLenSE),F(m,s.attach_plugBackLenSE,O,an,f.cur_attach_plugBackLenSE),s.capsMaskAnchor_enabledSE[O]=!s.plug_enabledSE[O]}),M=F(m,s,"plug_enabled",s.plug_enabledSE[0]||s.plug_enabledSE[1])||M)),(n.lineOutline||ue.line)&&(ue.lineOutline=(h=(d=t).options,k=!1,k=F(d,S=d.curStats,"lineOutline_enabled",h.lineOutlineEnabled)||k,k=F(d,S,"lineOutline_color",h.lineOutlineColor)||k,k=F(d,S,"lineOutline_colorTra",ut(S.lineOutline_color)[0]<1)||k,k=F(d,S,"lineOutline_strokeWidth",S.line_strokeWidth-2*(p=S.line_strokeWidth*h.lineOutlineSize))||k,k=F(d,S,"lineOutline_inStrokeWidth",S.lineOutline_colorTra?S.lineOutline_strokeWidth+2*st:S.line_strokeWidth-p)||k)),(n.plugOutline||ue.line||ue.plug||ue.lineOutline)&&(ue.plugOutline=(N=(T=t).options,Z=T.curStats,w=!1,[0,1].forEach(function(O){var Y,ce=Z.plugOutline_plugSE[O],re=ce!==Pe?_t[yt[ce]]:null;w=F(T,Z.plugOutline_enabledSE,O,N.plugOutlineEnabledSE[O]&&Z.plug_enabled&&Z.plug_enabledSE[O]&&!!re&&!!re.outlineBase)||w,w=F(T,Z.plugOutline_colorSE,O,Y=N.plugOutlineColorSE[O]||Z.lineOutline_color)||w,w=F(T,Z.plugOutline_colorTraSE,O,ut(Y)[0]<1)||w,re&&re.outlineBase&&((Y=N.plugOutlineSizeSE[O])>re.outlineMax&&(Y=re.outlineMax),w=F(T,Z.plugOutline_strokeWidthSE,O,Y*=2*re.outlineBase)||w,w=F(T,Z.plugOutline_inStrokeWidthSE,O,Z.plugOutline_colorTraSE[O]?Y-st/(Z.line_strokeWidth/Ne.lineSize)/N.plugSizeSE[O]*2:Y/2)||w)}),w)),(n.faces||ue.line||ue.plug||ue.lineOutline||ue.plugOutline)&&(ue.faces=(y=(g=t).curStats,V=g.aplStats,R=g.events,P=!1,!y.line_altColor&&F(g,V,"line_color",x=y.line_color,R.apl_line_color)&&(g.lineFace.style.stroke=x,P=!0),F(g,V,"line_strokeWidth",x=y.line_strokeWidth,R.apl_line_strokeWidth)&&(g.lineShape.style.strokeWidth=x+"px",P=!0,(Ae||De)&&(pe(g,g.lineShape),De&&(pe(g,g.lineFace),pe(g,g.lineMaskCaps)))),F(g,V,"lineOutline_enabled",x=y.lineOutline_enabled,R.apl_lineOutline_enabled)&&(g.lineOutlineFace.style.display=x?"inline":"none",P=!0),y.lineOutline_enabled&&(F(g,V,"lineOutline_color",x=y.lineOutline_color,R.apl_lineOutline_color)&&(g.lineOutlineFace.style.stroke=x,P=!0),F(g,V,"lineOutline_strokeWidth",x=y.lineOutline_strokeWidth,R.apl_lineOutline_strokeWidth)&&(g.lineOutlineMaskShape.style.strokeWidth=x+"px",P=!0,De&&(pe(g,g.lineOutlineMaskCaps),pe(g,g.lineOutlineFace))),F(g,V,"lineOutline_inStrokeWidth",x=y.lineOutline_inStrokeWidth,R.apl_lineOutline_inStrokeWidth)&&(g.lineMaskShape.style.strokeWidth=x+"px",P=!0,De&&(pe(g,g.lineOutlineMaskCaps),pe(g,g.lineOutlineFace)))),F(g,V,"plug_enabled",x=y.plug_enabled,R.apl_plug_enabled)&&(g.plugsFace.style.display=x?"inline":"none",P=!0),y.plug_enabled&&[0,1].forEach(function(O){var Y=y.plug_plugSE[O],ce=Y!==Pe?_t[yt[Y]]:null,re=Gt(O,ce);F(g,V.plug_enabledSE,O,x=y.plug_enabledSE[O],R.apl_plug_enabledSE)&&(g.plugsFace.style[re.prop]=x?"url(#"+g.plugMarkerIdSE[O]+")":"none",P=!0),y.plug_enabledSE[O]&&(F(g,V.plug_plugSE,O,Y,R.apl_plug_plugSE)&&(g.plugFaceSE[O].href.baseVal="#"+ce.elmId,Jt(g,g.plugMarkerSE[O],re.orient,ce.bBox,g.svg,g.plugMarkerShapeSE[O],g.plugsFace),P=!0,Ae&&pe(g,g.plugsFace)),F(g,V.plug_colorSE,O,x=y.plug_colorSE[O],R.apl_plug_colorSE)&&(g.plugFaceSE[O].style.fill=x,P=!0,(it||_e||De)&&!y.line_colorTra&&pe(g,De?g.lineMaskCaps:g.capsMaskLine)),["markerWidth","markerHeight"].forEach(function(ge){var ze="plug_"+ge+"SE";F(g,V[ze],O,x=y[ze][O],R["apl_"+ze])&&(g.plugMarkerSE[O][ge].baseVal.value=x,P=!0)}),F(g,V.plugOutline_enabledSE,O,x=y.plugOutline_enabledSE[O],R.apl_plugOutline_enabledSE)&&(x?(g.plugFaceSE[O].style.mask="url(#"+g.plugMaskIdSE[O]+")",g.plugOutlineFaceSE[O].style.display="inline"):(g.plugFaceSE[O].style.mask="none",g.plugOutlineFaceSE[O].style.display="none"),P=!0),y.plugOutline_enabledSE[O]&&(F(g,V.plugOutline_plugSE,O,Y,R.apl_plugOutline_plugSE)&&(g.plugOutlineFaceSE[O].href.baseVal=g.plugMaskShapeSE[O].href.baseVal=g.plugOutlineMaskShapeSE[O].href.baseVal="#"+ce.elmId,[g.plugMaskSE[O],g.plugOutlineMaskSE[O]].forEach(function(ge){ge.x.baseVal.value=ce.bBox.left,ge.y.baseVal.value=ce.bBox.top,ge.width.baseVal.value=ce.bBox.width,ge.height.baseVal.value=ce.bBox.height}),P=!0),F(g,V.plugOutline_colorSE,O,x=y.plugOutline_colorSE[O],R.apl_plugOutline_colorSE)&&(g.plugOutlineFaceSE[O].style.fill=x,P=!0,De&&(pe(g,g.lineMaskCaps),pe(g,g.lineOutlineMaskCaps))),F(g,V.plugOutline_strokeWidthSE,O,x=y.plugOutline_strokeWidthSE[O],R.apl_plugOutline_strokeWidthSE)&&(g.plugOutlineMaskShapeSE[O].style.strokeWidth=x+"px",P=!0),F(g,V.plugOutline_inStrokeWidthSE,O,x=y.plugOutline_inStrokeWidthSE[O],R.apl_plugOutline_inStrokeWidthSE)&&(g.plugMaskShapeSE[O].style.strokeWidth=x+"px",P=!0)))}),P)),(n.position||ue.line||ue.plug)&&(ue.position=function(t){var n,i,o,r,l,C,m,b,s,f,M,p,h,S,k,T,N,Z,w=t.options,g=t.curStats,x=t.aplStats,y=g.position_socketXYSE,V=!1;function R(u,A){var D=1===A?{x:u.left+u.width/2,y:u.top}:2===A?{x:u.right,y:u.top+u.height/2}:3===A?{x:u.left+u.width/2,y:u.bottom}:{x:u.left,y:u.top+u.height/2};return D.socketId=A,D}function P(u){return{x:u.x,y:u.y}}if(g.position_path=w.path,g.position_lineStrokeWidth=g.line_strokeWidth,g.position_socketGravitySE=n=ke(w.socketGravitySE),i=[0,1].map(function(u){var A,D,J,j=w.anchorSE[u],q=t.optionIsAttach.anchorSE[u],E=!1!==q?Ce[j._id]:null,z=!1!==q&&E.conf.getStrokeWidth?E.conf.getStrokeWidth(E,t):0,le=!1!==q&&E.conf.getBBoxNest?E.conf.getBBoxNest(E,t,z):ct(j,t.baseWindow);return g.capsMaskAnchor_pathDataSE[u]=!1!==q&&E.conf.getPathData?E.conf.getPathData(E,t,z):(D=null!=(A=le).right?A.right:A.left+A.width,[{type:"M",values:[A.left,A.top]},{type:"L",values:[D,A.top]},{type:"L",values:[D,J=null!=A.bottom?A.bottom:A.top+A.height]},{type:"L",values:[A.left,J]},{type:"Z",values:[]}]),g.capsMaskAnchor_strokeWidthSE[u]=z,le}),m=-1,w.socketSE[0]&&w.socketSE[1]?(y[0]=R(i[0],w.socketSE[0]),y[1]=R(i[1],w.socketSE[1])):(w.socketSE[0]||w.socketSE[1]?(w.socketSE[0]?(l=0,C=1):(l=1,C=0),y[l]=R(i[l],w.socketSE[l]),(r=At.map(function(u){return R(i[C],u)})).forEach(function(u){var A=Fe(u,y[l]);(A<m||-1===m)&&(y[C]=u,m=A)})):(r=At.map(function(u){return R(i[1],u)}),At.map(function(u){return R(i[0],u)}).forEach(function(u){r.forEach(function(A){var D=Fe(u,A);(D<m||-1===m)&&(y[0]=u,y[1]=A,m=D)})})),[0,1].forEach(function(u){var A,D;w.socketSE[u]||(i[u].width||i[u].height?i[u].width||4!==y[u].socketId&&2!==y[u].socketId?i[u].height||1!==y[u].socketId&&3!==y[u].socketId||(y[u].socketId=0<=y[u?0:1].y-i[u].top?3:1):y[u].socketId=0<=y[u?0:1].x-i[u].left?2:4:(A=y[u?0:1].x-i[u].left,D=y[u?0:1].y-i[u].top,y[u].socketId=Math.abs(A)>=Math.abs(D)?0<=A?2:4:0<=D?3:1))})),g.position_path!==x.position_path||g.position_lineStrokeWidth!==x.position_lineStrokeWidth||[0,1].some(function(u){return g.position_plugOverheadSE[u]!==x.position_plugOverheadSE[u]||(j=y[u]).x!==(q=x.position_socketXYSE[u]).x||j.y!==q.y||j.socketId!==q.socketId||(D=x.position_socketGravitySE[u],(J=null==(A=n[u])?"auto":Array.isArray(A)?"array":"number")!=(null==D?"auto":Array.isArray(D)?"array":"number")||("array"===J?A[0]!==D[0]||A[1]!==D[1]:A!==D));var A,D,J,j,q})){switch(t.pathList.baseVal=o=[],t.pathList.animVal=null,g.position_path){case 1:o.push([P(y[0]),P(y[1])]);break;case 2:p=Kt*("number"==typeof n[0]&&0<n[0]||"number"==typeof n[1]&&0<n[1]?-1:1),S=-(h=Math.atan2(y[1].y-y[0].y,y[1].x-y[0].x))+p,k=Math.PI-h-p,T=Fe(y[0],y[1])/Math.sqrt(2)*vt,N={x:y[0].x+Math.cos(S)*T,y:y[0].y+Math.sin(S)*T*-1},Z={x:y[1].x+Math.cos(k)*T,y:y[1].y+Math.sin(k)*T*-1},o.push([P(y[0]),N,Z,P(y[1])]);break;case 3:case 4:s=[n[0],4===g.position_path?0:n[1]],f=[],M=[],y.forEach(function(u,A){var D,J,j,q,E,z=s[A];Array.isArray(z)?D={x:z[0],y:z[1]}:"number"==typeof z?D=1===u.socketId?{x:0,y:-z}:2===u.socketId?{x:z,y:0}:3===u.socketId?{x:0,y:z}:{x:-z,y:0}:(J=y[A?0:1],q=0<(j=g.position_plugOverheadSE[A])?120+(8<j?3.75*(j-8):0):80+(g.position_lineStrokeWidth>4?5*(g.position_lineStrokeWidth-4):0),1===u.socketId?((E=(u.y-J.y)/2)<q&&(E=q),D={x:0,y:-E}):2===u.socketId?((E=(J.x-u.x)/2)<q&&(E=q),D={x:E,y:0}):3===u.socketId?((E=(J.y-u.y)/2)<q&&(E=q),D={x:0,y:E}):((E=(u.x-J.x)/2)<q&&(E=q),D={x:-E,y:0})),f[A]=u.x+D.x,M[A]=u.y+D.y}),o.push([P(y[0]),{x:f[0],y:M[0]},{x:f[1],y:M[1]},P(y[1])]);break;case 5:!function(){var u,q=[[],[]],E=[];function z(ee){return 1===ee?3:2===ee?4:3===ee?1:2}function le(ee){return 2===ee||4===ee?"x":"y"}function H(ee,G,W){var te={x:ee.x,y:ee.y};if(W){if(W===z(ee.dirId))throw new Error("Invalid dirId: "+W);te.dirId=W}else te.dirId=ee.dirId;return 1===te.dirId?te.y-=G:2===te.dirId?te.x+=G:3===te.dirId?te.y+=G:te.x-=G,te}function $(ee,G){return 1===G.dirId?ee.y<=G.y:2===G.dirId?ee.x>=G.x:3===G.dirId?ee.y>=G.y:ee.x<=G.x}function he(ee,G){return 1===G.dirId||3===G.dirId?ee.x===G.x:ee.y===G.y}function fe(ee){return ee[0]?{contain:0,notContain:1}:{contain:1,notContain:0}}function se(ee,G,W){return Math.abs(G[W]-ee[W])}function Ze(ee,G,W){return"x"===W?ee.x<G.x?2:4:ee.y<G.y?3:1}function wt(){var ee,G,W,te,U=[$(E[1],E[0]),$(E[0],E[1])],ne=[le(E[0].dirId),le(E[1].dirId)];if(ne[0]===ne[1]){if(U[0]&&U[1])return he(E[1],E[0])||(E[0][ne[0]]===E[1][ne[1]]?(q[0].push(E[0]),q[1].push(E[1])):(ee=E[0][ne[0]]+(E[1][ne[1]]-E[0][ne[0]])/2,q[0].push(H(E[0],Math.abs(ee-E[0][ne[0]]))),q[1].push(H(E[1],Math.abs(ee-E[1][ne[1]]))))),!1;U[0]!==U[1]?(G=fe(U),(W=se(E[G.notContain],E[G.contain],ne[G.notContain]))<30&&(E[G.notContain]=H(E[G.notContain],30-W)),q[G.notContain].push(E[G.notContain]),E[G.notContain]=H(E[G.notContain],30,he(E[G.contain],E[G.notContain])?"x"===ne[G.notContain]?3:2:Ze(E[G.notContain],E[G.contain],"x"===ne[G.notContain]?"y":"x"))):(W=se(E[0],E[1],"x"===ne[0]?"y":"x"),q.forEach(function(xe,de){var Be=0===de?1:0;xe.push(E[de]),E[de]=H(E[de],30,60<=W?Ze(E[de],E[Be],"x"===ne[de]?"y":"x"):"x"===ne[de]?3:2)}))}else{if(U[0]&&U[1])return he(E[1],E[0])?q[1].push(E[1]):he(E[0],E[1])?q[0].push(E[0]):q[0].push("x"===ne[0]?{x:E[1].x,y:E[0].y}:{x:E[0].x,y:E[1].y}),!1;U[0]!==U[1]?(G=fe(U),q[G.notContain].push(E[G.notContain]),E[G.notContain]=H(E[G.notContain],30,se(E[G.notContain],E[G.contain],ne[G.contain])>=30?Ze(E[G.notContain],E[G.contain],ne[G.contain]):E[G.contain].dirId)):(te=[{x:E[0].x,y:E[0].y},{x:E[1].x,y:E[1].y}],q.forEach(function(xe,de){var Be=0===de?1:0,Re=se(te[de],te[Be],ne[de]);Re<30&&(E[de]=H(E[de],30-Re)),xe.push(E[de]),E[de]=H(E[de],30,Ze(E[de],E[Be],ne[Be]))}))}return!0}for(y.forEach(function(ee,G){var W,te=P(ee),U=n[G];W=Array.isArray(U)?U[0]<0?[4,-U[0]]:0<U[0]?[2,U[0]]:U[1]<0?[1,-U[1]]:0<U[1]?[3,U[1]]:[ee.socketId,0]:"number"!=typeof U?[ee.socketId,30]:0<=U?[ee.socketId,U]:[z(ee.socketId),-U],te.dirId=W[0],U=W[1],q[G].push(te),E[G]=H(te,U)});wt(););q[1].reverse(),q[0].concat(q[1]).forEach(function(ee,G){var W={x:ee.x,y:ee.y};0<G&&o.push([u,W]),u=W})}()}b=[],g.position_plugOverheadSE.forEach(function(u,A){var D,J,j,q,E,z,le,H,$,he,fe,se=!A;0<u?2===(D=o[J=se?0:o.length-1]).length?(b[J]=b[J]||Fe.apply(null,D),b[J]>10&&(b[J]-u<10&&(u=b[J]-10),j=pt(D[0],D[1],(se?u:b[J]-u)/b[J]),o[J]=se?[j,D[1]]:[D[0],j],b[J]-=u)):(b[J]=b[J]||ht.apply(null,D),b[J]>10&&(b[J]-u<10&&(u=b[J]-10),j=ot(D[0],D[1],D[2],D[3],Nt(D[0],D[1],D[2],D[3],se?u:b[J]-u)),se?(q=D[0],E=j.toP1):(q=D[3],E=j.fromP2),z=Math.atan2(q.y-j.y,j.x-q.x),le=Fe(j,E),j.x=q.x+Math.cos(z)*u,j.y=q.y+Math.sin(z)*u*-1,E.x=j.x+Math.cos(z)*le,E.y=j.y+Math.sin(z)*le*-1,o[J]=se?[j,j.toP1,j.toP2,D[3]]:[D[0],j.fromP1,j.fromP2,j],b[J]=null)):u<0&&(D=o[J=se?0:o.length-1],u<(fe=-i[A]["x"==($=4===(H=y[A].socketId)||2===H?"x":"y")?"width":"height"])&&(u=fe),he=u*(4===H||1===H?-1:1),2===D.length?D[se?0:D.length-1][$]+=he:(se?[0,1]:[D.length-2,D.length-1]).forEach(function(Ze){D[Ze][$]+=he}),b[J]=null)}),x.position_socketXYSE=ke(y),x.position_plugOverheadSE=ke(g.position_plugOverheadSE),x.position_path=g.position_path,x.position_lineStrokeWidth=g.position_lineStrokeWidth,x.position_socketGravitySE=ke(n),V=!0,t.events.apl_position&&t.events.apl_position.forEach(function(u){u(t,o)})}return V}(t)),(n.path||ue.position)&&(ue.path=(D=(u=t).curStats,J=u.aplStats,q=D.path_edge,E=!1,(j=u.pathList.animVal||u.pathList.baseVal)&&(q.x1=q.x2=j[0][0].x,q.y1=q.y2=j[0][0].y,D.path_pathData=A=Dt(j,function(O){O.x<q.x1&&(q.x1=O.x),O.y<q.y1&&(q.y1=O.y),O.x>q.x2&&(q.x2=O.x),O.y>q.y2&&(q.y2=O.y)}),Ct(A,J.path_pathData)&&(u.linePath.setPathData(A),J.path_pathData=A,E=!0,De?(pe(u,u.plugsFace),pe(u,u.lineMaskCaps)):Ae&&pe(u,u.linePath),u.events.apl_path&&u.events.apl_path.forEach(function(O){O(u,A)}))),E)),ue.viewBox=(fe=($=(z=t).curStats).path_edge,se=$.viewBox_bBox,Ze=z.aplStats.viewBox_bBox,wt=z.svg.viewBox.baseVal,ee=z.svg.style,G=!1,le=Math.max($.line_strokeWidth/2,$.viewBox_plugBCircleSE[0]||0,$.viewBox_plugBCircleSE[1]||0),H={x1:fe.x1-le,y1:fe.y1-le,x2:fe.x2+le,y2:fe.y2+le},z.events.new_edge4viewBox&&z.events.new_edge4viewBox.forEach(function(O){O(z,H)}),se.x=$.lineMask_x=$.lineOutlineMask_x=$.maskBGRect_x=H.x1,se.y=$.lineMask_y=$.lineOutlineMask_y=$.maskBGRect_y=H.y1,se.width=H.x2-H.x1,se.height=H.y2-H.y1,["x","y","width","height"].forEach(function(O){var Y;(Y=se[O])!==Ze[O]&&(wt[O]=Ze[O]=Y,ee[Vt[O]]=Y+("x"===O||"y"===O?z.bodyOffset[O]:0)+"px",G=!0)}),G),ue.mask=(U=(W=t).curStats,ne=W.aplStats,xe=!1,U.plug_enabled?[0,1].forEach(function(O){U.capsMaskMarker_enabledSE[O]=U.plug_enabledSE[O]&&U.plug_colorTraSE[O]||U.plugOutline_enabledSE[O]&&U.plugOutline_colorTraSE[O]}):U.capsMaskMarker_enabledSE[0]=U.capsMaskMarker_enabledSE[1]=!1,U.capsMaskMarker_enabled=U.capsMaskMarker_enabledSE[0]||U.capsMaskMarker_enabledSE[1],U.lineMask_outlineMode=U.lineOutline_enabled,U.caps_enabled=U.capsMaskMarker_enabled||U.capsMaskAnchor_enabledSE[0]||U.capsMaskAnchor_enabledSE[1],U.lineMask_enabled=U.caps_enabled||U.lineMask_outlineMode,(U.lineMask_enabled&&!U.lineMask_outlineMode||U.lineOutline_enabled)&&["x","y"].forEach(function(O){var Y="maskBGRect_"+O;F(W,ne,Y,te=U[Y])&&(W.maskBGRect[O].baseVal.value=te,xe=!0)}),F(W,ne,"lineMask_enabled",te=U.lineMask_enabled)&&(W.lineFace.style.mask=te?"url(#"+W.lineMaskId+")":"none",xe=!0,_e&&pe(W,W.lineMask)),U.lineMask_enabled&&(F(W,ne,"lineMask_outlineMode",te=U.lineMask_outlineMode)&&(te?(W.lineMaskBG.style.display="none",W.lineMaskShape.style.display="inline"):(W.lineMaskBG.style.display="inline",W.lineMaskShape.style.display="none"),xe=!0),["x","y"].forEach(function(O){var Y="lineMask_"+O;F(W,ne,Y,te=U[Y])&&(W.lineMask[O].baseVal.value=te,xe=!0)}),F(W,ne,"caps_enabled",te=U.caps_enabled)&&(W.lineMaskCaps.style.display=W.lineOutlineMaskCaps.style.display=te?"inline":"none",xe=!0,_e&&pe(W,W.capsMaskLine)),U.caps_enabled&&([0,1].forEach(function(O){var Y;F(W,ne.capsMaskAnchor_enabledSE,O,te=U.capsMaskAnchor_enabledSE[O])&&(W.capsMaskAnchorSE[O].style.display=te?"inline":"none",xe=!0,_e&&pe(W,W.lineMask)),U.capsMaskAnchor_enabledSE[O]&&(Ct(Y=U.capsMaskAnchor_pathDataSE[O],ne.capsMaskAnchor_pathDataSE[O])&&(W.capsMaskAnchorSE[O].setPathData(Y),ne.capsMaskAnchor_pathDataSE[O]=Y,xe=!0),F(W,ne.capsMaskAnchor_strokeWidthSE,O,te=U.capsMaskAnchor_strokeWidthSE[O])&&(W.capsMaskAnchorSE[O].style.strokeWidth=te+"px",xe=!0))}),F(W,ne,"capsMaskMarker_enabled",te=U.capsMaskMarker_enabled)&&(W.capsMaskLine.style.display=te?"inline":"none",xe=!0),U.capsMaskMarker_enabled&&[0,1].forEach(function(O){var Y=U.capsMaskMarker_plugSE[O],ce=Y!==Pe?_t[yt[Y]]:null,re=Gt(O,ce);F(W,ne.capsMaskMarker_enabledSE,O,te=U.capsMaskMarker_enabledSE[O])&&(W.capsMaskLine.style[re.prop]=te?"url(#"+W.lineMaskMarkerIdSE[O]+")":"none",xe=!0),U.capsMaskMarker_enabledSE[O]&&(F(W,ne.capsMaskMarker_plugSE,O,Y)&&(W.capsMaskMarkerShapeSE[O].href.baseVal="#"+ce.elmId,Jt(W,W.capsMaskMarkerSE[O],re.orient,ce.bBox,W.svg,W.capsMaskMarkerShapeSE[O],W.capsMaskLine),xe=!0,Ae&&(pe(W,W.capsMaskLine),pe(W,W.lineFace))),["markerWidth","markerHeight"].forEach(function(ge){var ze="capsMaskMarker_"+ge+"SE";F(W,ne[ze],O,te=U[ze][O])&&(W.capsMaskMarkerSE[O][ge].baseVal.value=te,xe=!0)}))}))),U.lineOutline_enabled&&["x","y"].forEach(function(O){var Y="lineOutlineMask_"+O;F(W,ne,Y,te=U[Y])&&(W.lineOutlineMask[O].baseVal.value=te,xe=!0)}),xe),n.effect&&(Re=(de=t).curStats,et=de.aplStats,Object.keys(oe).forEach(function(O){var Y=oe[O],ce=O+"_enabled",re=O+"_options",ge=Re[re];F(de,et,ce,Be=Re[ce])?(Be&&(et[re]=ke(ge)),Y[Be?"init":"remove"](de)):Be&&$e(ge,et[re])&&(Y.remove(de),et[ce]=!0,et[re]=ke(ge),Y.init(de))})),(it||_e)&&ue.line&&!ue.path&&pe(t,t.lineShape),it&&ue.plug&&!ue.line&&pe(t,t.plugsFace),Ut(t)}function L(t,n){return{duration:Te(t.duration)&&0<t.duration?t.duration:n.duration,timing:Se.validTiming(t.timing)?t.timing:ke(n.timing)}}function K(t,n,i,o){var r,l=t.curStats,C=t.aplStats,m={};function b(){["show_on","show_effect","show_animOptions"].forEach(function(s){C[s]=l[s]})}l.show_on=n,i&&X[i]&&(l.show_effect=i,l.show_animOptions=L(Ge(o)?o:{},X[i].defaultAnimOptions)),m.show_on=l.show_on!==C.show_on,m.show_effect=l.show_effect!==C.show_effect,m.show_animOptions=$e(l.show_animOptions,C.show_animOptions),m.show_effect||m.show_animOptions?l.show_inAnim?(r=m.show_effect?X[C.show_effect].stop(t,!0,!0):X[C.show_effect].stop(t),b(),X[C.show_effect].init(t,r)):m.show_on&&(C.show_effect&&m.show_effect&&X[C.show_effect].stop(t,!0,!0),b(),X[C.show_effect].init(t)):m.show_on&&(b(),X[C.show_effect].start(t))}function rt(t,n,i){var o={props:t,optionName:i};return!(!(t.attachments.indexOf(n)<0)||n.conf.bind&&!n.conf.bind(n,o)||(t.attachments.push(n),n.boundTargets.push(o),0))}function Et(t,n,i){var o=t.attachments.indexOf(n);-1<o&&t.attachments.splice(o,1),n.boundTargets.some(function(r,l){return r.props===t&&(n.conf.unbind&&n.conf.unbind(n,r),o=l,!0)})&&(n.boundTargets.splice(o,1),i||at(function(){n.boundTargets.length||kt(n)}))}function jt(t,n){var i,o,r=t.options,l={};function C(s,f,M,d,p){var h={};return M?null!=d?(h.container=s[M],h.key=d):(h.container=s,h.key=M):(h.container=s,h.key=f),h.default=p,h.acceptsAuto=null==h.default,h}function m(s,f,M,d,p,h,S){var k,T,N,Z=C(s,M,p,h,S);return null!=f[M]&&(T=(f[M]+"").toLowerCase())&&(Z.acceptsAuto&&T===Ke||(N=d[T]))&&N!==Z.container[Z.key]&&(Z.container[Z.key]=N,k=!0),null!=Z.container[Z.key]||Z.acceptsAuto||(Z.container[Z.key]=Z.default,k=!0),k}function b(s,f,M,d,p,h,S,k,T){var N,Z,w,g,x=C(s,M,p,h,S);if(!d){if(null==x.default)throw new Error("Invalid `type`: "+M);d=typeof x.default}return null!=f[M]&&(x.acceptsAuto&&(f[M]+"").toLowerCase()===Ke||(w=Z=f[M],("number"===(g=d)?Te(w):typeof w===g)&&(Z=T&&"string"===d&&Z?Z.trim():Z,1)&&(!k||k(Z))))&&Z!==x.container[x.key]&&(x.container[x.key]=Z,N=!0),null!=x.container[x.key]||x.acceptsAuto||(x.container[x.key]=x.default,N=!0),N}if(n=n||{},["start","end"].forEach(function(s,f){var M=n[s],d=!1;if(M&&(dt(M)||(d=Ye(M,"anchor")))&&M!==r.anchorSE[f]){if(!1!==t.optionIsAttach.anchorSE[f]&&Et(t,Ce[r.anchorSE[f]._id]),d&&!rt(t,Ce[M._id],s))throw new Error("Can't bind attachment");r.anchorSE[f]=M,t.optionIsAttach.anchorSE[f]=d,o=l.position=!0}}),!r.anchorSE[0]||!r.anchorSE[1]||r.anchorSE[0]===r.anchorSE[1])throw new Error("`start` and `end` are required.");o&&(i=function(s,f){var M,d,p;if(!(M=It(s))||!(d=It(f)))throw new Error("Cannot get frames.");return M.length&&d.length&&(M.reverse(),d.reverse(),M.some(function(h){return d.some(function(S){return S===h&&(p=S.contentWindow,!0)})})),p||window}(!1!==t.optionIsAttach.anchorSE[0]?Ce[r.anchorSE[0]._id].element:r.anchorSE[0],!1!==t.optionIsAttach.anchorSE[1]?Ce[r.anchorSE[1]._id].element:r.anchorSE[1]))!==t.baseWindow&&(function(s,f){var M,d,p,h,S,k,T,N,Z,w,g=s.aplStats,x=f.document,y=be+"-"+s._id;function V(u){var A=d.appendChild(x.createElementNS(Q,"mask"));return A.id=u,A.maskUnits.baseVal=SVGUnitTypes.SVG_UNIT_TYPE_USERSPACEONUSE,[A.x,A.y,A.width,A.height].forEach(function(D){D.baseVal.newValueSpecifiedUnits(SVGLength.SVG_LENGTHTYPE_PX,0)}),A}function R(u){var A=d.appendChild(x.createElementNS(Q,"marker"));return A.id=u,A.markerUnits.baseVal=SVGMarkerElement.SVG_MARKERUNITS_STROKEWIDTH,A.viewBox.baseVal||A.setAttribute("viewBox","0 0 0 0"),A}function P(u){return[u.width,u.height].forEach(function(A){A.baseVal.newValueSpecifiedUnits(SVGLength.SVG_LENGTHTYPE_PERCENTAGE,100)}),u}s.pathList={},Ee(g,Je),Object.keys(oe).forEach(function(u){var A=u+"_enabled";g[A]&&(oe[u].remove(s),g[A]=!1)}),s.baseWindow&&s.svg&&s.baseWindow.document.body.removeChild(s.svg),I(s.baseWindow=f),s.bodyOffset=_(f),s.svg=M=x.createElementNS(Q,"svg"),M.className.baseVal=be,M.viewBox.baseVal||M.setAttribute("viewBox","0 0 0 0"),s.defs=d=M.appendChild(x.createElementNS(Q,"defs")),s.linePath=h=d.appendChild(x.createElementNS(Q,"path")),h.id=S=y+"-line-path",h.className.baseVal=be+"-line-path",_e&&(h.style.fill="none"),s.lineShape=h=d.appendChild(x.createElementNS(Q,"use")),h.id=k=y+"-line-shape",h.href.baseVal="#"+S,(p=d.appendChild(x.createElementNS(Q,"g"))).id=T=y+"-caps",s.capsMaskAnchorSE=[0,1].map(function(){var u=p.appendChild(x.createElementNS(Q,"path"));return u.className.baseVal=be+"-caps-mask-anchor",u}),s.lineMaskMarkerIdSE=[y+"-caps-mask-marker-0",y+"-caps-mask-marker-1"],s.capsMaskMarkerSE=[0,1].map(function(u){return R(s.lineMaskMarkerIdSE[u])}),s.capsMaskMarkerShapeSE=[0,1].map(function(u){var A=s.capsMaskMarkerSE[u].appendChild(x.createElementNS(Q,"use"));return A.className.baseVal=be+"-caps-mask-marker-shape",A}),s.capsMaskLine=h=p.appendChild(x.createElementNS(Q,"use")),h.className.baseVal=be+"-caps-mask-line",h.href.baseVal="#"+k,s.maskBGRect=h=P(d.appendChild(x.createElementNS(Q,"rect"))),h.id=N=y+"-mask-bg-rect",h.className.baseVal=be+"-mask-bg-rect",_e&&(h.style.fill="white"),s.lineMask=P(V(s.lineMaskId=y+"-line-mask")),s.lineMaskBG=h=s.lineMask.appendChild(x.createElementNS(Q,"use")),h.href.baseVal="#"+N,s.lineMaskShape=h=s.lineMask.appendChild(x.createElementNS(Q,"use")),h.className.baseVal=be+"-line-mask-shape",h.href.baseVal="#"+S,h.style.display="none",s.lineMaskCaps=h=s.lineMask.appendChild(x.createElementNS(Q,"use")),h.href.baseVal="#"+T,s.lineOutlineMask=P(V(Z=y+"-line-outline-mask")),(h=s.lineOutlineMask.appendChild(x.createElementNS(Q,"use"))).href.baseVal="#"+N,s.lineOutlineMaskShape=h=s.lineOutlineMask.appendChild(x.createElementNS(Q,"use")),h.className.baseVal=be+"-line-outline-mask-shape",h.href.baseVal="#"+S,s.lineOutlineMaskCaps=h=s.lineOutlineMask.appendChild(x.createElementNS(Q,"use")),h.href.baseVal="#"+T,s.face=M.appendChild(x.createElementNS(Q,"g")),s.lineFace=h=s.face.appendChild(x.createElementNS(Q,"use")),h.href.baseVal="#"+k,s.lineOutlineFace=h=s.face.appendChild(x.createElementNS(Q,"use")),h.href.baseVal="#"+k,h.style.mask="url(#"+Z+")",h.style.display="none",s.plugMaskIdSE=[y+"-plug-mask-0",y+"-plug-mask-1"],s.plugMaskSE=[0,1].map(function(u){return V(s.plugMaskIdSE[u])}),s.plugMaskShapeSE=[0,1].map(function(u){var A=s.plugMaskSE[u].appendChild(x.createElementNS(Q,"use"));return A.className.baseVal=be+"-plug-mask-shape",A}),w=[],s.plugOutlineMaskSE=[0,1].map(function(u){return V(w[u]=y+"-plug-outline-mask-"+u)}),s.plugOutlineMaskShapeSE=[0,1].map(function(u){var A=s.plugOutlineMaskSE[u].appendChild(x.createElementNS(Q,"use"));return A.className.baseVal=be+"-plug-outline-mask-shape",A}),s.plugMarkerIdSE=[y+"-plug-marker-0",y+"-plug-marker-1"],s.plugMarkerSE=[0,1].map(function(u){var A=R(s.plugMarkerIdSE[u]);return _e&&(A.markerUnits.baseVal=SVGMarkerElement.SVG_MARKERUNITS_USERSPACEONUSE),A}),s.plugMarkerShapeSE=[0,1].map(function(u){return s.plugMarkerSE[u].appendChild(x.createElementNS(Q,"g"))}),s.plugFaceSE=[0,1].map(function(u){return s.plugMarkerShapeSE[u].appendChild(x.createElementNS(Q,"use"))}),s.plugOutlineFaceSE=[0,1].map(function(u){var A=s.plugMarkerShapeSE[u].appendChild(x.createElementNS(Q,"use"));return A.style.mask="url(#"+w[u]+")",A.style.display="none",A}),s.plugsFace=h=s.face.appendChild(x.createElementNS(Q,"use")),h.className.baseVal=be+"-plugs-face",h.href.baseVal="#"+k,h.style.display="none",s.curStats.show_inAnim?(s.isShown=1,X[g.show_effect].stop(s,!0)):s.isShown||(M.style.visibility="hidden"),x.body.appendChild(M),[0,1,2].forEach(function(u){var A,D=s.options.labelSEM[u];D&&Ye(D,"label")&&(A=Ce[D._id]).conf.initSvg&&A.conf.initSvg(A,s)})}(t,i),l.line=l.plug=l.lineOutline=l.plugOutline=l.faces=l.effect=!0),l.position=m(r,n,"path",Ht,null,null,Ne.path)||l.position,l.position=m(r,n,"startSocket",He,"socketSE",0)||l.position,l.position=m(r,n,"endSocket",He,"socketSE",1)||l.position,[n.startSocketGravity,n.endSocketGravity].forEach(function(s,f){var M,d,p=!1;null!=s&&(Array.isArray(s)?Te(s[0])&&Te(s[1])&&(p=[s[0],s[1]],Array.isArray(r.socketGravitySE[f])&&(M=p).length===(d=r.socketGravitySE[f]).length&&M.every(function(h,S){return h===d[S]})&&(p=!1)):((s+"").toLowerCase()===Ke?p=null:Te(s)&&0<=s&&(p=s),p===r.socketGravitySE[f]&&(p=!1)),!1!==p&&(r.socketGravitySE[f]=p,l.position=!0))}),l.line=b(r,n,"color",null,"lineColor",null,Ne.lineColor,null,!0)||l.line,l.line=b(r,n,"size",null,"lineSize",null,Ne.lineSize,function(s){return 0<s})||l.line,["startPlug","endPlug"].forEach(function(s,f){l.plug=m(r,n,s,Ot,"plugSE",f,Ne.plugSE[f])||l.plug,l.plug=b(r,n,s+"Color","string","plugColorSE",f,null,null,!0)||l.plug,l.plug=b(r,n,s+"Size",null,"plugSizeSE",f,Ne.plugSizeSE[f],function(M){return 0<M})||l.plug}),l.lineOutline=b(r,n,"outline",null,"lineOutlineEnabled",null,Ne.lineOutlineEnabled)||l.lineOutline,l.lineOutline=b(r,n,"outlineColor",null,"lineOutlineColor",null,Ne.lineOutlineColor,null,!0)||l.lineOutline,l.lineOutline=b(r,n,"outlineSize",null,"lineOutlineSize",null,Ne.lineOutlineSize,function(s){return 0<s&&s<=.48})||l.lineOutline,["startPlugOutline","endPlugOutline"].forEach(function(s,f){l.plugOutline=b(r,n,s,null,"plugOutlineEnabledSE",f,Ne.plugOutlineEnabledSE[f])||l.plugOutline,l.plugOutline=b(r,n,s+"Color","string","plugOutlineColorSE",f,null,null,!0)||l.plugOutline,l.plugOutline=b(r,n,s+"Size",null,"plugOutlineSizeSE",f,Ne.plugOutlineSizeSE[f],function(M){return 1<=M})||l.plugOutline}),["startLabel","endLabel","middleLabel"].forEach(function(s,f){var M,d,p,h=n[s],S=r.labelSEM[f]&&!t.optionIsAttach.labelSEM[f]?Ce[r.labelSEM[f]._id].text:r.labelSEM[f],k=!1;if((M="string"==typeof h)&&(h=h.trim()),(M||h&&(k=Ye(h,"label")))&&h!==S){if(r.labelSEM[f]&&(Et(t,Ce[r.labelSEM[f]._id]),r.labelSEM[f]=""),h){if(k?(d=Ce[(p=h)._id]).boundTargets.slice().forEach(function(T){d.conf.removeOption(d,T)}):p=new Me(B.captionLabel,[h]),!rt(t,Ce[p._id],s))throw new Error("Can't bind attachment");r.labelSEM[f]=p}t.optionIsAttach.labelSEM[f]=k}}),Object.keys(oe).forEach(function(s){var f,M,d=oe[s],p=s+"_enabled",h=s+"_options";function S(T){var N={};return d.optionsConf.forEach(function(Z){var w=Z[0],g=Z[3];null==Z[4]||N[g]||(N[g]=[]),("function"==typeof w?w:"id"===w?m:b).apply(null,[N,T].concat(Z.slice(1)))}),N}function k(T){var N,Z=s+"_animOptions";return T.hasOwnProperty("animation")?Ge(T.animation)?N=t.curStats[Z]=L(T.animation,d.defaultAnimOptions):t.curStats[Z]=(N=!!T.animation)?L({},d.defaultAnimOptions):null:t.curStats[Z]=(N=!!d.defaultEnabled)?L({},d.defaultAnimOptions):null,N}n.hasOwnProperty(s)&&(Ge(f=n[s])?(t.curStats[p]=!0,M=t.curStats[h]=S(f),d.anim&&(t.curStats[h].animation=k(f))):(M=t.curStats[p]=!!f)&&(t.curStats[h]=S({}),d.anim&&(t.curStats[h].animation=k({}))),$e(M,r[s])&&(r[s]=M,l.effect=!0))}),v(t,l)}function qe(t,n,i){var o={options:{anchorSE:[],socketSE:[],socketGravitySE:[],plugSE:[],plugColorSE:[],plugSizeSE:[],plugOutlineEnabledSE:[],plugOutlineColorSE:[],plugOutlineSizeSE:[],labelSEM:["","",""]},optionIsAttach:{anchorSE:[!1,!1],labelSEM:[!1,!1,!1]},curStats:{},aplStats:{},attachments:[],events:{},reflowTargets:[]};Ee(o.curStats,Je),Ee(o.aplStats,Je),Object.keys(oe).forEach(function(r){var l=oe[r].stats;Ee(o.curStats,l),Ee(o.aplStats,l),o.options[r]=!1}),Ee(o.curStats,Tt),Ee(o.aplStats,Tt),o.curStats.show_effect=Rt,o.curStats.show_animOptions=ke(X[Rt].defaultAnimOptions),Object.defineProperty(this,"_id",{value:++tn}),o._id=this._id,we[this._id]=o,1===arguments.length&&(i=t,t=null),i=i||{},(t||n)&&(i=ke(i),t&&(i.start=t),n&&(i.end=n)),o.isShown=o.aplStats.show_on=!i.hide,this.setOptions(i)}oe={dash:{stats:{dash_len:{},dash_gap:{},dash_maxOffset:{}},anim:!0,defaultAnimOptions:{duration:1e3,timing:"linear"},optionsConf:[["type","len","number",null,null,null,function(t){return 0<t}],["type","gap","number",null,null,null,function(t){return 0<t}]],init:function(t){ye(t,"apl_line_strokeWidth",oe.dash.update),t.lineFace.style.strokeDashoffset=0,oe.dash.update(t)},remove:function(t){var n=t.curStats;ve(t,"apl_line_strokeWidth",oe.dash.update),n.dash_animId&&(Se.remove(n.dash_animId),n.dash_animId=null),t.lineFace.style.strokeDasharray="none",t.lineFace.style.strokeDashoffset=0,Ee(t.aplStats,oe.dash.stats)},update:function(t){var n,i=t.curStats,o=t.aplStats,r=o.dash_options,l=!1;i.dash_len=r.len||2*o.line_strokeWidth,i.dash_gap=r.gap||o.line_strokeWidth,i.dash_maxOffset=i.dash_len+i.dash_gap,l=F(t,o,"dash_len",i.dash_len)||l,(l=F(t,o,"dash_gap",i.dash_gap)||l)&&(t.lineFace.style.strokeDasharray=o.dash_len+","+o.dash_gap),i.dash_animOptions?(l=F(t,o,"dash_maxOffset",i.dash_maxOffset),o.dash_animOptions&&(l||$e(i.dash_animOptions,o.dash_animOptions))&&(i.dash_animId&&(n=Se.stop(i.dash_animId),Se.remove(i.dash_animId)),o.dash_animOptions=null),o.dash_animOptions||(i.dash_animId=Se.add(function(C){return(1-C)*o.dash_maxOffset+"px"},function(C){t.lineFace.style.strokeDashoffset=C},i.dash_animOptions.duration,0,i.dash_animOptions.timing,!1,n),o.dash_animOptions=ke(i.dash_animOptions))):o.dash_animOptions&&(i.dash_animId&&(Se.remove(i.dash_animId),i.dash_animId=null),t.lineFace.style.strokeDashoffset=0,o.dash_animOptions=null)}},gradient:{stats:{gradient_colorSE:{hasSE:!0},gradient_pointSE:{hasSE:!0,hasProps:!0}},optionsConf:[["type","startColor","string","colorSE",0,null,null,!0],["type","endColor","string","colorSE",1,null,null,!0]],init:function(t){var n,i=t.baseWindow.document,r=be+"-"+t._id+"-gradient";t.efc_gradient_gradient=n=t.defs.appendChild(i.createElementNS(Q,"linearGradient")),n.id=r,n.gradientUnits.baseVal=SVGUnitTypes.SVG_UNIT_TYPE_USERSPACEONUSE,[n.x1,n.y1,n.x2,n.y2].forEach(function(l){l.baseVal.newValueSpecifiedUnits(SVGLength.SVG_LENGTHTYPE_PX,0)}),t.efc_gradient_stopSE=[0,1].map(function(l){var C=t.efc_gradient_gradient.appendChild(i.createElementNS(Q,"stop"));try{C.offset.baseVal=l}catch(m){if(m.code!==DOMException.NO_MODIFICATION_ALLOWED_ERR)throw m;C.setAttribute("offset",l)}return C}),ye(t,"cur_plug_colorSE",oe.gradient.update),ye(t,"apl_path",oe.gradient.update),t.curStats.line_altColor=!0,t.lineFace.style.stroke="url(#"+r+")",oe.gradient.update(t)},remove:function(t){t.efc_gradient_gradient&&(t.defs.removeChild(t.efc_gradient_gradient),t.efc_gradient_gradient=t.efc_gradient_stopSE=null),ve(t,"cur_plug_colorSE",oe.gradient.update),ve(t,"apl_path",oe.gradient.update),t.curStats.line_altColor=!1,t.lineFace.style.stroke=t.curStats.line_color,Ee(t.aplStats,oe.gradient.stats)},update:function(t){var n,i,o=t.curStats,r=t.aplStats,l=r.gradient_options,C=t.pathList.animVal||t.pathList.baseVal;[0,1].forEach(function(m){o.gradient_colorSE[m]=l.colorSE[m]||o.plug_colorSE[m]}),o.gradient_pointSE[0]={x:(i=C[0][0]).x,y:i.y},i=(n=C[C.length-1])[n.length-1],o.gradient_pointSE[1]={x:i.x,y:i.y},[0,1].forEach(function(m){var b;F(t,r.gradient_colorSE,m,b=o.gradient_colorSE[m])&&(_e?(b=ut(b),t.efc_gradient_stopSE[m].style.stopColor=b[1],t.efc_gradient_stopSE[m].style.stopOpacity=b[0]):t.efc_gradient_stopSE[m].style.stopColor=b),["x","y"].forEach(function(s){(b=o.gradient_pointSE[m][s])!==r.gradient_pointSE[m][s]&&(t.efc_gradient_gradient[s+(m+1)].baseVal.value=r.gradient_pointSE[m][s]=b)})})}},dropShadow:{stats:{dropShadow_dx:{},dropShadow_dy:{},dropShadow_blur:{},dropShadow_color:{},dropShadow_opacity:{},dropShadow_x:{},dropShadow_y:{}},optionsConf:[["type","dx",null,null,null,2],["type","dy",null,null,null,4],["type","blur",null,null,null,3,function(t){return 0<=t}],["type","color",null,null,null,"#000",null,!0],["type","opacity",null,null,null,.8,function(t){return 0<=t&&t<=1}]],init:function(t){var n,i,o,r,l,m=t.defs,b=be+"-"+t._id+"-dropShadow",s=(n=t.baseWindow.document,i=b,l={},"boolean"!=typeof Mt&&(Mt=!!window.SVGFEDropShadowElement&&!_e),l.elmsAppend=[l.elmFilter=o=n.createElementNS(Q,"filter")],o.filterUnits.baseVal=SVGUnitTypes.SVG_UNIT_TYPE_USERSPACEONUSE,o.x.baseVal.newValueSpecifiedUnits(SVGLength.SVG_LENGTHTYPE_PX,0),o.y.baseVal.newValueSpecifiedUnits(SVGLength.SVG_LENGTHTYPE_PX,0),o.width.baseVal.newValueSpecifiedUnits(SVGLength.SVG_LENGTHTYPE_PERCENTAGE,100),o.height.baseVal.newValueSpecifiedUnits(SVGLength.SVG_LENGTHTYPE_PERCENTAGE,100),o.id=i,Mt?(l.elmOffset=l.elmBlur=r=o.appendChild(n.createElementNS(Q,"feDropShadow")),l.styleFlood=r.style):(l.elmBlur=o.appendChild(n.createElementNS(Q,"feGaussianBlur")),l.elmOffset=r=o.appendChild(n.createElementNS(Q,"feOffset")),r.result.baseVal="offsetblur",r=o.appendChild(n.createElementNS(Q,"feFlood")),l.styleFlood=r.style,(r=o.appendChild(n.createElementNS(Q,"feComposite"))).in2.baseVal="offsetblur",r.operator.baseVal=SVGFECompositeElement.SVG_FECOMPOSITE_OPERATOR_IN,(r=o.appendChild(n.createElementNS(Q,"feMerge"))).appendChild(n.createElementNS(Q,"feMergeNode")),r.appendChild(n.createElementNS(Q,"feMergeNode")).in1.baseVal="SourceGraphic"),l);["elmFilter","elmOffset","elmBlur","styleFlood","elmsAppend"].forEach(function(f){t["efc_dropShadow_"+f]=s[f]}),s.elmsAppend.forEach(function(f){m.appendChild(f)}),t.face.setAttribute("filter","url(#"+b+")"),ye(t,"new_edge4viewBox",oe.dropShadow.adjustEdge),oe.dropShadow.update(t)},remove:function(t){var n=t.defs;t.efc_dropShadow_elmsAppend&&(t.efc_dropShadow_elmsAppend.forEach(function(i){n.removeChild(i)}),t.efc_dropShadow_elmFilter=t.efc_dropShadow_elmOffset=t.efc_dropShadow_elmBlur=t.efc_dropShadow_styleFlood=t.efc_dropShadow_elmsAppend=null),ve(t,"new_edge4viewBox",oe.dropShadow.adjustEdge),v(t,{}),t.face.removeAttribute("filter"),Ee(t.aplStats,oe.dropShadow.stats)},update:function(t){var n,i,o=t.curStats,r=t.aplStats,l=r.dropShadow_options;o.dropShadow_dx=n=l.dx,F(t,r,"dropShadow_dx",n)&&(t.efc_dropShadow_elmOffset.dx.baseVal=n,i=!0),o.dropShadow_dy=n=l.dy,F(t,r,"dropShadow_dy",n)&&(t.efc_dropShadow_elmOffset.dy.baseVal=n,i=!0),o.dropShadow_blur=n=l.blur,F(t,r,"dropShadow_blur",n)&&(t.efc_dropShadow_elmBlur.setStdDeviation(n,n),i=!0),i&&v(t,{}),o.dropShadow_color=n=l.color,F(t,r,"dropShadow_color",n)&&(t.efc_dropShadow_styleFlood.floodColor=n),o.dropShadow_opacity=n=l.opacity,F(t,r,"dropShadow_opacity",n)&&(t.efc_dropShadow_styleFlood.floodOpacity=n)},adjustEdge:function(t,n){var i,o,r=t.curStats,l=t.aplStats;null!=r.dropShadow_dx&&((o={x1:n.x1-(i=3*r.dropShadow_blur)+r.dropShadow_dx,y1:n.y1-i+r.dropShadow_dy,x2:n.x2+i+r.dropShadow_dx,y2:n.y2+i+r.dropShadow_dy}).x1<n.x1&&(n.x1=o.x1),o.y1<n.y1&&(n.y1=o.y1),o.x2>n.x2&&(n.x2=o.x2),o.y2>n.y2&&(n.y2=o.y2),["x","y"].forEach(function(C){var m,b="dropShadow_"+C;r[b]=m=n[C+"1"],F(t,l,b,m)&&(t.efc_dropShadow_elmFilter[C].baseVal.value=m)}))}}},Object.keys(oe).forEach(function(t){var n=oe[t],i=n.stats;i[t+"_enabled"]={iniValue:!1},i[t+"_options"]={hasProps:!0},n.anim&&(i[t+"_animOptions"]={},i[t+"_animId"]={})}),X={none:{defaultAnimOptions:{},init:function(t,n){var i=t.curStats;i.show_animId&&(Se.remove(i.show_animId),i.show_animId=null),X.none.start(t,n)},start:function(t,n){X.none.stop(t,!0)},stop:function(t,n,i){return i=null!=i?i:t.aplStats.show_on,t.curStats.show_inAnim=!1,n&&c(t,i),i?1:0}},fade:{defaultAnimOptions:{duration:300,timing:"linear"},init:function(t,n){var i=t.curStats,o=t.aplStats;i.show_animId&&Se.remove(i.show_animId),i.show_animId=Se.add(function(r){return r},function(r,l){l?X.fade.stop(t,!0):(t.svg.style.opacity=r+"",De&&(pe(t,t.svg),Ut(t)))},o.show_animOptions.duration,1,o.show_animOptions.timing,null,!1),X.fade.start(t,n)},start:function(t,n){var i,o=t.curStats;o.show_inAnim&&(i=Se.stop(o.show_animId)),c(t,1),o.show_inAnim=!0,Se.start(o.show_animId,!t.aplStats.show_on,null!=n?n:i)},stop:function(t,n,i){var o,r=t.curStats;return i=null!=i?i:t.aplStats.show_on,o=r.show_inAnim?Se.stop(r.show_animId):i?1:0,r.show_inAnim=!1,n&&(t.svg.style.opacity=i?"":"0",c(t,i)),o}},draw:{defaultAnimOptions:{duration:500,timing:[.58,0,.42,1]},init:function(t,n){var i=t.curStats,o=t.aplStats,r=t.pathList.baseVal,l=Wt(r),C=l.segsLen,m=l.lenAll;i.show_animId&&Se.remove(i.show_animId),i.show_animId=Se.add(function(b){var s,f,M,d,p=-1;if(0===b)f=[[r[0][0],r[0][0]]];else if(1===b)f=r;else{for(s=m*b,f=[];s>=C[++p];)f.push(r[p]),s-=C[p];s&&(2===(M=r[p]).length?f.push([M[0],pt(M[0],M[1],s/C[p])]):(d=ot(M[0],M[1],M[2],M[3],Nt(M[0],M[1],M[2],M[3],s)),f.push([M[0],d.fromP1,d.fromP2,d])))}return f},function(b,s){s?X.draw.stop(t,!0):(t.pathList.animVal=b,v(t,{path:!0}))},o.show_animOptions.duration,1,o.show_animOptions.timing,null,!1),X.draw.start(t,n)},start:function(t,n){var i,o=t.curStats;o.show_inAnim&&(i=Se.stop(o.show_animId)),c(t,1),o.show_inAnim=!0,ye(t,"apl_position",X.draw.update),Se.start(o.show_animId,!t.aplStats.show_on,null!=n?n:i)},stop:function(t,n,i){var o,r=t.curStats;return i=null!=i?i:t.aplStats.show_on,o=r.show_inAnim?Se.stop(r.show_animId):i?1:0,r.show_inAnim=!1,n&&(t.pathList.animVal=i?null:[[t.pathList.baseVal[0][0],t.pathList.baseVal[0][0]]],v(t,{path:!0}),c(t,i)),o},update:function(t){ve(t,"apl_position",X.draw.update),t.curStats.show_inAnim?X.draw.init(t,X.draw.stop(t)):t.aplStats.show_animOptions={}}}},function(){function t(n){return function(i){var o={};o[n]=i,this.setOptions(o)}}[["start","anchorSE",0],["end","anchorSE",1],["color","lineColor"],["size","lineSize"],["startSocketGravity","socketGravitySE",0],["endSocketGravity","socketGravitySE",1],["startPlugColor","plugColorSE",0],["endPlugColor","plugColorSE",1],["startPlugSize","plugSizeSE",0],["endPlugSize","plugSizeSE",1],["outline","lineOutlineEnabled"],["outlineColor","lineOutlineColor"],["outlineSize","lineOutlineSize"],["startPlugOutline","plugOutlineEnabledSE",0],["endPlugOutline","plugOutlineEnabledSE",1],["startPlugOutlineColor","plugOutlineColorSE",0],["endPlugOutlineColor","plugOutlineColorSE",1],["startPlugOutlineSize","plugOutlineSizeSE",0],["endPlugOutlineSize","plugOutlineSizeSE",1]].forEach(function(n){var i=n[0],o=n[1],r=n[2];Object.defineProperty(qe.prototype,i,{get:function(){var l=null!=r?we[this._id].options[o][r]:o?we[this._id].options[o]:we[this._id].options[i];return null==l?Ke:ke(l)},set:t(i),enumerable:!0})}),[["path",Ht],["startSocket",He,"socketSE",0],["endSocket",He,"socketSE",1],["startPlug",Ot,"plugSE",0],["endPlug",Ot,"plugSE",1]].forEach(function(n){var i=n[0],o=n[1],r=n[2],l=n[3];Object.defineProperty(qe.prototype,i,{get:function(){var C,m=null!=l?we[this._id].options[r][l]:r?we[this._id].options[r]:we[this._id].options[i];return m?Object.keys(o).some(function(b){return o[b]===m&&(C=b,!0)})?C:new Error("It's broken"):Ke},set:t(i),enumerable:!0})}),Object.keys(oe).forEach(function(n){var i=oe[n];Object.defineProperty(qe.prototype,n,{get:function(){var o,r,l=we[this._id].options[n];return Ge(l)?(o=l,r=i.optionsConf.reduce(function(C,m){var b,f=m[1],M=m[2],d=m[3],p=m[4],h=null!=p?o[d][p]:d?o[d]:o[f];return C[f]="id"===m[0]?h?Object.keys(M).some(function(S){return M[S]===h&&(b=S,!0)})?b:new Error("It's broken"):Ke:null==h?Ke:ke(h),C},{}),i.anim&&(r.animation=ke(o.animation)),r):l},set:t(n),enumerable:!0})}),["startLabel","endLabel","middleLabel"].forEach(function(n,i){Object.defineProperty(qe.prototype,n,{get:function(){var o=we[this._id],r=o.options;return r.labelSEM[i]&&!o.optionIsAttach.labelSEM[i]?Ce[r.labelSEM[i]._id].text:r.labelSEM[i]||""},set:t(n),enumerable:!0})})}(),qe.prototype.setOptions=function(t){return jt(we[this._id],t),this},qe.prototype.position=function(){return v(we[this._id],{position:!0}),this},qe.prototype.remove=function(){var t=we[this._id],n=t.curStats;Object.keys(oe).forEach(function(i){var o=i+"_animId";n[o]&&Se.remove(n[o])}),n.show_animId&&Se.remove(n.show_animId),t.attachments.slice().forEach(function(i){Et(t,i)}),t.baseWindow&&t.svg&&t.baseWindow.document.body.removeChild(t.svg),delete we[this._id]},qe.prototype.show=function(t,n){return K(we[this._id],!0,t,n),this},qe.prototype.hide=function(t,n){return K(we[this._id],!1,t,n),this},kt=function(t){t&&Ce[t._id]&&(t.boundTargets.slice().forEach(function(n){Et(n.props,t,!0)}),t.conf.remove&&t.conf.remove(t),delete Ce[t._id])},Me=function(){function t(n,i){var o,r={conf:n,curStats:{},aplStats:{},boundTargets:[]},l={};n.argOptions.every(function(C){return!(!i.length||("string"==typeof C.type?typeof i[0]!==C.type:"function"!=typeof C.type||!C.type(i[0]))||(l[C.optionName]=i.shift(),0))}),o=i.length&&Ge(i[0])?ke(i[0]):{},Object.keys(l).forEach(function(C){o[C]=l[C]}),n.stats&&(Ee(r.curStats,n.stats),Ee(r.aplStats,n.stats)),Object.defineProperty(this,"_id",{value:++nn}),Object.defineProperty(this,"isRemoved",{get:function(){return!Ce[this._id]}}),r._id=this._id,n.init&&!n.init(r,o)||(Ce[this._id]=r)}return t.prototype.remove=function(){var n=this,i=Ce[n._id];i&&(i.boundTargets.slice().forEach(function(o){i.conf.removeOption(i,o)}),at(function(){var o=Ce[n._id];o&&(console.error("LeaderLineAttachment was not removed by removeOption"),kt(o))}))},t}(),window.LeaderLineAttachment=Me,Ye=function(t,n){return t instanceof Me&&(!(t.isRemoved||n&&Ce[t._id].conf.type!==n)||null)},B={pointAnchor:{type:"anchor",argOptions:[{optionName:"element",type:dt}],init:function(t,n){return t.element=B.pointAnchor.checkElement(n.element),t.x=B.pointAnchor.parsePercent(n.x,!0)||[.5,!0],t.y=B.pointAnchor.parsePercent(n.y,!0)||[.5,!0],!0},removeOption:function(t,n){var i=n.props,o={},r=t.element,l=i.options.anchorSE["start"===n.optionName?1:0];r===l&&(r=l===document.body?new Me(B.pointAnchor,[r]):document.body),o[n.optionName]=r,jt(i,o)},getBBoxNest:function(t,n){var i=ct(t.element,n.baseWindow),o=i.width,r=i.height;return i.width=i.height=0,i.left=i.right=i.left+t.x[0]*(t.x[1]?o:1),i.top=i.bottom=i.top+t.y[0]*(t.y[1]?r:1),i},parsePercent:function(t,n){var i,o,r=!1;return Te(t)?o=t:"string"==typeof t&&(i=Bt.exec(t))&&i[2]&&(r=0!=(o=parseFloat(i[1])/100)),null!=o&&(n||0<=o)?[o,r]:null},checkElement:function(t){if(null==t)t=document.body;else if(!dt(t))throw new Error("`element` must be Element");return t}},areaAnchor:{type:"anchor",argOptions:[{optionName:"element",type:dt},{optionName:"shape",type:"string"}],stats:{color:{},strokeWidth:{},elementWidth:{},elementHeight:{},elementLeft:{},elementTop:{},pathListRel:{},bBoxRel:{},pathData:{},viewBoxBBox:{hasProps:!0},dashLen:{},dashGap:{}},init:function(t,n){var i,o,r,l=[];return t.element=B.pointAnchor.checkElement(n.element),"string"==typeof n.color&&(t.color=n.color.trim()),"string"==typeof n.fillColor&&(t.fill=n.fillColor.trim()),Te(n.size)&&0<=n.size&&(t.size=n.size),n.dash&&(t.dash=!0,Te(n.dash.len)&&0<n.dash.len&&(t.dashLen=n.dash.len),Te(n.dash.gap)&&0<n.dash.gap&&(t.dashGap=n.dash.gap)),"circle"===n.shape?t.shape=n.shape:"polygon"===n.shape&&Array.isArray(n.points)&&3<=n.points.length&&n.points.every(function(C){var m={};return!(!(m.x=B.pointAnchor.parsePercent(C[0],!0))||!(m.y=B.pointAnchor.parsePercent(C[1],!0))||(l.push(m),(m.x[1]||m.y[1])&&(t.hasRatio=!0),0))})?(t.shape=n.shape,t.points=l):(t.shape="rect",t.radius=Te(n.radius)&&0<=n.radius?n.radius:0),"rect"!==t.shape&&"circle"!==t.shape||(t.x=B.pointAnchor.parsePercent(n.x,!0)||[-.05,!0],t.y=B.pointAnchor.parsePercent(n.y,!0)||[-.05,!0],t.width=B.pointAnchor.parsePercent(n.width)||[1.1,!0],t.height=B.pointAnchor.parsePercent(n.height)||[1.1,!0],(t.x[1]||t.y[1]||t.width[1]||t.height[1])&&(t.hasRatio=!0)),t.svg=o=(i=t.element.ownerDocument).createElementNS(Q,"svg"),o.className.baseVal=be+"-areaAnchor",o.viewBox.baseVal||o.setAttribute("viewBox","0 0 0 0"),t.path=o.appendChild(i.createElementNS(Q,"path")),t.path.style.fill=t.fill||"none",t.isShown=!1,o.style.visibility="hidden",i.body.appendChild(o),I(r=i.defaultView),t.bodyOffset=_(r),t.updateColor=function(){var C,b=t.aplStats,s=t.boundTargets.length?t.boundTargets[0].props.curStats:null;t.curStats.color=C=t.color||(s?s.line_color:Ne.lineColor),F(t,b,"color",C)&&(t.path.style.stroke=C)},t.updateShow=function(){c(t,t.boundTargets.some(function(C){return!0===C.props.isShown}))},!0},bind:function(t,n){var i=n.props;return t.color||ye(i,"cur_line_color",t.updateColor),ye(i,"svgShow",t.updateShow),at(function(){t.updateColor(),t.updateShow()}),!0},unbind:function(t,n){var i=n.props;t.color||ve(i,"cur_line_color",t.updateColor),ve(i,"svgShow",t.updateShow),1<t.boundTargets.length&&at(function(){t.updateColor(),t.updateShow(),B.areaAnchor.update(t)&&t.boundTargets.forEach(function(o){v(o.props,{position:!0})})})},removeOption:function(t,n){B.pointAnchor.removeOption(t,n)},remove:function(t){t.boundTargets.length&&(console.error("LeaderLineAttachment was not unbound by remove"),t.boundTargets.forEach(function(n){B.areaAnchor.unbind(t,n)})),t.svg.parentNode.removeChild(t.svg)},getStrokeWidth:function(t,n){return B.areaAnchor.update(t)&&1<t.boundTargets.length&&at(function(){t.boundTargets.forEach(function(i){i.props!==n&&v(i.props,{position:!0})})}),t.curStats.strokeWidth},getPathData:function(t,n){var i=ct(t.element,n.baseWindow);return Dt(t.curStats.pathListRel,function(o){o.x+=i.left,o.y+=i.top})},getBBoxNest:function(t,n){var i=ct(t.element,n.baseWindow),o=t.curStats.bBoxRel;return{left:o.left+i.left,top:o.top+i.top,right:o.right+i.left,bottom:o.bottom+i.top,width:o.width,height:o.height}},update:function(t){var n,i,o,r,l,C,m,b,s,f,M,d,p,h,S,k,T,N,Z,w,g,x,y,V,R,P,u,A,D,J,j,q,E=t.curStats,z=t.aplStats,le=t.boundTargets.length?t.boundTargets[0].props.curStats:null,H={};if(H.strokeWidth=F(t,E,"strokeWidth",null!=t.size?t.size:le?le.line_strokeWidth:Ne.lineSize),n=St(t.element),H.elementWidth=F(t,E,"elementWidth",n.width),H.elementHeight=F(t,E,"elementHeight",n.height),H.elementLeft=F(t,E,"elementLeft",n.left),H.elementTop=F(t,E,"elementTop",n.top),H.strokeWidth||t.hasRatio&&(H.elementWidth||H.elementHeight)){switch(t.shape){case"rect":(w={left:t.x[0]*(t.x[1]?n.width:1),top:t.y[0]*(t.y[1]?n.height:1),width:t.width[0]*(t.width[1]?n.width:1),height:t.height[0]*(t.height[1]?n.height:1)}).right=w.left+w.width,w.bottom=w.top+w.height,V=E.strokeWidth/2,x=(y=Math.min(w.width,w.height))?y/2*Math.SQRT2+V:0,(g=t.radius?t.radius<=x?t.radius:x:0)?(P=g-(R=(g-V)/Math.SQRT2),E.pathListRel=[[(u=[{x:w.left-P,y:w.top+R},{x:w.left+R,y:w.top-P},{x:w.right-R,y:w.top-P},{x:w.right+P,y:w.top+R},{x:w.right+P,y:w.bottom-R},{x:w.right-R,y:w.bottom+P},{x:w.left+R,y:w.bottom+P},{x:w.left-P,y:w.bottom-R}])[0],{x:u[0].x,y:u[0].y-(A=g*vt)},{x:u[1].x-A,y:u[1].y},u[1]]],u[1].x!==u[2].x&&E.pathListRel.push([u[1],u[2]]),E.pathListRel.push([u[2],{x:u[2].x+A,y:u[2].y},{x:u[3].x,y:u[3].y-A},u[3]]),u[3].y!==u[4].y&&E.pathListRel.push([u[3],u[4]]),E.pathListRel.push([u[4],{x:u[4].x,y:u[4].y+A},{x:u[5].x+A,y:u[5].y},u[5]]),u[5].x!==u[6].x&&E.pathListRel.push([u[5],u[6]]),E.pathListRel.push([u[6],{x:u[6].x-A,y:u[6].y},{x:u[7].x,y:u[7].y+A},u[7]]),u[7].y!==u[0].y&&E.pathListRel.push([u[7],u[0]]),E.pathListRel.push([]),u=[{x:w.left-(P=g-R+E.strokeWidth/2),y:w.top-P},{x:w.right+P,y:w.bottom+P}]):(E.pathListRel=[[(u=[{x:w.left-(P=E.strokeWidth/2),y:w.top-P},{x:w.right+P,y:w.bottom+P}])[0],{x:u[1].x,y:u[0].y}],[{x:u[1].x,y:u[0].y},u[1]],[u[1],{x:u[0].x,y:u[1].y}],[]],u=[{x:w.left-E.strokeWidth,y:w.top-E.strokeWidth},{x:w.right+E.strokeWidth,y:w.bottom+E.strokeWidth}]),E.bBoxRel={left:u[0].x,top:u[0].y,right:u[1].x,bottom:u[1].y,width:u[1].x-u[0].x,height:u[1].y-u[0].y};break;case"circle":(m={left:t.x[0]*(t.x[1]?n.width:1),top:t.y[0]*(t.y[1]?n.height:1),width:t.width[0]*(t.width[1]?n.width:1),height:t.height[0]*(t.height[1]?n.height:1)}).width||m.height||(m.width=m.height=10),m.width||(m.width=m.height),m.height||(m.height=m.width),m.right=m.left+m.width,m.bottom=m.top+m.height,b=m.left+m.width/2,s=m.top+m.height/2,h=E.strokeWidth/2,k=m.height/2,f=(S=m.width/2)*Math.SQRT2+h,M=k*Math.SQRT2+h,E.pathListRel=[[(Z=[{x:b-f,y:s},{x:b,y:s-M},{x:b+f,y:s},{x:b,y:s+M}])[0],{x:Z[0].x,y:Z[0].y-(p=M*vt)},{x:Z[1].x-(d=f*vt),y:Z[1].y},Z[1]],[Z[1],{x:Z[1].x+d,y:Z[1].y},{x:Z[2].x,y:Z[2].y-p},Z[2]],[Z[2],{x:Z[2].x,y:Z[2].y+p},{x:Z[3].x+d,y:Z[3].y},Z[3]],[Z[3],{x:Z[3].x-d,y:Z[3].y},{x:Z[0].x,y:Z[0].y+p},Z[0]],[]],E.bBoxRel={left:(Z=[{x:m.left-(T=f-S+E.strokeWidth/2),y:m.top-(N=M-k+E.strokeWidth/2)},{x:m.right+T,y:m.bottom+N}])[0].x,top:Z[0].y,right:Z[1].x,bottom:Z[1].y,width:Z[1].x-Z[0].x,height:Z[1].y-Z[0].y};break;case"polygon":t.points.forEach(function($){var he=$.x[0]*($.x[1]?n.width:1),fe=$.y[0]*($.y[1]?n.height:1);o?(he<o.left&&(o.left=he),he>o.right&&(o.right=he),fe<o.top&&(o.top=fe),fe>o.bottom&&(o.bottom=fe)):o={left:he,right:he,top:fe,bottom:fe},r?E.pathListRel.push([r,{x:he,y:fe}]):E.pathListRel=[],r={x:he,y:fe}}),E.pathListRel.push([]),E.bBoxRel={left:(C=[{x:o.left-(l=E.strokeWidth/2),y:o.top-l},{x:o.right+l,y:o.bottom+l}])[0].x,top:C[0].y,right:C[1].x,bottom:C[1].y,width:C[1].x-C[0].x,height:C[1].y-C[0].y}}H.pathListRel=H.bBoxRel=!0}return(H.pathListRel||H.elementLeft||H.elementTop)&&(E.pathData=Dt(E.pathListRel,function($){$.x+=n.left,$.y+=n.top})),F(t,z,"strokeWidth",i=E.strokeWidth)&&(t.path.style.strokeWidth=i+"px"),Ct(i=E.pathData,z.pathData)&&(t.path.setPathData(i),z.pathData=i,H.pathData=!0),t.dash&&(!H.pathData&&(!H.strokeWidth||t.dashLen&&t.dashGap)||(E.dashLen=t.dashLen||2*E.strokeWidth,E.dashGap=t.dashGap||E.strokeWidth),H.dash=F(t,z,"dashLen",E.dashLen)||H.dash,H.dash=F(t,z,"dashGap",E.dashGap)||H.dash,H.dash&&(t.path.style.strokeDasharray=z.dashLen+","+z.dashGap)),J=z.viewBoxBBox,j=t.svg.viewBox.baseVal,q=t.svg.style,(D=E.viewBoxBBox).x=E.bBoxRel.left+n.left,D.y=E.bBoxRel.top+n.top,D.width=E.bBoxRel.width,D.height=E.bBoxRel.height,["x","y","width","height"].forEach(function($){(i=D[$])!==J[$]&&(j[$]=J[$]=i,q[Vt[$]]=i+("x"===$||"y"===$?t.bodyOffset[$]:0)+"px")}),H.strokeWidth||H.pathListRel||H.bBoxRel}},mouseHoverAnchor:{type:"anchor",argOptions:[{optionName:"element",type:dt},{optionName:"showEffectName",type:"string"}],style:{backgroundImage:"url('data:image/svg+xml;charset=utf-8;base64,PHN2ZyB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgd2lkdGg9IjI0IiBoZWlnaHQ9IjI0Ij48cG9seWdvbiBwb2ludHM9IjI0LDAgMCw4IDgsMTEgMCwxOSA1LDI0IDEzLDE2IDE2LDI0IiBmaWxsPSJjb3JhbCIvPjwvc3ZnPg==')",backgroundSize:"",backgroundRepeat:"no-repeat",backgroundColor:"#f8f881",cursor:"default"},hoverStyle:{backgroundImage:"none",backgroundColor:"#fadf8f"},padding:{top:1,right:15,bottom:1,left:2},minHeight:15,backgroundPosition:{right:2,top:2},backgroundSize:{width:12,height:12},dirKeys:[["top","Top"],["right","Right"],["bottom","Bottom"],["left","Left"]],init:function(t,n){var i,o,r,l,C,m,b,s,f,M,d,p=B.mouseHoverAnchor,h={};if(t.element=B.pointAnchor.checkElement(n.element),!((M=(s=t.element).ownerDocument)&&(f=M.defaultView)&&f.HTMLElement&&s instanceof f.HTMLElement))throw new Error("`element` must be HTML element");return p.style.backgroundSize=p.backgroundSize.width+"px "+p.backgroundSize.height+"px",["style","hoverStyle"].forEach(function(S){var k=p[S];t[S]=Object.keys(k).reduce(function(T,N){return T[N]=k[N],T},{})}),"inline"===(i=t.element.ownerDocument.defaultView.getComputedStyle(t.element,"")).display?t.style.display="inline-block":"none"===i.display&&(t.style.display="block"),B.mouseHoverAnchor.dirKeys.forEach(function(S){var k=S[0],T="padding"+S[1];parseFloat(i[T])<p.padding[k]&&(t.style[T]=p.padding[k]+"px")}),t.style.display&&(l=t.element.style.display,t.element.style.display=t.style.display),B.mouseHoverAnchor.dirKeys.forEach(function(S){var k="padding"+S[1];t.style[k]&&(h[k]=t.element.style[k],t.element.style[k]=t.style[k])}),(r=t.element.getBoundingClientRect()).height<p.minHeight&&(De?(d=p.minHeight,"content-box"===i.boxSizing?d-=parseFloat(i.borderTopWidth)+parseFloat(i.borderBottomWidth)+parseFloat(i.paddingTop)+parseFloat(i.paddingBottom):"padding-box"===i.boxSizing&&(d-=parseFloat(i.borderTopWidth)+parseFloat(i.borderBottomWidth)),t.style.height=d+"px"):t.style.height=parseFloat(i.height)+(p.minHeight-r.height)+"px"),t.style.backgroundPosition=_e?r.width-p.backgroundSize.width-p.backgroundPosition.right+"px "+p.backgroundPosition.top+"px":"right "+p.backgroundPosition.right+"px top "+p.backgroundPosition.top+"px",t.style.display&&(t.element.style.display=l),B.mouseHoverAnchor.dirKeys.forEach(function(S){var k="padding"+S[1];t.style[k]&&(t.element.style[k]=h[k])}),["style","hoverStyle"].forEach(function(S){var k=t[S],T=n[S];Ge(T)&&Object.keys(T).forEach(function(N){"string"==typeof T[N]||Te(T[N])?k[N]=T[N]:null==T[N]&&delete k[N]})}),"function"==typeof n.onSwitch&&(b=n.onSwitch),n.showEffectName&&X[n.showEffectName]&&(t.showEffectName=C=n.showEffectName),m=n.animOptions,t.elmStyle=o=t.element.style,t.mouseenter=function(S){t.hoverStyleSave=p.getStyles(o,Object.keys(t.hoverStyle)),p.setStyles(o,t.hoverStyle),t.boundTargets.forEach(function(k){K(k.props,!0,C,m)}),b&&b(S)},t.mouseleave=function(S){p.setStyles(o,t.hoverStyleSave),t.boundTargets.forEach(function(k){K(k.props,!1,C,m)}),b&&b(S)},!0},bind:function(t,n){var i,o,r,l,C;return n.props.svg?B.mouseHoverAnchor.llShow(n.props,!1,t.showEffectName):at(function(){B.mouseHoverAnchor.llShow(n.props,!1,t.showEffectName)}),t.enabled||(t.styleSave=B.mouseHoverAnchor.getStyles(t.elmStyle,Object.keys(t.style)),B.mouseHoverAnchor.setStyles(t.elmStyle,t.style),t.removeEventListener=(o=t.mouseenter,r=t.mouseleave,"onmouseenter"in(i=t.element)&&"onmouseleave"in i?(i.addEventListener("mouseenter",o,!1),i.addEventListener("mouseleave",r,!1),function(){i.removeEventListener("mouseenter",o,!1),i.removeEventListener("mouseleave",r,!1)}):(console.warn("mouseenter and mouseleave events polyfill is enabled."),i.addEventListener("mouseover",l=function(m){m.relatedTarget&&(m.relatedTarget===this||this.compareDocumentPosition(m.relatedTarget)&Node.DOCUMENT_POSITION_CONTAINED_BY)||o.apply(this,arguments)}),i.addEventListener("mouseout",C=function(m){m.relatedTarget&&(m.relatedTarget===this||this.compareDocumentPosition(m.relatedTarget)&Node.DOCUMENT_POSITION_CONTAINED_BY)||r.apply(this,arguments)}),function(){i.removeEventListener("mouseover",l,!1),i.removeEventListener("mouseout",C,!1)})),t.enabled=!0),!0},unbind:function(t,n){t.enabled&&t.boundTargets.length<=1&&(t.removeEventListener(),B.mouseHoverAnchor.setStyles(t.elmStyle,t.styleSave),t.enabled=!1),B.mouseHoverAnchor.llShow(n.props,!0,t.showEffectName)},removeOption:function(t,n){B.pointAnchor.removeOption(t,n)},remove:function(t){t.boundTargets.length&&(console.error("LeaderLineAttachment was not unbound by remove"),t.boundTargets.forEach(function(n){B.mouseHoverAnchor.unbind(t,n)}))},getBBoxNest:function(t,n){return ct(t.element,n.baseWindow)},llShow:function(t,n,i){X[i||t.curStats.show_effect].stop(t,!0,n),t.aplStats.show_on=n},getStyles:function(t,n){return n.reduce(function(i,o){return i[o]=t[o],i},{})},setStyles:function(t,n){Object.keys(n).forEach(function(i){t[i]=n[i]})}},captionLabel:{type:"label",argOptions:[{optionName:"text",type:"string"}],stats:{color:{},x:{},y:{}},textStyleProps:["fontFamily","fontStyle","fontVariant","fontWeight","fontStretch","fontSize","fontSizeAdjust","kerning","letterSpacing","wordSpacing","textDecoration"],init:function(t,n){return"string"==typeof n.text&&(t.text=n.text.trim()),!!t.text&&("string"==typeof n.color&&(t.color=n.color.trim()),t.outlineColor="string"==typeof n.outlineColor?n.outlineColor.trim():"#fff",Array.isArray(n.offset)&&Te(n.offset[0])&&Te(n.offset[1])&&(t.offset={x:n.offset[0],y:n.offset[1]}),Te(n.lineOffset)&&(t.lineOffset=n.lineOffset),B.captionLabel.textStyleProps.forEach(function(i){null!=n[i]&&(t[i]=n[i])}),t.updateColor=function(i){B.captionLabel.updateColor(t,i)},t.updateSocketXY=function(i){var o,r,l,C,m=t.curStats,b=t.aplStats,s=i.curStats,f=s.position_socketXYSE[t.socketIndex];null!=f.x&&(t.offset?(m.x=f.x+t.offset.x,m.y=f.y+t.offset.y):(o=t.height/2,r=Math.max(s.attach_plugSideLenSE[t.socketIndex]||0,s.line_strokeWidth/2),l=s.position_socketXYSE[t.socketIndex?0:1],4===f.socketId||2===f.socketId?(m.x=4===f.socketId?f.x-o-t.width:f.x+o,m.y=l.y<f.y?f.y+r+o:f.y-r-o-t.height):(m.x=l.x<f.x?f.x+r+o:f.x-r-o-t.width,m.y=1===f.socketId?f.y-o-t.height:f.y+o)),F(t,b,"x",C=m.x)&&(t.elmPosition.x.baseVal.getItem(0).value=C),F(t,b,"y",C=m.y)&&(t.elmPosition.y.baseVal.getItem(0).value=C+t.height))},t.updatePath=function(i){var o,r,l=t.curStats,C=t.aplStats,m=i.pathList.animVal||i.pathList.baseVal;m&&(o=B.captionLabel.getMidPoint(m,t.lineOffset),l.x=o.x-t.width/2,l.y=o.y-t.height/2,F(t,C,"x",r=l.x)&&(t.elmPosition.x.baseVal.getItem(0).value=r),F(t,C,"y",r=l.y)&&(t.elmPosition.y.baseVal.getItem(0).value=r+t.height))},t.updateShow=function(i){B.captionLabel.updateShow(t,i)},_e&&(t.adjustEdge=function(i,o){var r=t.curStats;null!=r.x&&B.captionLabel.adjustEdge(o,{x:r.x,y:r.y,width:t.width,height:t.height},t.strokeWidth/2)}),!0)},updateColor:function(t,n){var i,r=t.aplStats;t.curStats.color=i=t.color||n.curStats.line_color,F(t,r,"color",i)&&(t.styleFill.fill=i)},updateShow:function(t,n){var i=!0===n.isShown;i!==t.isShown&&(t.styleShow.visibility=i?"":"hidden",t.isShown=i)},adjustEdge:function(t,n,i){var o={x1:n.x-i,y1:n.y-i,x2:n.x+n.width+i,y2:n.y+n.height+i};o.x1<t.x1&&(t.x1=o.x1),o.y1<t.y1&&(t.y1=o.y1),o.x2>t.x2&&(t.x2=o.x2),o.y2>t.y2&&(t.y2=o.y2)},newText:function(t,n,i,o,r){var l,C,m,b,s,f;return(l=n.createElementNS(Q,"text")).textContent=t,[l.x,l.y].forEach(function(M){var d=i.createSVGLength();d.newValueSpecifiedUnits(SVGLength.SVG_LENGTHTYPE_PX,0),M.baseVal.initialize(d)}),"boolean"!=typeof Oe&&(Oe="paintOrder"in l.style),r&&!Oe?(m=n.createElementNS(Q,"defs"),l.id=o,m.appendChild(l),(s=(C=n.createElementNS(Q,"g")).appendChild(n.createElementNS(Q,"use"))).href.baseVal="#"+o,(b=C.appendChild(n.createElementNS(Q,"use"))).href.baseVal="#"+o,(f=s.style).strokeLinejoin="round",{elmPosition:l,styleText:l.style,styleFill:b.style,styleStroke:f,styleShow:C.style,elmsAppend:[m,C]}):(f=l.style,r&&(f.strokeLinejoin="round",f.paintOrder="stroke"),{elmPosition:l,styleText:f,styleFill:f,styleStroke:r?f:null,styleShow:f,elmsAppend:[l]})},getMidPoint:function(t,n){var i,o,r,l=Wt(t),C=l.segsLen,m=l.lenAll,b=-1;if((i=m/2+(n||0))<=0)return 2===(o=t[0]).length?pt(o[0],o[1],0):ot(o[0],o[1],o[2],o[3],0);if(m<=i)return 2===(o=t[t.length-1]).length?pt(o[0],o[1],1):ot(o[0],o[1],o[2],o[3],1);for(r=[];i>C[++b];)r.push(t[b]),i-=C[b];return 2===(o=t[b]).length?pt(o[0],o[1],i/C[b]):ot(o[0],o[1],o[2],o[3],Nt(o[0],o[1],o[2],o[3],i))},initSvg:function(t,n){var i,o,r=B.captionLabel.newText(t.text,n.baseWindow.document,n.svg,be+"-captionLabel-"+t._id,t.outlineColor);["elmPosition","styleFill","styleShow","elmsAppend"].forEach(function(l){t[l]=r[l]}),t.isShown=!1,t.styleShow.visibility="hidden",B.captionLabel.textStyleProps.forEach(function(l){null!=t[l]&&(r.styleText[l]=t[l])}),r.elmsAppend.forEach(function(l){n.svg.appendChild(l)}),i=r.elmPosition.getBBox(),t.width=i.width,t.height=i.height,t.outlineColor&&(o=10<(o=i.height/9)?10:o<2?2:o,r.styleStroke.strokeWidth=o+"px",r.styleStroke.stroke=t.outlineColor),t.strokeWidth=o||0,Ee(t.aplStats,B.captionLabel.stats),t.updateColor(n),t.refSocketXY?t.updateSocketXY(n):t.updatePath(n),_e&&v(n,{}),t.updateShow(n)},bind:function(t,n){var i=n.props;return t.color||ye(i,"cur_line_color",t.updateColor),(t.refSocketXY="startLabel"===n.optionName||"endLabel"===n.optionName)?(t.socketIndex="startLabel"===n.optionName?0:1,ye(i,"apl_position",t.updateSocketXY),t.offset||(ye(i,"cur_attach_plugSideLenSE",t.updateSocketXY),ye(i,"cur_line_strokeWidth",t.updateSocketXY))):ye(i,"apl_path",t.updatePath),ye(i,"svgShow",t.updateShow),_e&&ye(i,"new_edge4viewBox",t.adjustEdge),B.captionLabel.initSvg(t,i),!0},unbind:function(t,n){var i=n.props;t.elmsAppend&&(t.elmsAppend.forEach(function(o){i.svg.removeChild(o)}),t.elmPosition=t.styleFill=t.styleShow=t.elmsAppend=null),Ee(t.curStats,B.captionLabel.stats),Ee(t.aplStats,B.captionLabel.stats),t.color||ve(i,"cur_line_color",t.updateColor),t.refSocketXY?(ve(i,"apl_position",t.updateSocketXY),t.offset||(ve(i,"cur_attach_plugSideLenSE",t.updateSocketXY),ve(i,"cur_line_strokeWidth",t.updateSocketXY))):ve(i,"apl_path",t.updatePath),ve(i,"svgShow",t.updateShow),_e&&(ve(i,"new_edge4viewBox",t.adjustEdge),v(i,{}))},removeOption:function(t,n){var i=n.props,o={};o[n.optionName]="",jt(i,o)},remove:function(t){t.boundTargets.length&&(console.error("LeaderLineAttachment was not unbound by remove"),t.boundTargets.forEach(function(n){B.captionLabel.unbind(t,n)}))}},pathLabel:{type:"label",argOptions:[{optionName:"text",type:"string"}],stats:{color:{},startOffset:{},pathData:{}},init:function(t,n){return"string"==typeof n.text&&(t.text=n.text.trim()),!!t.text&&("string"==typeof n.color&&(t.color=n.color.trim()),t.outlineColor="string"==typeof n.outlineColor?n.outlineColor.trim():"#fff",Te(n.lineOffset)&&(t.lineOffset=n.lineOffset),B.captionLabel.textStyleProps.forEach(function(i){null!=n[i]&&(t[i]=n[i])}),t.updateColor=function(i){B.captionLabel.updateColor(t,i)},t.updatePath=function(i){var o,l=t.aplStats,m=i.pathList.animVal||i.pathList.baseVal;m&&(t.curStats.pathData=o=B.pathLabel.getOffsetPathData(m,i.curStats.line_strokeWidth/2+t.strokeWidth/2+t.height/4,1.25*t.height),Ct(o,l.pathData)&&(t.elmPath.setPathData(o),l.pathData=o,t.bBox=t.elmPosition.getBBox(),t.updateStartOffset(i)))},t.updateStartOffset=function(i){var o,r,l,C,m=t.curStats,b=t.aplStats,s=i.curStats;m.pathData&&(2!==t.semIndex||t.lineOffset)&&(o=m.pathData.reduce(function(f,M){var d,p=M.values;switch(M.type){case"M":C={x:p[0],y:p[1]};break;case"L":d={x:p[0],y:p[1]},C&&(f+=Fe(C,d)),C=d;break;case"C":d={x:p[4],y:p[5]},C&&(f+=ht(C,{x:p[0],y:p[1]},{x:p[2],y:p[3]},d)),C=d}return f},0),l=0===t.semIndex?0:1===t.semIndex?o:o/2,2!==t.semIndex&&(r=Math.max(s.attach_plugBackLenSE[t.semIndex]||0,s.line_strokeWidth/2)+t.strokeWidth/2+t.height/4,l=(l+=0===t.semIndex?r:-r)<0?0:o<l?o:l),t.lineOffset&&(l=(l+=t.lineOffset)<0?0:o<l?o:l),m.startOffset=l,F(t,b,"startOffset",l)&&(t.elmOffset.startOffset.baseVal.value=l))},t.updateShow=function(i){B.captionLabel.updateShow(t,i)},_e&&(t.adjustEdge=function(i,o){t.bBox&&B.captionLabel.adjustEdge(o,t.bBox,t.strokeWidth/2)}),!0)},getOffsetPathData:function(t,n,i){var o,r,C=[];function m(b,s){return Math.abs(b.x-s.x)<3&&Math.abs(b.y-s.y)<3}return t.forEach(function(b){var s,f,M,d,p,h,S,k,T,N,Z,w,g,x,y,V,R,P,u,A,D;2===b.length?(P=b[0],u=b[1],A=n,D=Math.atan2(P.y-u.y,u.x-P.x)+.5*Math.PI,s=[{x:P.x+Math.cos(D)*A,y:P.y+Math.sin(D)*A*-1},{x:u.x+Math.cos(D)*A,y:u.y+Math.sin(D)*A*-1}],o?(M=o.points,0<=(d=Math.atan2(M[1].y-M[0].y,M[0].x-M[1].x)-Math.atan2(b[0].y-b[1].y,b[1].x-b[0].x))&&d<=Math.PI?f={type:"line",points:s,inside:!0}:(h=bt(M[0],M[1],n),p=bt(s[1],s[0],n),w=(T=h).x-(k=M[0]).x,R=((x=(Z=s[1]).x-(N=p).x)*(k.y-N.y)-(y=Z.y-N.y)*(k.x-N.x))/(-x*(g=T.y-k.y)+w*y),(S=0<=(V=(-g*(k.x-N.x)+w*(k.y-N.y))/(-x*g+w*y))&&V<=1&&0<=R&&R<=1?{x:k.x+R*w,y:k.y+R*g}:null)?f={type:"line",points:[M[1]=S,s[1]]}:(M[1]=m(p,h)?p:h,f={type:"line",points:[p,s[1]]}),o.len=Fe(M[0],M[1]))):f={type:"line",points:s},f.len=Fe(f.points[0],f.points[1]),C.push(o=f)):(C.push({type:"cubic",points:function(J,j,q,E,z,le){for(var H,$,he=ht(J,j,q,E)/16,fe=1/(16<z?he*(z/16):he),se=[],Ze=0;$=(90-(H=ot(J,j,q,E,Ze)).angle)*(Math.PI/180),se.push({x:H.x+Math.cos($)*z,y:H.y+Math.sin($)*z*-1}),!(1<=Ze);)1<(Ze+=fe)&&(Ze=1);return se}(b[0],b[1],b[2],b[3],n)}),o=null)}),o=null,C.forEach(function(b){var s;"line"===b.type?(b.inside&&(o.len>n?((s=o.points)[1]=bt(s[0],s[1],-n),o.len=Fe(s[0],s[1])):(o.points=null,o.len=0),b.len>n+i?((s=b.points)[0]=bt(s[1],s[0],-(n+i)),b.len=Fe(s[0],s[1])):(b.points=null,b.len=0)),o=b):o=null}),C.reduce(function(b,s){var f=s.points;return f&&(r&&m(f[0],r)||b.push({type:"M",values:[f[0].x,f[0].y]}),"line"===s.type?b.push({type:"L",values:[f[1].x,f[1].y]}):(f.shift(),f.forEach(function(M){b.push({type:"L",values:[M.x,M.y]})})),r=f[f.length-1]),b},[])},newText:function(t,n,i,o){var r,l,C,m,b,s,f,M,d,p;return(m=(C=n.createElementNS(Q,"defs")).appendChild(n.createElementNS(Q,"path"))).id=r=i+"-path",(s=(b=n.createElementNS(Q,"text")).appendChild(n.createElementNS(Q,"textPath"))).href.baseVal="#"+r,s.startOffset.baseVal.newValueSpecifiedUnits(SVGLength.SVG_LENGTHTYPE_PX,0),s.textContent=t,"boolean"!=typeof Oe&&(Oe="paintOrder"in b.style),o&&!Oe?(b.id=l=i+"-text",C.appendChild(b),(d=(f=n.createElementNS(Q,"g")).appendChild(n.createElementNS(Q,"use"))).href.baseVal="#"+l,(M=f.appendChild(n.createElementNS(Q,"use"))).href.baseVal="#"+l,(p=d.style).strokeLinejoin="round",{elmPosition:b,elmPath:m,elmOffset:s,styleText:b.style,styleFill:M.style,styleStroke:p,styleShow:f.style,elmsAppend:[C,f]}):(p=b.style,o&&(p.strokeLinejoin="round",p.paintOrder="stroke"),{elmPosition:b,elmPath:m,elmOffset:s,styleText:p,styleFill:p,styleStroke:o?p:null,styleShow:p,elmsAppend:[C,b]})},initSvg:function(t,n){var i,o,r=B.pathLabel.newText(t.text,n.baseWindow.document,be+"-pathLabel-"+t._id,t.outlineColor);["elmPosition","elmPath","elmOffset","styleFill","styleShow","elmsAppend"].forEach(function(l){t[l]=r[l]}),t.isShown=!1,t.styleShow.visibility="hidden",B.captionLabel.textStyleProps.forEach(function(l){null!=t[l]&&(r.styleText[l]=t[l])}),r.elmsAppend.forEach(function(l){n.svg.appendChild(l)}),r.elmPath.setPathData([{type:"M",values:[0,100]},{type:"h",values:[100]}]),i=r.elmPosition.getBBox(),r.styleText.textAnchor=["start","end","middle"][t.semIndex],2!==t.semIndex||t.lineOffset||r.elmOffset.startOffset.baseVal.newValueSpecifiedUnits(SVGLength.SVG_LENGTHTYPE_PERCENTAGE,50),t.height=i.height,t.outlineColor&&(o=10<(o=i.height/9)?10:o<2?2:o,r.styleStroke.strokeWidth=o+"px",r.styleStroke.stroke=t.outlineColor),t.strokeWidth=o||0,Ee(t.aplStats,B.pathLabel.stats),t.updateColor(n),t.updatePath(n),t.updateStartOffset(n),_e&&v(n,{}),t.updateShow(n)},bind:function(t,n){var i=n.props;return t.color||ye(i,"cur_line_color",t.updateColor),ye(i,"cur_line_strokeWidth",t.updatePath),ye(i,"apl_path",t.updatePath),t.semIndex="startLabel"===n.optionName?0:"endLabel"===n.optionName?1:2,(2!==t.semIndex||t.lineOffset)&&ye(i,"cur_attach_plugBackLenSE",t.updateStartOffset),ye(i,"svgShow",t.updateShow),_e&&ye(i,"new_edge4viewBox",t.adjustEdge),B.pathLabel.initSvg(t,i),!0},unbind:function(t,n){var i=n.props;t.elmsAppend&&(t.elmsAppend.forEach(function(o){i.svg.removeChild(o)}),t.elmPosition=t.elmPath=t.elmOffset=t.styleFill=t.styleShow=t.elmsAppend=null),Ee(t.curStats,B.pathLabel.stats),Ee(t.aplStats,B.pathLabel.stats),t.color||ve(i,"cur_line_color",t.updateColor),ve(i,"cur_line_strokeWidth",t.updatePath),ve(i,"apl_path",t.updatePath),(2!==t.semIndex||t.lineOffset)&&ve(i,"cur_attach_plugBackLenSE",t.updateStartOffset),ve(i,"svgShow",t.updateShow),_e&&(ve(i,"new_edge4viewBox",t.adjustEdge),v(i,{}))},removeOption:function(t,n){var i=n.props,o={};o[n.optionName]="",jt(i,o)},remove:function(t){t.boundTargets.length&&(console.error("LeaderLineAttachment was not unbound by remove"),t.boundTargets.forEach(function(n){B.pathLabel.unbind(t,n)}))}}},Object.keys(B).forEach(function(t){qe[t]=function(){return new Me(B[t],Array.prototype.slice.call(arguments))}}),qe.positionByWindowResize=!0,window.addEventListener("resize",en.add(function(){qe.positionByWindowResize&&Object.keys(we).forEach(function(t){v(we[t],{position:!0})})}),!1)}()},3772:(rn,oe,X)=>{"use strict";X.r(oe),X.d(oe,{PipelineModule:()=>F});var B=X(8583),Me=X(3461),Ye=X(9765),kt=X(2298),Le=(()=>{return(_=Le||(Le={})).inner="inner join",_.left="left outer join",_.right="right outer join",_.full="full outer join",Le;var _})();const gt={[Le.inner]:{title:"\u0627\u0644\u062d\u0627\u0642 \u062f\u0627\u062e\u0644\u06cc"},[Le.left]:{title:"\u0627\u0644\u062d\u0627\u0642 \u0627\u0632 \u0686\u067e"},[Le.right]:{title:"\u0627\u0644\u062d\u0627\u0642 \u0627\u0632 \u0631\u0627\u0633\u062a"},[Le.full]:{title:"\u0627\u0644\u062d\u0627\u0642 \u06a9\u0627\u0645\u0644"}};var Oe=(()=>{return(_=Oe||(Oe={})).count="count",_.sum="sum",_.average="average",_.min="min",_.max="max",Oe;var _})();const Mt={[Oe.count]:{title:"\u0634\u0645\u0627\u0631\u0634"},[Oe.sum]:{title:"\u0645\u062c\u0645\u0648\u0639"},[Oe.average]:{title:"\u0645\u06cc\u0627\u0646\u06af\u06cc\u0646"},[Oe.min]:{title:"\u06a9\u0645\u06cc\u0646\u0647"},[Oe.max]:{title:"\u0628\u06cc\u0634\u06cc\u0646\u0647"}};var ie=(()=>{return(_=ie||(ie={})).datasetInput="dataset_input",_.datasetOutput="dataset_output",_.select="select",_.filter="filter",_.sort="sort",_.join="join",_.aggregate="aggregate",ie;var _})();const je={[ie.datasetInput]:{type:ie.datasetInput,title:"\u062f\u06cc\u062a\u0627\u0633\u062a \u0648\u0631\u0648\u062f\u06cc",altTitle:"",numInputs:0,hasOutput:!0,iconName:"file_download",iconMirrored:!1},[ie.datasetOutput]:{type:ie.datasetOutput,title:"\u062f\u06cc\u062a\u0627\u0633\u062a \u062e\u0631\u0648\u062c\u06cc",altTitle:"",numInputs:1,hasOutput:!1,iconName:"publish",iconMirrored:!1},[ie.select]:{type:ie.select,title:"\u0627\u0646\u062a\u062e\u0627\u0628",altTitle:"Select",numInputs:1,hasOutput:!0,iconName:"edit",iconMirrored:!1},[ie.sort]:{type:ie.sort,title:"\u0645\u0631\u062a\u0628\u200c\u0633\u0627\u0632\u06cc",altTitle:"Sort",numInputs:1,hasOutput:!0,iconName:"sort_by_alpha",iconMirrored:!1},[ie.filter]:{type:ie.filter,title:"\u0641\u06cc\u0644\u062a\u0631",altTitle:"Filter",numInputs:1,hasOutput:!0,iconName:"filter_alt",iconMirrored:!1},[ie.join]:{type:ie.join,title:"\u0627\u0644\u062d\u0627\u0642",altTitle:"Join",numInputs:1,hasOutput:!0,iconName:"merge_type",iconMirrored:!1},[ie.aggregate]:{type:ie.aggregate,title:"\u062a\u062c\u0645\u06cc\u0639",altTitle:"Aggregate",numInputs:1,hasOutput:!0,iconName:"stacked_bar_chart",iconMirrored:!0}};function Lt(_){switch(_){case ie.datasetInput:case ie.datasetOutput:return{datasetId:void 0};case ie.select:return{};case ie.filter:return{condition:""};case ie.sort:return{orders:[]};case ie.join:return{type:Le.inner,joinWith:void 0,leftTableKey:"",rightTableKey:""};case ie.aggregate:return{groupBy:[],operations:[]}}}class be{constructor(I){this.name=I,this.nodes=[],this.nodeAdded=new Ye.xQ,this.nodeEdited=new Ye.xQ,this.nodeRemoved=new Ye.xQ,this.loaded=new kt.t(1)}addNode(I){if(this.nodes.some(a=>a.id===I.id))throw new Error("a node with the same id already exists in the pipeline");this.nodes.push(I),this.nodeAdded.next(I)}createNode(I,a,c={x:0,y:0},v){if(void 0!==v){if(v.length!==je[a].numInputs)throw new Error("invalid number of inputs")}else v=new Array(je[a].numInputs).fill(null);const L={id:this.nextId,name:I,type:a,inputs:v,position:c,config:Lt(a)};return this.addNode(L),L.id}get nextId(){return Math.max(-1,...this.nodes.map(I=>I.id))+1}editNode(I){const a=this.nodes.findIndex(c=>c.id===I.id);if(a<0)throw new Error("a node with the given id does not exist in the pipeline");this.nodes[a]=I,this.nodeEdited.next(I)}markNodeAsEdited(I){const a=this.nodes.find(c=>c.id===I);if(void 0===a)throw new Error("a node with the given id does not exist in the pipeline");this.nodeEdited.next(a)}removeNode(I){const a=this.nodes.findIndex(v=>v.id===I);if(a<0)throw new Error("a node with the given id does not exist in the pipeline");this.nodes.forEach(v=>{let L=!1;for(let K=0;K<v.inputs.length;K++)v.inputs[K]===I&&(v.inputs[K]=null,L=!0);L&&this.nodeEdited.next(v)});const c=this.nodes.splice(a,1)[0];this.nodeRemoved.next(c)}reorder(){const I=[];for(let a=0;a<this.nodes.length;a++){let c=!1,v=a;for(;v<this.nodes.length;v++)if(this.nodes[v].inputs.every(K=>null===K||I.includes(K))){c=!0;break}if(!c)throw new Error("the pipeline is cyclic!");I.push(this.nodes[v].id),(0,Me.bA)(this.nodes,a,v)}}export(){const I=this.nodes.filter(c=>c.type===ie.datasetInput);if(1!==I.length)throw new Error("only one input node is currently supported");const a=this.nodes.filter(c=>c.type===ie.datasetOutput);if(I.length>1)throw new Error("at most one output node is currently supported");return{name:this.name,inputDatasetId:I[0].config.datasetId||null,inputDataset:{id:I[0].id,name:I[0].name,inputs:I[0].inputs,position:I[0].position},outputDatasetId:a.length>0&&a[0].config.datasetId||null,outputDataset:a.length>0?{id:a[0].id,name:a[0].name,inputs:a[0].inputs,position:a[0].position}:null,processes:this.nodes.filter(c=>c.type!==ie.datasetInput&&c.type!==ie.datasetOutput).map(c=>({id:c.id,name:c.name,type:c.type,inputs:c.inputs,position:c.position,instruction:JSON.stringify(c.config)}))}}}var e=X(7716),We=X(2522),Ue=X(4655),Ie=X(1095),He=X(6627),me=X(8295),tt=X(9983),ae=X(3679),Qe=X(5384),Xe=X(3017);X(70);let Pe=(()=>{class _{constructor(a){this.document=a}onContainer(a){return(c,v,L)=>{let K;K=void 0===L?new LeaderLine(c,v):new LeaderLine(c,v,L);const rt=this.document.querySelector("body > .leader-line:last-of-type");if(!rt)return console.error("element of line was not found:",K),K;a.appendChild(rt);const Et=K.remove;return K.remove=()=>{this.document.body.appendChild(rt),Et.bind(K)()},K}}}return _.\u0275fac=function(a){return new(a||_)(e.LFG(B.K0))},_.\u0275prov=e.Yz7({token:_,factory:_.\u0275fac}),_})();var mt=X(3738),lt=X(2458);let _t=(()=>{class _{constructor(a){this.hostRef=a,this.onInit=new e.vpe,this.afterViewInit=new e.vpe,this.onDestroy=new e.vpe}ngOnInit(){this.onInit.emit(this.hostRef.nativeElement)}ngAfterViewInit(){this.afterViewInit.emit(this.hostRef.nativeElement)}ngOnDestroy(){this.onDestroy.emit(this.hostRef.nativeElement)}}return _.\u0275fac=function(a){return new(a||_)(e.Y36(e.SBq))},_.\u0275dir=e.lG2({type:_,selectors:[["","spy-element",""]],outputs:{onInit:"onInit",afterViewInit:"afterViewInit",onDestroy:"onDestroy"}}),_})();const Ot=["connectionEnd"],yt=["connectionEndPreview"],At=["*"];let Ke=(()=>{class _{constructor(a,c){this.lineService=a,this.document=c,this.connectionRestVisibility=!0}tryToInitializeLine(){var a,c;if(void 0===this.line&&void 0!==this.lineContainer&&void 0!==this.connectionBegin&&void 0!==this.connectionEndRef){const v=this.lineService.onContainer(this.lineContainer);this.line=v(this.connectionBegin,null===(a=this.connectionEndRef)||void 0===a?void 0:a.nativeElement,{color:"var(--arrow-color)",startSocket:"left",endSocket:"right",path:"fluid",hide:!this.connectionRestVisibility,startSocketGravity:100,endSocketGravity:100}),this.subscription=null===(c=this.reposition)||void 0===c?void 0:c.subscribe(()=>{var L;null===(L=this.line)||void 0===L||L.position()}),this.line.position()}}updateLineVisibility(){void 0!==this.line&&(this.connectionRestVisibility?this.line.show():this.line.hide("none"))}ngOnInit(){}ngAfterViewInit(){this.tryToInitializeLine(),this.updateLineVisibility()}ngOnChanges(a){this.tryToInitializeLine(),"visibilityOnRest"in a&&this.updateLineVisibility()}ngOnDestroy(){var a,c;null===(a=this.subscription)||void 0===a||a.unsubscribe(),null===(c=this.line)||void 0===c||c.remove()}previewDragStarted(a){this.line.end=this.document.getElementsByClassName("cdk-drag-preview")[0],this.line.show()}previewDragMoved(a){var c;null===(c=this.line)||void 0===c||c.position()}previewDragEnded(){var a;this.line.end=null===(a=this.connectionEndRef)||void 0===a?void 0:a.nativeElement,this.updateLineVisibility()}}return _.\u0275fac=function(a){return new(a||_)(e.Y36(Pe),e.Y36(B.K0))},_.\u0275cmp=e.Xpm({type:_,selectors:[["app-anchor"]],viewQuery:function(a,c){if(1&a&&(e.Gf(Ot,5),e.Gf(yt,5)),2&a){let v;e.iGM(v=e.CRH())&&(c.connectionEndRef=v.first),e.iGM(v=e.CRH())&&(c.connectionEndPreviewRef=v.first)}},inputs:{lineContainer:"lineContainer",connectionBegin:"connectionBegin",connectionRestVisibility:"connectionRestVisibility",reposition:"reposition",dragData:"dragData"},features:[e.TTD],ngContentSelectors:At,decls:3,vars:1,consts:[["cdkDrag","",3,"cdkDragData","cdkDragMoved","cdkDragStarted","cdkDragEnded"],["connectionEnd",""]],template:function(a,c){1&a&&(e.F$t(),e.TgZ(0,"div",0,1),e.NdJ("cdkDragMoved",function(L){return c.previewDragMoved(L)})("cdkDragStarted",function(L){return c.previewDragStarted(L)})("cdkDragEnded",function(){return c.previewDragEnded()}),e.Hsn(2),e.qZA()),2&a&&e.Q6J("cdkDragData",c.dragData)},directives:[Me.Zt],styles:["[_nghost-%COMP%] > *[_ngcontent-%COMP%]{position:absolute}"]}),_})();const Vt=["lineContainer"],Qt=["cardContainer"];function Ft(_,I){if(1&_){const a=e.EpF();e.TgZ(0,"app-anchor",29),e.NdJ("shouldReposition",function(){return e.CHM(a),e.oxw(3).shouldReposition=!0}),e._UZ(1,"div",30),e.qZA()}if(2&_){const a=e.oxw().$implicit,c=e.oxw(2),v=e.MAs(9);e.Q6J("lineContainer",v)("connectionBegin",a.outputPlaceholderElement)("reposition",c.reposition)("dragData",a)}}const zt=function(_,I){return{type:"input",card:_,index:I}};function Yt(_,I){if(1&_){const a=e.EpF();e.TgZ(0,"div",27),e.NdJ("cdkDropListDropped",function(v){return e.CHM(a),e.oxw(2).buttonDrop(v)}),e.YNc(1,Ft,2,4,"app-anchor",28),e.qZA()}if(2&_){const a=I.$implicit,c=I.index,v=e.oxw().$implicit,L=e.oxw();e.Q6J("cdkDropListData",e.WLB(3,zt,v,c))("cdkDropListEnterPredicate",L.inputDropEnterPredicate),e.xp6(1),e.Q6J("ngIf",null!==a)}}const qt=function(_){return{card:_,type:"output"}};function Xt(_,I){if(1&_){const a=e.EpF();e.TgZ(0,"div",31),e.NdJ("cdkDropListDropped",function(v){return e.CHM(a),e.oxw(2).buttonDrop(v)}),e.TgZ(1,"app-anchor",32),e._UZ(2,"div",30),e.qZA(),e.qZA()}if(2&_){const a=e.oxw().$implicit,c=e.MAs(23),v=e.oxw(),L=e.MAs(9);e.Q6J("cdkDropListData",e.VKq(6,qt,a)),e.xp6(1),e.Q6J("lineContainer",L)("connectionBegin",c)("connectionRestVisibility",!1)("reposition",v.reposition)("dragData",a)}}function nt(_,I){if(1&_){const a=e.EpF();e.TgZ(0,"mat-card",17),e.NdJ("click",function(){const L=e.CHM(a).$implicit;return e.oxw().updateSelectedCard(L)})("cdkDragStarted",function(v){return e.CHM(a),e.oxw().cardDragStarted(v)})("cdkDragEnded",function(v){return e.CHM(a),e.oxw().cardDragEnded(v)})("cdkDragMoved",function(){return e.CHM(a),e.oxw().shouldReposition=!0})("transitionend",function(){return e.CHM(a),e.oxw().shouldReposition=!0}),e.TgZ(1,"mat-card-header"),e.TgZ(2,"mat-card-title"),e._uU(3),e.qZA(),e.TgZ(4,"mat-card-subtitle"),e.TgZ(5,"mat-icon"),e._uU(6),e.qZA(),e.TgZ(7,"span"),e._uU(8),e.qZA(),e.qZA(),e.qZA(),e.TgZ(9,"div",18),e.TgZ(10,"button",19),e.TgZ(11,"mat-icon"),e._uU(12,"more_vert"),e.qZA(),e.qZA(),e.TgZ(13,"mat-menu",null,20),e.TgZ(15,"button",21),e.NdJ("click",function(){const L=e.CHM(a).$implicit;return e.oxw().removeNode(L.node.id)}),e.TgZ(16,"mat-icon"),e._uU(17,"delete"),e.qZA(),e.TgZ(18,"span"),e._uU(19,"\u062d\u0630\u0641"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(20,"div",22),e.YNc(21,Yt,2,6,"div",23),e.qZA(),e.TgZ(22,"div",24,25),e.NdJ("onInit",function(){const L=e.CHM(a).$implicit,K=e.MAs(23);return L.outputPlaceholderElement=K}),e.YNc(24,Xt,3,8,"div",26),e.qZA(),e.qZA()}if(2&_){const a=I.$implicit,c=e.MAs(14),v=e.oxw();e.ekj("selected",(null==v.selectedCard||null==v.selectedCard.node?null:v.selectedCard.node.id)===a.node.id),e.Q6J("cdkDragData",a)("cdkDragFreeDragPosition",a.position),e.xp6(3),e.Oqu(a.title),e.xp6(2),e.ekj("mat-icon-rtl-mirror",a.typeInfo.iconMirrored),e.xp6(1),e.hij(" ",a.typeInfo.iconName," "),e.xp6(2),e.Oqu(a.subtitle),e.xp6(2),e.Q6J("matMenuTriggerFor",c),e.xp6(11),e.Q6J("ngForOf",a.inputs),e.xp6(3),e.Q6J("ngIf",a.hasOutput)}}function Ve(_,I){1&_&&e._UZ(0,"div",40)}function vt(_,I){1&_&&e._UZ(0,"div",41)}const Kt=function(){return[]};function Bt(_,I){if(1&_&&(e.TgZ(0,"div"),e.TgZ(1,"mat-card",36),e.TgZ(2,"mat-card-header"),e.TgZ(3,"mat-card-title"),e._uU(4),e.qZA(),e.TgZ(5,"mat-card-subtitle"),e.TgZ(6,"mat-icon"),e._uU(7),e.qZA(),e.TgZ(8,"span"),e._uU(9),e.qZA(),e.qZA(),e.qZA(),e.TgZ(10,"div",22),e.YNc(11,Ve,1,0,"div",37),e.qZA(),e.TgZ(12,"div",38),e.YNc(13,vt,1,0,"div",39),e.qZA(),e.qZA(),e.qZA()),2&_){const a=e.oxw().$implicit;e.xp6(4),e.hij(" ",a.title," "),e.xp6(2),e.ekj("mat-icon-rtl-mirror",a.iconMirrored),e.xp6(1),e.hij(" ",a.iconName," "),e.xp6(2),e.Oqu(a.title),e.xp6(2),e.Q6J("ngForOf",e.DdM(7,Kt).constructor(a.numInputs)),e.xp6(2),e.Q6J("ngIf",a.hasOutput)}}function Q(_,I){if(1&_){const a=e.EpF();e.TgZ(0,"div",33),e.TgZ(1,"mat-card",34),e.NdJ("cdkDragEnded",function(v){return e.CHM(a),e.oxw().addNode(v)}),e.TgZ(2,"mat-icon"),e._uU(3),e.qZA(),e.TgZ(4,"span"),e._uU(5),e.qZA(),e.YNc(6,Bt,14,8,"div",35),e.qZA(),e.qZA()}if(2&_){const a=I.$implicit;e.xp6(1),e.Q6J("cdkDragData",a),e.xp6(1),e.ekj("mat-icon-rtl-mirror",a.iconMirrored),e.xp6(1),e.hij(" ",a.iconName," "),e.xp6(2),e.Oqu(a.title)}}const xt=function(){return{type:"remove"}},Ae=4*parseFloat(getComputedStyle(document.documentElement).fontSize);class it{constructor(I){this.node=I,this.inputs=Array(I.inputs.length).fill(null),this.hasOutput=this.typeInfo.hasOutput,this.updatePosition()}get title(){return this.node.name}get subtitle(){return je[this.node.type].title}get typeInfo(){return je[this.node.type]}updatePosition(){this.position={x:-this.node.position.x*Ae,y:this.node.position.y*Ae}}}let _e=(()=>{class _{constructor(a){this.lineService=a,this.selectedNodeEvent=new e.vpe,this.lines=[],this.baseOffset={x:0,y:0},this.dragOffset={x:0,y:0},this.cards=[],this.reposition=new Ye.xQ,this.shouldReposition=!1,this.Card=it,this.nodeTypes=Object.values(je),this.log=console.log}ngOnInit(){this.pipeline.nodes.forEach(a=>{this.cards.push(new it(a))}),this.pipeline.nodes.forEach(a=>{this.updateCardInputs(a)}),this.pipeline.nodeAdded.subscribe(a=>{this.cards.push(new it(a)),this.updateCardInputs(a)}),this.pipeline.nodeEdited.subscribe(a=>{this.updateCardInputs(a)}),this.pipeline.nodeRemoved.subscribe(a=>{const c=this.cards.findIndex(v=>v.node.id===a.id);this.cards.splice(c,1)}),this.pipeline.loaded.subscribe(()=>{this.autoView()})}ngAfterViewInit(){this.Line=this.lineService.onContainer(this.lineContainer.nativeElement),window.addEventListener("load",()=>{this.reposition.next()})}ngAfterViewChecked(){this.reposition.next(),this.shouldReposition=!1}updateSelectedCard(a){this.selectedCard=a,this.selectedNodeEvent.emit(null==a?void 0:a.node)}autoView(){if(this.pipeline.nodes.length>0){const a=this.pipeline.nodes.reduce((c,v)=>({x:Math.min(c.x,v.position.x),y:Math.min(c.y,v.position.y)}),{x:Number.POSITIVE_INFINITY,y:Number.POSITIVE_INFINITY});this.baseOffset={x:(a.x-2)*Ae,y:-(a.y-2)*Ae}}}updateCardInputs(a){const c=this.findCard(a.id);for(let v=0;v<c.inputs.length;v++)c.inputs[v]=null===a.inputs[v]?null:this.findCard(a.inputs[v])}findCard(a){return this.cards.find(c=>c.node.id===a)}inputDropEnterPredicate(a,c){return a.data!==c.data.card}buttonDrop(a){if(a.previousContainer===a.container)return;const c=a.previousContainer.data,v=a.container.data;"output"===v.type||"remove"===v.type?"input"===c.type&&(c.card.node.inputs[c.index]=null,this.pipeline.markNodeAsEdited(c.card.node.id)):"input"===v.type&&("input"===c.type?(v.card.node.inputs[v.index]=c.card.node.inputs[c.index],c.card.node.inputs[c.index]=null,this.pipeline.markNodeAsEdited(c.card.node.id),this.pipeline.markNodeAsEdited(v.card.node.id)):"output"===c.type&&(v.card.node.inputs[v.index]=c.card.node.id,this.pipeline.markNodeAsEdited(v.card.node.id)))}updateDragOffset(a){this.dragOffset=a.distance}updateOffset(a){this.baseOffset={x:this.baseOffset.x+a.distance.x,y:this.baseOffset.y+a.distance.y},this.dragOffset={x:0,y:0},a.source.reset()}cardDragStarted(a){a.source.element.nativeElement.classList.remove("snap-animation")}cardDragEnded(a){a.source.element.nativeElement.classList.add("snap-animation"),a.source.data.node.position={x:Math.round(-a.source.getFreeDragPosition().x/Ae),y:Math.round(a.source.getFreeDragPosition().y/Ae)},a.source.data.updatePosition()}addNode(a){const c=this.cardContainer.nativeElement.getBoundingClientRect();if(a.dropPoint.x<c.left||a.dropPoint.x>c.right||a.dropPoint.y<c.top||a.dropPoint.y>c.bottom)return;const v_y=a.dropPoint.y-c.top-Ae-this.baseOffset.y,L={x:Math.round((c.right-a.dropPoint.x-2.5*Ae+this.baseOffset.x)/Ae),y:Math.round(v_y/Ae)};this.pipeline.createNode(a.source.data.title,a.source.data.type,L)}removeNode(a){var c,v;this.pipeline.removeNode(a),(null===(v=null===(c=this.selectedCard)||void 0===c?void 0:c.node)||void 0===v?void 0:v.id)===a&&this.updateSelectedCard(void 0)}}return _.\u0275fac=function(a){return new(a||_)(e.Y36(Pe))},_.\u0275cmp=e.Xpm({type:_,selectors:[["app-diagram"]],viewQuery:function(a,c){if(1&a&&(e.Gf(Vt,5),e.Gf(Qt,5)),2&a){let v;e.iGM(v=e.CRH())&&(c.lineContainer=v.first),e.iGM(v=e.CRH())&&(c.cardContainer=v.first)}},inputs:{pipeline:"pipeline"},outputs:{selectedNodeEvent:"selectedNode"},decls:24,vars:10,consts:[["hasBackdrop","false"],[1,"diagram-container"],["cdkDropListGroup","","cdkDrag","",1,"card-container",3,"cdkDragEnded","cdkDragMoved"],["cardContainer",""],["cdkDropList","",1,"remove-connection-container",3,"cdkDropListData","cdkDropListDropped"],[1,"offset-container"],["class","diagram-card","cdkDrag","",3,"selected","cdkDragData","cdkDragFreeDragPosition","click","cdkDragStarted","cdkDragEnded","cdkDragMoved","transitionend",4,"ngFor","ngForOf"],[1,"line-container"],["lineContainer",""],[1,"add-node-button-container"],["mat-raised-button","","color","primary",3,"click"],["position","end","mode","side"],["addSidePane",""],[1,"add-node-pane"],["mat-icon-button","",3,"click"],[1,"add-node-list"],["cdkDropList","",4,"ngFor","ngForOf"],["cdkDrag","",1,"diagram-card",3,"cdkDragData","cdkDragFreeDragPosition","click","cdkDragStarted","cdkDragEnded","cdkDragMoved","transitionend"],[1,"more-menu-container"],["mat-icon-button","",3,"matMenuTriggerFor"],["moreMenu","matMenu"],["mat-menu-item","","disableRipple","","matRipple","","matRippleColor","rgba(255, 0, 0, 0.2)",1,"remove-menu-item",3,"click"],[1,"drop-placeholder","input-drop-placeholder"],["class","empty-button-placeholder","cdkDropList","",3,"cdkDropListData","cdkDropListEnterPredicate","cdkDropListDropped",4,"ngFor","ngForOf"],["spy-element","",1,"drop-placeholder","output-drop-placeholder",3,"onInit"],["connectionBegin",""],["class","full-button-placeholder","cdkDropList","",3,"cdkDropListData","cdkDropListDropped",4,"ngIf"],["cdkDropList","",1,"empty-button-placeholder",3,"cdkDropListData","cdkDropListEnterPredicate","cdkDropListDropped"],[3,"lineContainer","connectionBegin","reposition","dragData","shouldReposition",4,"ngIf"],[3,"lineContainer","connectionBegin","reposition","dragData","shouldReposition"],[1,"drag-button"],["cdkDropList","",1,"full-button-placeholder",3,"cdkDropListData","cdkDropListDropped"],[3,"lineContainer","connectionBegin","connectionRestVisibility","reposition","dragData"],["cdkDropList",""],["cdkDrag","",1,"add-node-card",3,"cdkDragData","cdkDragEnded"],[4,"cdkDragPreview"],[1,"diagram-card","preview-diagram-card"],["class","empty-button-placeholder",4,"ngFor","ngForOf"],[1,"drop-placeholder","output-drop-placeholder"],["class","full-button-placeholder",4,"ngIf"],[1,"empty-button-placeholder"],[1,"full-button-placeholder"]],template:function(a,c){if(1&a){const v=e.EpF();e.TgZ(0,"mat-sidenav-container",0),e.TgZ(1,"mat-sidenav-content"),e.TgZ(2,"div",1),e.TgZ(3,"div",2,3),e.NdJ("cdkDragEnded",function(K){return c.updateOffset(K)})("cdkDragMoved",function(K){return c.shouldReposition=!0,c.updateDragOffset(K)}),e.TgZ(5,"div",4),e.NdJ("cdkDropListDropped",function(K){return c.buttonDrop(K)}),e.qZA(),e.TgZ(6,"div",5),e.YNc(7,nt,25,12,"mat-card",6),e.qZA(),e.qZA(),e._UZ(8,"div",7,8),e.TgZ(10,"div",9),e.TgZ(11,"button",10),e.NdJ("click",function(){return e.CHM(v),e.MAs(15).open()}),e.TgZ(12,"mat-icon"),e._uU(13,"add"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(14,"mat-sidenav",11,12),e.TgZ(16,"div",13),e.TgZ(17,"h3"),e._uU(18," \u067e\u0631\u062f\u0627\u0632\u0634 \u062c\u062f\u06cc\u062f "),e.TgZ(19,"button",14),e.NdJ("click",function(){return e.CHM(v),e.MAs(15).close()}),e.TgZ(20,"mat-icon"),e._uU(21,"chevron_left"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(22,"div",15),e.YNc(23,Q,7,5,"div",16),e.qZA(),e.qZA(),e.qZA(),e.qZA()}if(2&a){const v=e.MAs(15);e.xp6(2),e.Udp("background-position","right "+(-c.baseOffset.x-c.dragOffset.x)+"px top "+(c.baseOffset.y+c.dragOffset.y)+"px"),e.xp6(3),e.Q6J("cdkDropListData",e.DdM(9,xt)),e.xp6(1),e.Udp("transform","translate("+c.baseOffset.x+"px, "+c.baseOffset.y+"px)"),e.xp6(1),e.Q6J("ngForOf",c.cards),e.xp6(3),e.ekj("invisible",v.opened),e.xp6(13),e.Q6J("ngForOf",c.nodeTypes)}},directives:[Xe.TM,Xe.Rh,Me.Fd,Me.Zt,Me.Wj,B.sg,Ie.lW,He.Hw,Xe.JX,mt.a8,mt.dk,mt.n5,mt.$j,Qe.p6,Qe.VK,Qe.OP,lt.wG,_t,B.O5,Ke,Me.pV],styles:[":root{--arrow-color: #673ab7}.mat-sidenav-container[_ngcontent-%COMP%]{width:100%;height:100%}.diagram-container[_ngcontent-%COMP%]{width:100%;height:100%;overflow:hidden;background-size:4rem 4rem;background-image:linear-gradient(to right,#eee .1rem,transparent .1rem),linear-gradient(to bottom,#eee .1rem,transparent .1rem)}.card-container[_ngcontent-%COMP%]{width:100%;height:100%}.card-container.cdk-drag-dragging[_ngcontent-%COMP%]{cursor:grab}.card-container[_ngcontent-%COMP%]   .diagram-card[_ngcontent-%COMP%]{position:absolute}.offset-container[_ngcontent-%COMP%]{width:0;height:0;overflow:visible}.diagram-card[_ngcontent-%COMP%]{width:20rem;height:8rem;display:flex;flex-direction:row;justify-content:center;-webkit-user-select:none;user-select:none;cursor:pointer;transition:box-shadow .28s cubic-bezier(.4,0,.2,1);box-shadow:0 3px 1px -2px #0003,0 2px 2px #00000024,0 1px 5px #0000001f}.diagram-card.snap-animation[_ngcontent-%COMP%]{transition:transform .2s ease-in-out,box-shadow .28s cubic-bezier(.4,0,.2,1)}.diagram-card.selected[_ngcontent-%COMP%]{box-shadow:0 2px 4px -1px #673ab799,0 4px 5px #673ab76b,0 1px 10px #673ab75c}.diagram-card.cdk-drag-dragging[_ngcontent-%COMP%]{box-shadow:0 3px 5px -1px #673ab799,0 6px 10px #673ab76b,0 1px 18px #673ab75c;cursor:move}.diagram-card[_ngcontent-%COMP%]   .mat-card-title[_ngcontent-%COMP%], .diagram-card[_ngcontent-%COMP%]   .mat-card-subtitle[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:center;grid-gap:var(--density-smaller);gap:var(--density-smaller)}.more-menu-container[_ngcontent-%COMP%]{position:absolute;top:0;left:0;margin:var(--density-small)}.remove-menu-item[_ngcontent-%COMP%]{color:#f44336}.remove-menu-item[_ngcontent-%COMP%] > .mat-icon[_ngcontent-%COMP%]{color:#f44336}.drop-placeholder[_ngcontent-%COMP%]{position:absolute;width:0;height:8rem;display:flex;flex-direction:column;justify-content:space-evenly;align-items:center}.input-drop-placeholder[_ngcontent-%COMP%]{top:0;right:0}.output-drop-placeholder[_ngcontent-%COMP%]{top:0;left:0}.empty-button-placeholder[_ngcontent-%COMP%]{width:2rem;height:2rem;border-radius:100%;background-color:#d1c4e9}.empty-button-placeholder[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{position:absolute}.full-button-placeholder[_ngcontent-%COMP%]{width:2rem;height:2rem;border-radius:100%;background-color:#673ab7}.full-button-placeholder[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{position:absolute}.drag-button[_ngcontent-%COMP%]{width:2rem;height:2rem;border-radius:100%;background-color:#673ab7}.line-container[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:0;height:0}.remove-connection-container[_ngcontent-%COMP%]{position:absolute;top:0;right:0;width:100%;height:100%}.remove-connection-container[_ngcontent-%COMP%]   .drag-button[_ngcontent-%COMP%]{display:none}.add-node-button-container[_ngcontent-%COMP%]{position:absolute;top:0;left:0;margin:var(--density-large);transition:opacity .2s ease-in;opacity:1}.add-node-button-container.invisible[_ngcontent-%COMP%]{visibility:hidden;opacity:0}.mat-sidenav[_ngcontent-%COMP%]{width:20rem}.add-node-pane[_ngcontent-%COMP%]{min-height:100%;padding:var(--density-large);background-color:#fafafa}.add-node-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;grid-gap:var(--density-large);gap:var(--density-large)}.add-node-card[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;grid-gap:var(--density-small);gap:var(--density-small);-webkit-user-select:none;user-select:none;cursor:move}.preview-diagram-card[_ngcontent-%COMP%]{position:absolute;transform:translate(50%,-50%)}"]}),_})();var st=X(7441);function Ne(_,I){if(1&_){const a=e.EpF();e.TgZ(0,"div"),e.TgZ(1,"h3"),e._uU(2,"\u0627\u0637\u0644\u0627\u0639\u0627\u062a \u062f\u06cc\u062a\u0627\u0633\u062a"),e.qZA(),e.TgZ(3,"mat-form-field",1),e.TgZ(4,"mat-label"),e._uU(5,"\u062f\u06cc\u062a\u0627\u0633\u062a"),e.qZA(),e.TgZ(6,"mat-select",2),e.NdJ("ngModelChange",function(v){return e.CHM(a),e.oxw().config.datasetId=v}),e._UZ(7,"mat-option"),e.TgZ(8,"mat-option",3),e._uU(9," \u0627\u0637\u0644\u0627\u0639\u0627\u062a \u06a9\u0627\u0631\u0628\u0631\u06cc "),e.qZA(),e.TgZ(10,"mat-option",3),e._uU(11," \u0627\u0637\u0644\u0627\u0639\u0627\u062a \u0628\u0627\u0646\u06a9\u06cc "),e.qZA(),e.TgZ(12,"mat-option",3),e._uU(13," \u0627\u0637\u0644\u0627\u0639\u0627\u062a \u0622\u0628\u0627\u0627\u062c\u062f\u0627\u062f\u06cc "),e.qZA(),e.qZA(),e.TgZ(14,"mat-error"),e._uU(15,"\u0644\u0637\u0641\u0627\u064b \u06cc\u06a9 \u062f\u06cc\u062a\u0627\u0633\u062a \u0627\u0646\u062a\u062e\u0627\u0628 \u06a9\u0646\u06cc\u062f"),e.qZA(),e.qZA(),e.qZA()}if(2&_){const a=e.oxw();e.xp6(6),e.Q6J("ngModel",a.config.datasetId),e.xp6(2),e.Q6J("value",1),e.xp6(2),e.Q6J("value",2),e.xp6(2),e.Q6J("value",3)}}let Ge=(()=>{class _{constructor(){}ngOnInit(){}}return _.\u0275fac=function(a){return new(a||_)},_.\u0275cmp=e.Xpm({type:_,selectors:[["app-input-config"]],inputs:{config:"config"},decls:1,vars:1,consts:[[4,"ngIf"],[1,"wide-field"],["required","",3,"ngModel","ngModelChange"],[3,"value"]],template:function(a,c){1&a&&e.YNc(0,Ne,16,4,"div",0),2&a&&e.Q6J("ngIf",void 0!==c.config)},directives:[B.O5,me.KE,me.hX,st.gD,ae.Q7,ae.JJ,ae.On,lt.ey,me.TO],styles:[""]}),_})();function Te(_,I){if(1&_){const a=e.EpF();e.TgZ(0,"div"),e.TgZ(1,"h3"),e._uU(2,"\u0627\u0637\u0644\u0627\u0639\u0627\u062a \u062f\u06cc\u062a\u0627\u0633\u062a"),e.qZA(),e.TgZ(3,"mat-form-field",1),e.TgZ(4,"mat-label"),e._uU(5,"\u062f\u06cc\u062a\u0627\u0633\u062a"),e.qZA(),e.TgZ(6,"mat-select",2),e.NdJ("ngModelChange",function(v){return e.CHM(a),e.oxw().config.datasetId=v}),e._UZ(7,"mat-option",3),e.TgZ(8,"mat-option",3),e._uU(9," \u0627\u0637\u0644\u0627\u0639\u0627\u062a \u06a9\u0627\u0631\u0628\u0631\u06cc "),e.qZA(),e.TgZ(10,"mat-option",3),e._uU(11," \u0627\u0637\u0644\u0627\u0639\u0627\u062a \u0628\u0627\u0646\u06a9\u06cc "),e.qZA(),e.TgZ(12,"mat-option",3),e._uU(13," \u0627\u0637\u0644\u0627\u0639\u0627\u062a \u0622\u0628\u0627\u0627\u062c\u062f\u0627\u062f\u06cc "),e.qZA(),e.qZA(),e.TgZ(14,"mat-error"),e._uU(15,"\u0644\u0637\u0641\u0627\u064b \u06cc\u06a9 \u062f\u06cc\u062a\u0627\u0633\u062a \u0627\u0646\u062a\u062e\u0627\u0628 \u06a9\u0646\u06cc\u062f"),e.qZA(),e.qZA(),e.qZA()}if(2&_){const a=e.oxw();e.xp6(6),e.Q6J("ngModel",a.config.datasetId),e.xp6(1),e.Q6J("value",null),e.xp6(1),e.Q6J("value",1),e.xp6(2),e.Q6J("value",2),e.xp6(2),e.Q6J("value",3)}}let Se=(()=>{class _{constructor(){}ngOnInit(){}}return _.\u0275fac=function(a){return new(a||_)},_.\u0275cmp=e.Xpm({type:_,selectors:[["app-output-config"]],inputs:{config:"config"},decls:1,vars:1,consts:[[4,"ngIf"],[1,"wide-field"],["required","",3,"ngModel","ngModelChange"],[3,"value"]],template:function(a,c){1&a&&e.YNc(0,Te,16,5,"div",0),2&a&&e.Q6J("ngIf",void 0!==c.config)},directives:[B.O5,me.KE,me.hX,st.gD,ae.Q7,ae.JJ,ae.On,lt.ey,me.TO],styles:[""]}),_})();function $t(_,I){if(1&_){const a=e.EpF();e.TgZ(0,"div"),e.TgZ(1,"h3"),e._uU(2,"\u0627\u0637\u0644\u0627\u0639\u0627\u062a \u0641\u06cc\u0644\u062a\u0631"),e.qZA(),e.TgZ(3,"mat-form-field",1),e.TgZ(4,"mat-label"),e._uU(5,"\u0634\u0631\u0637 \u062e\u0627\u0645"),e.qZA(),e.TgZ(6,"input",2),e.NdJ("ngModelChange",function(v){return e.CHM(a),e.oxw().config.condition=v}),e.qZA(),e.qZA(),e.TgZ(7,"button",3),e.TgZ(8,"mat-icon",4),e._uU(9,"launch"),e.qZA(),e._uU(10," \u0637\u0631\u0627\u062d\u06cc "),e.qZA(),e.qZA()}if(2&_){const a=e.oxw();e.xp6(6),e.Q6J("ngModel",a.config.condition)}}let en=(()=>{class _{constructor(){}ngOnInit(){}}return _.\u0275fac=function(a){return new(a||_)},_.\u0275cmp=e.Xpm({type:_,selectors:[["app-filter-config"]],inputs:{config:"config"},decls:1,vars:1,consts:[[4,"ngIf"],[1,"wide-field"],["matInput","","type","text","required","",1,"propery-input",3,"ngModel","ngModelChange"],["mat-raised-button","","color","accent"],[1,"mat-icon-rtl-mirror"]],template:function(a,c){1&a&&e.YNc(0,$t,11,1,"div",0),2&a&&e.Q6J("ngIf",void 0!==c.config)},directives:[B.O5,me.KE,me.hX,tt.Nt,ae.Fj,ae.Q7,ae.JJ,ae.On,Ie.lW,He.Hw],styles:[""]}),_})();var Je=X(171),Tt=X(946),Rt=X(7539);const Zt=["orderPanel"];function we(_,I){if(1&_){const a=e.EpF();e.TgZ(0,"mat-expansion-panel",6,7),e.TgZ(2,"mat-expansion-panel-header"),e.TgZ(3,"mat-panel-title"),e.TgZ(4,"mat-icon",8),e._uU(5," drag_handle "),e.qZA(),e.TgZ(6,"span"),e.TgZ(7,"bdo",9),e._uU(8),e.qZA(),e.qZA(),e.TgZ(9,"mat-icon",10),e._uU(10),e.qZA(),e.qZA(),e.qZA(),e.TgZ(11,"mat-form-field",11),e.TgZ(12,"mat-label"),e._uU(13,"\u0646\u0627\u0645 \u0645\u062a\u063a\u06cc\u0631"),e.qZA(),e.TgZ(14,"input",12),e.NdJ("ngModelChange",function(v){return e.CHM(a).$implicit.fieldName=v}),e.qZA(),e.qZA(),e.TgZ(15,"div",13),e.TgZ(16,"mat-checkbox",14),e.NdJ("ngModelChange",function(v){return e.CHM(a).$implicit.descending=v}),e._uU(17," \u0646\u0632\u0648\u0644\u06cc "),e.qZA(),e.TgZ(18,"button",15),e.NdJ("click",function(){const L=e.CHM(a).index;return e.oxw(3).removeOrder(L)}),e.TgZ(19,"mat-icon"),e._uU(20,"delete"),e.qZA(),e._uU(21," \u062d\u0630\u0641 "),e.qZA(),e.qZA(),e.qZA()}if(2&_){const a=I.$implicit;e.xp6(8),e.Oqu(a.fieldName),e.xp6(2),e.hij(" ",a.descending?"south":"north"," "),e.xp6(4),e.Q6J("ngModel",a.fieldName),e.xp6(2),e.Q6J("ngModel",a.descending)}}function tn(_,I){if(1&_){const a=e.EpF();e.TgZ(0,"mat-accordion",4),e.NdJ("cdkDropListDropped",function(v){return e.CHM(a),e.oxw(2).dropOrder(v)}),e.YNc(1,we,22,4,"mat-expansion-panel",5),e.qZA()}if(2&_){const a=e.oxw(2);e.xp6(1),e.Q6J("ngForOf",a.config.orders)}}function Ce(_,I){if(1&_){const a=e.EpF();e.TgZ(0,"div"),e.TgZ(1,"div",1),e.TgZ(2,"h3"),e._uU(3,"\u0645\u0631\u062a\u0628\u200c\u0633\u0627\u0632\u06cc \u0628\u0631\u0627\u0633\u0627\u0633"),e.qZA(),e.TgZ(4,"button",2),e.NdJ("click",function(){return e.CHM(a),e.oxw().addOrder()}),e.TgZ(5,"mat-icon"),e._uU(6,"add"),e.qZA(),e.qZA(),e.qZA(),e.YNc(7,tn,2,1,"mat-accordion",3),e.qZA()}if(2&_){const a=e.oxw();e.xp6(7),e.Q6J("ngIf",void 0!==a.config.orders)}}let nn=(()=>{class _{constructor(a){this.cdref=a,this.expandNewOrder=!1}ngOnInit(){}ngAfterViewChecked(){var a;this.expandNewOrder&&(this.expandNewOrder=!1,null===(a=this.firstOrderPanel)||void 0===a||a.open(),this.cdref.detectChanges())}addOrder(){var a,c;null===(c=null===(a=this.config)||void 0===a?void 0:a.orders)||void 0===c||c.unshift({fieldName:"",descending:!1}),this.expandNewOrder=!0}removeOrder(a){var c,v;null===(v=null===(c=this.config)||void 0===c?void 0:c.orders)||void 0===v||v.splice(a,1)}dropOrder(a){(0,Me.bA)(this.config.orders,a.previousIndex,a.currentIndex)}}return _.\u0275fac=function(a){return new(a||_)(e.Y36(e.sBO))},_.\u0275cmp=e.Xpm({type:_,selectors:[["app-sort-config"]],viewQuery:function(a,c){if(1&a&&e.Gf(Zt,5),2&a){let v;e.iGM(v=e.CRH())&&(c.firstOrderPanel=v.first)}},inputs:{config:"config"},decls:1,vars:1,consts:[[4,"ngIf"],[1,"config-title-add"],["mat-icon-button","","color","primary",3,"click"],["cdkDropList","",3,"cdkDropListDropped",4,"ngIf"],["cdkDropList","",3,"cdkDropListDropped"],["cdkDrag","",4,"ngFor","ngForOf"],["cdkDrag",""],["orderPanel",""],["cdkDragHandle","",1,"drag-handle"],["dir","ltr"],[1,"sort-icon"],[1,"wide-field"],["matInput","","type","text","required","",1,"propery-input",3,"ngModel","ngModelChange"],[1,"inline-row"],[3,"ngModel","ngModelChange"],["mat-raised-button","","color","warn",3,"click"]],template:function(a,c){1&a&&e.YNc(0,Ce,8,1,"div",0),2&a&&e.Q6J("ngIf",void 0!==c.config)},directives:[B.O5,Ie.lW,He.Hw,Je.pp,Me.Wj,B.sg,Je.ib,Me.Zt,Je.yz,Je.yK,Me.Bh,Tt.Lv,me.KE,me.hX,tt.Nt,ae.Fj,ae.Q7,ae.JJ,ae.On,Rt.oG],styles:["mat-panel-title[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;-webkit-user-select:none;user-select:none}.drag-handle[_ngcontent-%COMP%]{color:#0000008a;margin-left:var(--density-small);cursor:move}.sort-icon[_ngcontent-%COMP%]{transform:scale(.7)}.inline-row[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:space-between}"]}),_})();function $e(_,I){if(1&_&&(e.TgZ(0,"mat-option",5),e._uU(1),e.qZA()),2&_){const a=I.$implicit,c=e.oxw(2);e.Q6J("value",a),e.xp6(1),e.hij(" ",c.joinTypeInfo[a].title," ")}}function ke(_,I){if(1&_){const a=e.EpF();e.TgZ(0,"div"),e.TgZ(1,"h3"),e._uU(2,"\u0627\u0637\u0644\u0627\u0639\u0627\u062a \u0627\u0644\u062d\u0627\u0642"),e.qZA(),e.TgZ(3,"mat-form-field",1),e.TgZ(4,"mat-label"),e._uU(5,"\u0646\u0648\u0639"),e.qZA(),e.TgZ(6,"mat-select",2),e.NdJ("ngModelChange",function(v){return e.CHM(a),e.oxw().config.type=v}),e.YNc(7,$e,2,2,"mat-option",3),e.qZA(),e.qZA(),e.TgZ(8,"mat-form-field",1),e.TgZ(9,"mat-label"),e._uU(10,"\u062f\u06cc\u062a\u0627\u0633\u062a \u0631\u0627\u0633\u062a"),e.qZA(),e.TgZ(11,"mat-select",4),e.NdJ("ngModelChange",function(v){return e.CHM(a),e.oxw().config.joinWith=v}),e._UZ(12,"mat-option"),e.TgZ(13,"mat-option",5),e._uU(14," \u0627\u0637\u0644\u0627\u0639\u0627\u062a \u06a9\u0627\u0631\u0628\u0631\u06cc "),e.qZA(),e.TgZ(15,"mat-option",5),e._uU(16," \u0627\u0637\u0644\u0627\u0639\u0627\u062a \u0628\u0627\u0646\u06a9\u06cc "),e.qZA(),e.TgZ(17,"mat-option",5),e._uU(18," \u0627\u0637\u0644\u0627\u0639\u0627\u062a \u0622\u0628\u0627\u0627\u062c\u062f\u0627\u062f\u06cc "),e.qZA(),e.qZA(),e.TgZ(19,"mat-error"),e._uU(20,"\u0644\u0637\u0641\u0627\u064b \u06cc\u06a9 \u062f\u06cc\u062a\u0627\u0633\u062a \u0627\u0646\u062a\u062e\u0627\u0628 \u06a9\u0646\u06cc\u062f"),e.qZA(),e.qZA(),e.TgZ(21,"mat-form-field",1),e.TgZ(22,"mat-label"),e._uU(23,"\u06a9\u0644\u06cc\u062f \u0686\u067e"),e.qZA(),e.TgZ(24,"input",6),e.NdJ("ngModelChange",function(v){return e.CHM(a),e.oxw().config.leftTableKey=v}),e.qZA(),e.qZA(),e.TgZ(25,"mat-form-field",1),e.TgZ(26,"mat-label"),e._uU(27,"\u06a9\u0644\u06cc\u062f \u0631\u0627\u0633\u062a"),e.qZA(),e.TgZ(28,"input",6),e.NdJ("ngModelChange",function(v){return e.CHM(a),e.oxw().config.rightTableKey=v}),e.qZA(),e.qZA(),e.qZA()}if(2&_){const a=e.oxw();e.xp6(6),e.Q6J("ngModel",a.config.type),e.xp6(1),e.Q6J("ngForOf",a.joinType),e.xp6(4),e.Q6J("ngModel",a.config.joinWith),e.xp6(2),e.Q6J("value",1),e.xp6(2),e.Q6J("value",2),e.xp6(2),e.Q6J("value",3),e.xp6(7),e.Q6J("ngModel",a.config.leftTableKey),e.xp6(4),e.Q6J("ngModel",a.config.rightTableKey)}}let ut=(()=>{class _{constructor(){this.joinTypeInfo=gt,this.joinType=Object.values(Le)}ngOnInit(){}}return _.\u0275fac=function(a){return new(a||_)},_.\u0275cmp=e.Xpm({type:_,selectors:[["app-join-config"]],inputs:{config:"config"},decls:1,vars:1,consts:[[4,"ngIf"],[1,"wide-field"],[3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],["required","",3,"ngModel","ngModelChange"],[3,"value"],["matInput","","type","text","required","",1,"propery-input",3,"ngModel","ngModelChange"]],template:function(a,c){1&a&&e.YNc(0,ke,29,8,"div",0),2&a&&e.Q6J("ngIf",void 0!==c.config)},directives:[B.O5,me.KE,me.hX,st.gD,ae.JJ,ae.On,B.sg,ae.Q7,lt.ey,me.TO,tt.Nt,ae.Fj],styles:[""]}),_})();const dt=["groupByPanel"],St=["operationPanel"];function It(_,I){if(1&_){const a=e.EpF();e.TgZ(0,"mat-expansion-panel",null,4),e.TgZ(2,"mat-expansion-panel-header"),e.TgZ(3,"mat-panel-title"),e.TgZ(4,"span"),e.TgZ(5,"bdo",5),e._uU(6),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(7,"mat-form-field",6),e.TgZ(8,"mat-label"),e._uU(9,"\u0646\u0627\u0645 \u0645\u062a\u063a\u06cc\u0631"),e.qZA(),e.TgZ(10,"input",7),e.NdJ("ngModelChange",function(v){const K=e.CHM(a).index;return e.oxw(3).config.groupBy[K]=v}),e.qZA(),e.qZA(),e.TgZ(11,"div",8),e._UZ(12,"div"),e.TgZ(13,"button",9),e.NdJ("click",function(){const L=e.CHM(a).index;return e.oxw(3).removeGroupBy(L)}),e.TgZ(14,"mat-icon"),e._uU(15,"delete"),e.qZA(),e._uU(16," \u062d\u0630\u0641 "),e.qZA(),e.qZA(),e.qZA()}if(2&_){const a=I.$implicit,c=I.index,v=e.oxw(3);e.xp6(6),e.Oqu(a),e.xp6(4),e.Q6J("ngModel",v.config.groupBy[c])}}function ct(_,I){if(1&_&&(e.TgZ(0,"mat-accordion"),e.YNc(1,It,17,2,"mat-expansion-panel",3),e.qZA()),2&_){const a=e.oxw(2);e.xp6(1),e.Q6J("ngForOf",a.config.groupBy)("ngForTrackBy",a.trackByIndex)}}function Fe(_,I){if(1&_&&(e.TgZ(0,"mat-option",14),e._uU(1),e.qZA()),2&_){const a=I.$implicit,c=e.oxw(4);e.Q6J("value",a),e.xp6(1),e.hij(" ",c.aggregateOperationTypeInfo[a].title," ")}}function pt(_,I){if(1&_){const a=e.EpF();e.TgZ(0,"mat-expansion-panel",null,11),e.TgZ(2,"mat-expansion-panel-header"),e.TgZ(3,"mat-panel-title"),e.TgZ(4,"span"),e.TgZ(5,"span"),e._uU(6),e.TgZ(7,"bdo",5),e._uU(8),e.qZA(),e._uU(9," \u0628\u0647 \u0639\u0646\u0648\u0627\u0646 "),e.TgZ(10,"bdo",5),e._uU(11),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(12,"mat-form-field",6),e.TgZ(13,"mat-label"),e._uU(14,"\u0646\u0627\u0645 \u0645\u062a\u063a\u06cc\u0631"),e.qZA(),e.TgZ(15,"input",7),e.NdJ("ngModelChange",function(v){return e.CHM(a).$implicit.fieldName=v}),e.qZA(),e.qZA(),e.TgZ(16,"mat-form-field",6),e.TgZ(17,"mat-label"),e._uU(18,"\u0646\u0648\u0639 \u0639\u0645\u0644\u06cc\u062a"),e.qZA(),e.TgZ(19,"mat-select",12),e.NdJ("ngModelChange",function(v){return e.CHM(a).$implicit.type=v}),e.YNc(20,Fe,2,2,"mat-option",13),e.qZA(),e.qZA(),e.TgZ(21,"mat-form-field",6),e.TgZ(22,"mat-label"),e._uU(23,"\u0646\u0627\u0645 \u0645\u062a\u063a\u06cc\u0631 \u062e\u0631\u0648\u062c\u06cc"),e.qZA(),e.TgZ(24,"input",7),e.NdJ("ngModelChange",function(v){return e.CHM(a).$implicit.outputName=v}),e.qZA(),e.qZA(),e.TgZ(25,"div",8),e._UZ(26,"div"),e.TgZ(27,"button",9),e.NdJ("click",function(){const L=e.CHM(a).index;return e.oxw(3).removeOperation(L)}),e.TgZ(28,"mat-icon"),e._uU(29,"delete"),e.qZA(),e._uU(30," \u062d\u0630\u0641 "),e.qZA(),e.qZA(),e.qZA()}if(2&_){const a=I.$implicit,c=e.oxw(3);e.xp6(6),e.hij(" ",c.aggregateOperationTypeInfo[a.type].title," "),e.xp6(2),e.Oqu(a.fieldName),e.xp6(3),e.Oqu(a.outputName),e.xp6(4),e.Q6J("ngModel",a.fieldName),e.xp6(4),e.Q6J("ngModel",a.type),e.xp6(1),e.Q6J("ngForOf",c.aggregateOperationType),e.xp6(4),e.Q6J("ngModel",a.outputName)}}function bt(_,I){if(1&_&&(e.TgZ(0,"mat-accordion"),e.YNc(1,pt,31,7,"mat-expansion-panel",10),e.qZA()),2&_){const a=e.oxw(2);e.xp6(1),e.Q6J("ngForOf",a.config.operations)}}function ot(_,I){if(1&_){const a=e.EpF();e.TgZ(0,"div"),e.TgZ(1,"div",1),e.TgZ(2,"h3"),e._uU(3,"\u06af\u0631\u0648\u0647\u200c\u0628\u0646\u062f\u06cc \u0628\u0631 \u0627\u0633\u0627\u0633"),e.qZA(),e.TgZ(4,"button",2),e.NdJ("click",function(){return e.CHM(a),e.oxw().addGroupBy()}),e.TgZ(5,"mat-icon"),e._uU(6,"add"),e.qZA(),e.qZA(),e.qZA(),e.YNc(7,ct,2,2,"mat-accordion",0),e._UZ(8,"br"),e.TgZ(9,"div",1),e.TgZ(10,"h3"),e._uU(11,"\u0639\u0645\u0644\u06cc\u0627\u062a"),e.qZA(),e.TgZ(12,"button",2),e.NdJ("click",function(){return e.CHM(a),e.oxw().addOperation()}),e.TgZ(13,"mat-icon"),e._uU(14,"add"),e.qZA(),e.qZA(),e.qZA(),e.YNc(15,bt,2,1,"mat-accordion",0),e.qZA()}if(2&_){const a=e.oxw();e.xp6(7),e.Q6J("ngIf",void 0!==a.config.groupBy),e.xp6(8),e.Q6J("ngIf",void 0!==a.config.operations)}}let ht=(()=>{class _{constructor(a){this.cdref=a,this.expandNewGroupBy=!1,this.expandNewOperation=!1,this.aggregateOperationTypeInfo=Mt,this.aggregateOperationType=Object.values(Oe)}ngOnInit(){}ngAfterViewChecked(){var a,c;let v=!1;this.expandNewGroupBy&&(this.expandNewGroupBy=!1,null===(a=this.firstGroupByPanel)||void 0===a||a.open(),v=!0),this.expandNewOperation&&(this.expandNewOperation=!1,null===(c=this.firstOperationPanel)||void 0===c||c.open(),v=!0),v&&this.cdref.detectChanges()}trackByIndex(a,c){return a}addGroupBy(){var a,c;null===(c=null===(a=this.config)||void 0===a?void 0:a.groupBy)||void 0===c||c.unshift(""),this.expandNewGroupBy=!0}removeGroupBy(a){var c,v;null===(v=null===(c=this.config)||void 0===c?void 0:c.groupBy)||void 0===v||v.splice(a,1)}addOperation(){var a,c;null===(c=null===(a=this.config)||void 0===a?void 0:a.operations)||void 0===c||c.unshift({fieldName:"",type:Oe.count,outputName:""}),this.expandNewOperation=!0}removeOperation(a){var c,v;null===(v=null===(c=this.config)||void 0===c?void 0:c.operations)||void 0===v||v.splice(a,1)}}return _.\u0275fac=function(a){return new(a||_)(e.Y36(e.sBO))},_.\u0275cmp=e.Xpm({type:_,selectors:[["app-aggregate-config"]],viewQuery:function(a,c){if(1&a&&(e.Gf(dt,5),e.Gf(St,5)),2&a){let v;e.iGM(v=e.CRH())&&(c.firstGroupByPanel=v.first),e.iGM(v=e.CRH())&&(c.firstOperationPanel=v.first)}},inputs:{config:"config"},decls:1,vars:1,consts:[[4,"ngIf"],[1,"config-title-add"],["mat-icon-button","","color","primary",3,"click"],[4,"ngFor","ngForOf","ngForTrackBy"],["groupByPanel",""],["dir","ltr"],[1,"wide-field"],["matInput","","type","text","required","",1,"propery-input",3,"ngModel","ngModelChange"],[1,"delete-row"],["mat-raised-button","","color","warn",3,"click"],[4,"ngFor","ngForOf"],["operationPanel",""],[3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(a,c){1&a&&e.YNc(0,ot,16,2,"div",0),2&a&&e.Q6J("ngIf",void 0!==c.config)},directives:[B.O5,Ie.lW,He.Hw,Je.pp,B.sg,Je.ib,Je.yz,Je.yK,Tt.Lv,me.KE,me.hX,tt.Nt,ae.Fj,ae.Q7,ae.JJ,ae.On,st.gD,lt.ey],styles:["mat-panel-title[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;-webkit-user-select:none;user-select:none}.drag-handle[_ngcontent-%COMP%]{color:#0000008a;margin-left:var(--density-small);cursor:move}.delete-row[_ngcontent-%COMP%]{display:flex;flex-direction:row-reverse}"]}),_})();const Nt=["diagram"];function Dt(_,I){1&_&&(e.TgZ(0,"h2",21),e.TgZ(1,"mat-icon"),e._uU(2,"info"),e.qZA(),e._uU(3," \u067e\u0631\u062f\u0627\u0632\u0634\u06cc \u0627\u0646\u062a\u062e\u0627\u0628 \u0646\u0634\u062f\u0647 "),e.qZA())}function Wt(_,I){if(1&_&&e._UZ(0,"app-input-config",28),2&_){const a=e.oxw(2);e.Q6J("config",a.selectedNode.config)}}function Ct(_,I){if(1&_&&e._UZ(0,"app-output-config",28),2&_){const a=e.oxw(2);e.Q6J("config",a.selectedNode.config)}}function ye(_,I){if(1&_&&e._UZ(0,"app-filter-config",28),2&_){const a=e.oxw(2);e.Q6J("config",a.selectedNode.config)}}function ve(_,I){if(1&_&&e._UZ(0,"app-sort-config",28),2&_){const a=e.oxw(2);e.Q6J("config",a.selectedNode.config)}}function at(_,I){if(1&_&&e._UZ(0,"app-join-config",28),2&_){const a=e.oxw(2);e.Q6J("config",a.selectedNode.config)}}function pe(_,I){if(1&_&&e._UZ(0,"app-aggregate-config",28),2&_){const a=e.oxw(2);e.Q6J("config",a.selectedNode.config)}}function Ut(_,I){if(1&_){const a=e.EpF();e.TgZ(0,"div",22),e.TgZ(1,"mat-form-field",23),e.TgZ(2,"input",7,24),e.NdJ("ngModelChange",function(v){return e.CHM(a),e.oxw().selectedNode.name=v}),e.qZA(),e.TgZ(4,"button",9),e.TgZ(5,"mat-icon"),e._uU(6,"edit"),e.qZA(),e.qZA(),e.TgZ(7,"mat-hint",25),e.TgZ(8,"mat-icon"),e._uU(9),e.qZA(),e.TgZ(10,"span"),e._uU(11),e.qZA(),e.qZA(),e.qZA(),e.TgZ(12,"div",26),e.YNc(13,Wt,1,1,"app-input-config",27),e.YNc(14,Ct,1,1,"app-output-config",27),e.YNc(15,ye,1,1,"app-filter-config",27),e.YNc(16,ve,1,1,"app-sort-config",27),e.YNc(17,at,1,1,"app-join-config",27),e.YNc(18,pe,1,1,"app-aggregate-config",27),e.qZA(),e.qZA()}if(2&_){const a=e.MAs(3),c=e.oxw();e.xp6(2),e.Q6J("ngModel",c.selectedNode.name),e.xp6(2),e.Udp("visibility",a.focused?"":"hidden"),e.xp6(4),e.ekj("mat-icon-rtl-mirror",c.pipelineNodeInfo[c.selectedNode.type].iconMirrored),e.xp6(1),e.hij(" ",c.pipelineNodeInfo[c.selectedNode.type].iconName," "),e.xp6(2),e.Oqu(c.pipelineNodeInfo[c.selectedNode.type].title),e.xp6(1),e.Q6J("ngSwitch",c.selectedNode.type),e.xp6(1),e.Q6J("ngSwitchCase",c.PipelineNodeType.datasetInput),e.xp6(1),e.Q6J("ngSwitchCase",c.PipelineNodeType.datasetOutput),e.xp6(1),e.Q6J("ngSwitchCase",c.PipelineNodeType.filter),e.xp6(1),e.Q6J("ngSwitchCase",c.PipelineNodeType.sort),e.xp6(1),e.Q6J("ngSwitchCase",c.PipelineNodeType.join),e.xp6(1),e.Q6J("ngSwitchCase",c.PipelineNodeType.aggregate)}}let Jt=(()=>{class _{constructor(){this.pipeline=new be("\u0633\u0646\u0627\u0631\u06cc\u0648 \u062c\u062f\u06cc\u062f"),this.pipelineNodeInfo=je,this.PipelineNodeType=ie}ngOnInit(){}ngAfterContentInit(){const a=this.pipeline.createNode("\u062b\u0628\u062a \u0627\u062d\u0648\u0627\u0644",ie.datasetInput,{x:3,y:5}),c=this.pipeline.createNode("\u0627\u0634\u062e\u0627\u0635 \u0645\u0647\u0645",ie.filter,{x:10,y:4},[a]);this.pipeline.createNode("CIA",ie.datasetOutput,{x:20,y:5},[c]),this.pipeline.loaded.next()}ngAfterViewInit(){}exportPipeline(){this.pipeline.reorder(),console.log(JSON.stringify(this.pipeline.export(),null,4))}}return _.\u0275fac=function(a){return new(a||_)},_.\u0275cmp=e.Xpm({type:_,selectors:[["app-pipeline"]],viewQuery:function(a,c){if(1&a&&e.Gf(Nt,5),2&a){let v;e.iGM(v=e.CRH())&&(c.diagram=v.first)}},decls:46,vars:7,consts:[["color","primary"],["routerLink","/","mat-flat-button","","disableRipple","","color","primary"],[1,"logo-name"],[1,"pipeline-info"],["title","\u0627\u062c\u0631\u0627","mat-icon-button","","mat-raised-button","","mat-tip",""],["color","primary",1,"mat-icon-rtl-mirror"],["floatLabel","never"],["matInput","","type","text",3,"ngModel","ngModelChange"],["pipelineNameInput","matInput"],["matSuffix","","mat-icon-button","","disabled","",2,"color","inherit"],["title","\u062f\u0627\u0646\u0644\u0648\u062f","mat-icon-button","",3,"click"],["mat-button","",3,"matMenuTriggerFor"],["accountMenu","matMenu"],["mat-menu-item","","routerLink","/"],["mat-menu-item","","routerLink","/user/edit_profile"],["mat-menu-item",""],["mode","side","opened","","disableClose",""],["class","no-selected-node",4,"ngIf"],["class","config-pane",4,"ngIf"],[3,"pipeline","selectedNode"],["diagram",""],[1,"no-selected-node"],[1,"config-pane"],[1,"node-name-input"],["nodeNameInput","matInput"],[1,"node-type-info"],[3,"ngSwitch"],[3,"config",4,"ngSwitchCase"],[3,"config"]],template:function(a,c){if(1&a&&(e.TgZ(0,"mat-toolbar",0),e.TgZ(1,"a",1),e.TgZ(2,"mat-icon"),e._uU(3,"call_split"),e.qZA(),e.TgZ(4,"span",2),e._uU(5," \u0633\u0646\u0627\u0631\u06cc\u0648\u0686\u06cc"),e.qZA(),e.qZA(),e.TgZ(6,"span",3),e.TgZ(7,"button",4),e.TgZ(8,"mat-icon",5),e._uU(9," play_arrow "),e.qZA(),e.qZA(),e.TgZ(10,"mat-form-field",6),e.TgZ(11,"mat-label"),e._uU(12,"\u0646\u0627\u0645 \u0633\u0646\u0627\u0631\u06cc\u0648"),e.qZA(),e.TgZ(13,"input",7,8),e.NdJ("ngModelChange",function(L){return c.pipeline.name=L}),e.qZA(),e.TgZ(15,"button",9),e.TgZ(16,"mat-icon"),e._uU(17,"edit"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(18,"nav"),e.TgZ(19,"button",10),e.NdJ("click",function(){return c.exportPipeline()}),e.TgZ(20,"mat-icon"),e._uU(21,"file_upload"),e.qZA(),e.qZA(),e.TgZ(22,"button",11),e.TgZ(23,"mat-icon"),e._uU(24,"person"),e.qZA(),e.qZA(),e.TgZ(25,"mat-menu",null,12),e.TgZ(27,"button",13),e.TgZ(28,"mat-icon"),e._uU(29,"dashboard"),e.qZA(),e._uU(30," \u062f\u0627\u0634\u0628\u0648\u0631\u062f "),e.qZA(),e.TgZ(31,"button",14),e.TgZ(32,"mat-icon"),e._uU(33,"manage_accounts"),e.qZA(),e._uU(34," \u0645\u062f\u06cc\u0631\u06cc\u062a \u062d\u0633\u0627\u0628 "),e.qZA(),e.TgZ(35,"button",15),e.TgZ(36,"mat-icon"),e._uU(37,"exit_to_app"),e.qZA(),e._uU(38," \u062e\u0631\u0648\u062c "),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(39,"mat-sidenav-container"),e.TgZ(40,"mat-sidenav",16),e.YNc(41,Dt,4,0,"h2",17),e.YNc(42,Ut,19,14,"div",18),e.qZA(),e.TgZ(43,"mat-sidenav-content"),e.TgZ(44,"app-diagram",19,20),e.NdJ("selectedNode",function(L){return c.selectedNode=L}),e.qZA(),e.qZA(),e.qZA()),2&a){const v=e.MAs(14),L=e.MAs(26);e.xp6(13),e.Q6J("ngModel",c.pipeline.name),e.xp6(2),e.Udp("visibility",v.focused?"":"hidden"),e.xp6(7),e.Q6J("matMenuTriggerFor",L),e.xp6(19),e.Q6J("ngIf",void 0===c.selectedNode),e.xp6(1),e.Q6J("ngIf",void 0!==c.selectedNode),e.xp6(2),e.Q6J("pipeline",c.pipeline)}},directives:[We.Ye,Ue.yS,Ie.zs,He.Hw,Ie.lW,me.KE,me.hX,tt.Nt,ae.Fj,ae.JJ,ae.On,me.R9,Qe.p6,Qe.VK,Qe.OP,Ue.rH,Xe.TM,Xe.JX,B.O5,Xe.Rh,_e,me.bx,B.RF,B.n9,Ge,Se,en,nn,ut,ht],styles:["[_nghost-%COMP%]{display:grid;grid-template-rows:auto 1fr;height:100%}.mat-toolbar[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between;z-index:2}.logo-name[_ngcontent-%COMP%]{font-size:20px}.pipeline-info[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:baseline;grid-gap:var(--density-large);gap:var(--density-large);font-size:16px}.pipeline-info[_ngcontent-%COMP%]     .mat-form-field-underline{background-color:transparent}nav[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;grid-gap:var(--density-large);gap:var(--density-large)}.mat-sidenav[_ngcontent-%COMP%]{width:30rem}.no-selected-node[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:center;grid-gap:var(--density-normal);gap:var(--density-normal);padding:var(--density-larger);color:#0000008a}.config-pane[_ngcontent-%COMP%]{display:flex;flex-direction:column;min-height:100%;padding:var(--density-large);padding-top:0;grid-gap:var(--density-larger);gap:var(--density-larger)}.config-pane[_ngcontent-%COMP%]     .wide-field{width:100%}.config-pane[_ngcontent-%COMP%]     .propery-input{direction:ltr;text-align:left}.config-pane[_ngcontent-%COMP%]     .config-title-add{display:flex;flex-direction:row;align-items:baseline;justify-content:space-between}.node-name-input[_ngcontent-%COMP%]{font-size:20px}.node-name-input[_ngcontent-%COMP%]     .mat-form-field-underline{background-color:transparent}.node-type-info[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;grid-gap:var(--density-small);gap:var(--density-small)}"]}),_})();var Gt=X(3448);const Ee=[{path:"",component:Jt}];let F=(()=>{class _{}return _.\u0275fac=function(a){return new(a||_)},_.\u0275mod=e.oAB({type:_}),_.\u0275inj=e.cJS({providers:[Pe],imports:[[B.ez,Ue.Bz.forChild(Ee),Gt.q,ae.u5]]}),_})()}}]);